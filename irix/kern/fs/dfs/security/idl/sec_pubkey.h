/*
 * @OSF_COPYRIGHT@
 * COPYRIGHT NOTICE
 * Copyright (c) 1996 Open Software Foundation, Inc.
 * ALL RIGHTS RESERVED (DCE).  See the file named COPYRIGHT.DCE for
 * the full copyright text.
 */
/*
 * HISTORY
 * $Log: sec_pubkey.h,v $
 * Revision 65.3  1999/02/03 22:44:23  mek
 * Convert from IDL to C style include format.
 *
 * Revision 65.2  1997/10/20 19:46:41  jdoak
 * Initial IRIX 6.4 code merge
 *
 * Revision 1.1.2.4  1996/11/13  18:02:50  arvind
 * 	CHFts20136: add sec_pubkey_find_domain() and its output structure.
 * 	[1996/10/15  19:54 UTC  aha  /main/DCE_1.2.2/aha_pk10/1]
 *
 * 	CHFts19896: public key version support
 * 	[1996/09/16  16:47 UTC  aha  /main/DCE_1.2.2/aha_pk9_3/2]
 *
 * 	Change sec_pk_pubkey_p_t to sec_pk_pubkey_t *
 * 	[1996/09/13  23:45 UTC  aha  /main/DCE_1.2.2/aha_pk9_3/1]
 *
 * 	Bug fixes for sec_pubkey
 * 	[1996/07/15  19:43 UTC  aha  /main/DCE122_PK/aha_pk6/2]
 *
 * Revision 1.1.2.3  1996/10/03  14:54:38  arvind
 * 	CHFts19896: public key version support
 * 	[1996/09/16  16:47 UTC  aha  /main/DCE_1.2.2/aha_pk9_3/2]
 * 
 * 	Change sec_pk_pubkey_p_t to sec_pk_pubkey_t *
 * 	[1996/09/13  23:45 UTC  aha  /main/DCE_1.2.2/aha_pk9_3/1]
 * 
 * 	API changes for public key version numbers
 * 	[1996/09/10  21:09 UTC  aha  /main/DCE_1.2.2/aha_pk9_2/2]
 * 
 * 	Support key version in keyfiles
 * 	[1996/09/06  18:20 UTC  aha  /main/DCE_1.2.2/aha_pk9_2/1]
 * 
 * 	Bug fixes for sec_pubkey
 * 	[1996/07/18  17:35 UTC  aha  /main/DCE_1.2.2/3]
 * 
 * 	pass uuids by reference.
 * 	add pk domain support.
 * 	[1996/08/09  17:42 UTC  sommerfeld  /main/DCE122_PK/sommerfeld_pk_kdc/1]
 * 
 * 	Bug fixes for sec_pubkey
 * 	[1996/07/15  19:43 UTC  aha  /main/DCE122_PK/aha_pk6/2]
 * 
 * Revision 1.1.2.2  1996/08/09  12:07:13  arvind
 * 	Bug fixes for sec_pubkey
 * 	[1996/07/15  19:43 UTC  aha  /main/DCE122_PK/aha_pk6/2]
 * 
 * 	Merge-out and bugfixes and Registry work
 * 	[1996/07/13  20:50 UTC  aha  /main/DCE122_PK/aha_pk6/1]
 * 
 * 	Merge PSM, sec_pvtkey, sec_pubkey, dced, base defs for Public Key Login
 * 	[1996/06/11  18:00 UTC  aha  /main/DCE_1.2.2/1]
 * 
 * Revision 1.1.2.1  1996/07/08  20:20:29  arvind
 * 	OSF DCE1.2.2 Drop3
 * 	sec_pubkey.idl,v
 * 	Revision /main/DCE_1.2.2/2  1996/06/13  21:30 UTC  sommerfeld
 * 	remove double indirection.
 * 	[1996/06/11  18:59 UTC  sommerfeld  /main/DCE122_PK/sommerfeld_pk_indir/1]
 * 
 * Revision /main/DCE_1.2.2/1  1996/06/11  18:00 UTC  aha
 * 	Merge PSM, sec_pvtkey, sec_pubkey, dced, base defs for Public Key Login
 * 
 * Revision /main/DCE122_PK/1  1996/06/04  18:53 UTC  psn
 * 	Merge PK work from DCE12_PK off of DCE_1.2 to DCE122_PK off of DCE_1.2.2.
 * 
 * Revision /main/DCE12_PK/3  1996/05/21  18:34 UTC  aha
 * 	Merge bugfixes for dced and sec_pubkey based on code review
 * 
 * Revision /main/DCE12_PK/aha_pk3/1  1996/05/21  13:05 UTC  aha
 * 	Fix sec_pubkey_store pubkey parameter to be simple pointer;
 * 	update comments
 * 
 * Revision /main/DCE12_PK/2  1996/04/17  16:54 UTC  aha
 * 	Add log history
 * 
 * $EndLog$
 */
/* Generated by IDL compiler version OSF DCE T1.2.0-09 */
#ifndef sec_pubkey_v0_0_included
#define sec_pubkey_v0_0_included
#ifndef IDLBASE_H
#include <dce/idlbase.h>
#endif

#ifdef __cplusplus
    extern "C" {
#endif

#ifndef nbase_v0_0_included
#include <dce/nbase.h>
#endif
#ifndef rgynbase_v0_0_included
#include <dce/rgynbase.h>
#endif
typedef error_status_t (*sec_pk_key_retrieval_fn_t)(
#ifdef IDL_PROTOTYPES
    /* [in] */ idl_void_p_t principal,
    /* [in] */ sec_pk_domain_t *domain,
    /* [in] */ sec_pk_usage_flags_t usage,
    /* [in, out] */ unsigned32 *kvno,
    /* [out] */ sec_pk_pubkey_t *pubkey_p
#endif
);
typedef error_status_t (*sec_pk_key_storage_fn_t)(
#ifdef IDL_PROTOTYPES
    /* [in] */ idl_void_p_t principal,
    /* [in] */ sec_pk_domain_t *domain,
    /* [in] */ sec_pk_usage_flags_t usage,
    /* [in, out] */ unsigned32 *kvno,
    /* [in] */ sec_pk_pubkey_t *pubkey_p
#endif
);
typedef struct  {
sec_pk_domain_t domain;
sec_pk_key_retrieval_fn_t r;
sec_pk_key_storage_fn_t s;
} sec_pk_domain_def;
extern error_status_t sec_pubkey_define_domain(
#ifdef IDL_PROTOTYPES
    /* [in] */ sec_pk_domain_t *domain,
    /* [in] */ sec_pk_key_retrieval_fn_t retrieve,
    /* [in] */ sec_pk_key_retrieval_fn_t store
#endif
);
extern sec_pk_domain_def *sec_pubkey_find_domain(
#ifdef IDL_PROTOTYPES
    /* [in] */ sec_pk_domain_t *domain
#endif
);
extern error_status_t sec_pubkey_store(
#ifdef IDL_PROTOTYPES
    /* [in] */ idl_void_p_t principal,
    /* [in] */ sec_pk_domain_t *domain,
    /* [in] */ sec_pk_usage_flags_t usage,
    /* [in, out] */ unsigned32 *kvno,
    /* [in] */ sec_pk_pubkey_t *pubkey_p
#endif
);
extern error_status_t sec_pubkey_retrieve(
#ifdef IDL_PROTOTYPES
    /* [in] */ idl_void_p_t principal,
    /* [in] */ sec_pk_domain_t *domain,
    /* [in] */ sec_pk_usage_flags_t usage,
    /* [in, out] */ unsigned32 *kvno,
    /* [out] */ sec_pk_pubkey_t *pubkey_p
#endif
);
extern error_status_t sec_pubkey_read_keyfile(
#ifdef IDL_PROTOTYPES
    /* [in] */ idl_char *keyfilepath,
    /* [in] */ unsigned32 *file_fmt_ver_p,
    /* [in, out] */ unsigned32 *key_version_p,
    /* [out] */ sec_pk_data_t *key_ret_p
#endif
);
extern error_status_t sec_pubkey_write_keyfile(
#ifdef IDL_PROTOTYPES
    /* [in] */ idl_char *keyfilepath,
    /* [in] */ sec_pk_data_t *key_p,
    /* [in, out] */ unsigned32 *key_version_p,
    /* [out] */ unsigned32 *file_fmt_ver_p
#endif
);

#ifdef __cplusplus
    }

#endif
#endif
