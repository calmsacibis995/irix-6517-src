<HTML>
<HEAD>
<TITLE>Diskless Workstation Administration Guide
</TITLE></HEAD>
<BODY BGCOLOR="#F9F9F9">
<!-- dtlbook2html START -->
<HR noshade>
<FONT SIZE="-1"><A HREF="index.html"><B>Diskless Workstation Administration Guide</B></A><P><A HREF="Diskless_AG-3.html"><IMG SRC="images/b_prev.gif" ALT="Prev" WIDTH=17 HEIGHT=17 BORDER=0 ALIGN=TOP></A>&nbsp; <A HREF="Diskless_AG-5.html"><IMG SRC="images/b_next.gif" ALT="Next" WIDTH=17 HEIGHT=17 BORDER=0 ALIGN=TOP></A>&nbsp;&nbsp;&nbsp;&nbsp;Table of Contents:&nbsp;&nbsp;<A HREF="index.html">Basic</A>&nbsp;&nbsp;|&nbsp;&nbsp;<A HREF="fulltoc.html">Expanded</A></P></FONT>
<!-- dtlbook2html END -->

<A NAME=X></A><HR noshade><A NAME="SGI1"></A>
<H1 class="SGITPL-head">Chapter 1<BR> Understanding Diskless Operation</h1><p>This chapter explains the fundamentals of diskless operation. It contains the following sections:<ul><li><A HREF="Diskless_AG-4.html#SGI2" TARGET=_top>"Setting Up User Accounts"</A><br><br><li><A HREF="Diskless_AG-4.html#SGI3" TARGET=_top>"Diskless Client-Server Model"</A><br><br><li><A HREF="Diskless_AG-4.html#SGI8" TARGET=_top>"Diskless Tree"</A><br><br><li><A HREF="Diskless_AG-4.html#SGI12" TARGET=_top>"Influence of Client Classes"</A></ul><HR noshade><A NAME="SGI2"></A>
<h2 class="SGITPL-head">Setting Up User Accounts</h2><p>The general procedure for setting up user accounts is provided in <i>IRIX Admin: System Configuration and Operation</i>, in the section titled, "Setting Up a Home Directory for a New User." Because the <i>/usr</i> directory is readonly mode on diskless systems, you should either place home directories in an alternate location or make the <i>/usr/people</i> directory in the share tree a symlink to another directory (<i>/home</i> is a conventional location).<HR noshade><A NAME="SGI3"></A>
<h2 class="SGITPL-head">Diskless Client-Server Model</h2><p>Diskless software enables computers on a local area network (LAN) to operate using the disk space, operating system, and support software supplied by a remote host. The relationship between the <i>server</i> (the computer supplying the resources) and the <i>client</i> (the computer using the resources) is dependent upon network protocols to boot the client over the network link, and upon IRIX, IRIX utilities, and NFS services to sustain the client after it is booted. <p><A HREF="Diskless_AG-4.html#SGITF1" TARGET=_top>Figure 1-1</A> illustrates a diskless configuration and the process by which clients obtain boot files from a server. <p><p> <A NAME="SGITF1"></A><IMG SRC="images/Fig1-1.gif" WIDTH=571 HEIGHT=506 ALT="Fig1-1.gif" BORDER=0 ALIGN=absmiddle><p><B>Figure 1-1 :  </B>Elements of Diskless Service<p><br><A NAME="SGI4"></A>
<h3 class="SGITPL-head">PROM Resources</h3><p>The PROM on a diskless client must include the Internet Bootstrap Protocol, <i>bootp</i>, the network protocol that initiates remote booting. During the client's power-up sequence, <i>bootp</i> sends a request for a boot file (the <i>unix</i> image) to the diskless server. The server downloads the client's boot file using the Trivial File Transfer Protocol, <i>tftp</i>. (The details of this process are explained in <A HREF="Diskless_AG-10.html#SGI6" TARGET=_top>"Debugging the Boot Process" in Chapter 7</A>.) <A NAME="SGI5"></A>
<h3 class="SGITPL-head">IRIX and IRIX Utilities</h3><p>Client installations of IRIX and its utilities are maintained in dedicated directories on the server. With the exception of the kernel, which resides in client memory after it is downloaded, the client retrieves and executes operating system programs and utilities from the server on an as-needed basis. The swap space that is needed for program execution is also furnished by the server (see <A HREF="Diskless_AG-4.html#SGI7" TARGET=_top>"Local Disk Resources"</A> for exceptions). <A NAME="SGI6"></A>
<h3 class="SGITPL-head">NFS Resources</h3><p>With the exception of the <i>unix</i> boot file, all files needed by a diskless client, including the IRIX operating system and IRIX utilities, are provided by the NFS export and mount facilities. For this reason, a diskless server must be running NFS to export the necessary directories, and the NFS application must be available to each diskless client so that it can mount the exported directories. In addition to the required filesystems that it mounts from the server, a diskless client can also mount NFS filesystems and directories from other remote hosts.<A NAME="SGI7"></A>
<h3 class="SGITPL-head">Local Disk Resources</h3><p>A diskless client can be equipped with a local disk of its own. The local disk on such a client does not supply the minimal operating system, and the disk is not used for booting, as it is on conventional standalone systems. Rather, the client obtains booting and operating system resources from the server, and the local disk is reserved for specialized uses. Commonly, the disk is configured to provide local swap space or the <i>/tmp</i> directory for the client.<HR noshade><A NAME="SGI8"></A>
<h2 class="SGITPL-head">Diskless Tree</h2><p>The software on a server that is dedicated to supporting its diskless clients is referred to as the <i>diskless tree</i>. Ordinarily, the diskless tree occupies an entire filesystem, but a diskless tree can also be configured as a portion of an existing filesystem. <p>All diskless trees are composed of three basic elements: <i>share tree</i>s, <i>client trees</i>, and <i>swap trees</i>. The overall size and configuration of a diskless tree depends on the number of clients that it supports and the number of IRIX versions it offers.<p><A HREF="Diskless_AG-4.html#SGITF2" TARGET=_top>Figure 1-2</A> illustrates the diskless tree for a server supporting three diskless clients on a single version of IRIX. <p><p> <A NAME="SGITF2"></A><IMG SRC="images/Fig1-2.gif" WIDTH=486 HEIGHT=307 ALT="Fig1-2.gif" BORDER=0 ALIGN=absmiddle><p><B>Figure 1-2 :  </B>Simple Diskless Tree<p><br><A NAME="SGI9"></A>
<h3 class="SGITPL-head">Share Tree</h3><p>The share tree contains the portion of the IRIX operating system that can be shared by a group of diskless clients. This includes IRIX kernel modules, hardware-specific files for each workstation model that the client supports, IRIX commands, and IRIX files that cannot be modified. The purpose of the share tree is to minimize the amount of disk space that the diskless implementation requires when it includes more than one client. <p>A diskless tree contains one share tree for each release of IRIX that it supports. Two share trees are required to run a 32-bit and a 64-bit version of the same operating system (an IRIX 6.5 share tree for 32-bit clients and a separate IRIX 6.5 for 64-bit clients, for example). The number of share trees that a server can support depends on the amount of disk space it contains and the usage patterns of its clients. <p><A HREF="Diskless_AG-4.html#SGITF3" TARGET=_top>Figure 1-3</A> illustrates what happens to the diskless tree shown in <A HREF="Diskless_AG-4.html#SGITF2" TARGET=_top>Figure 1-2</A> when an additional IRIX release is added. <p><p> <A NAME="SGITF3"></A><IMG SRC="images/Fig1-3.gif" WIDTH=531 HEIGHT=400 ALT="Fig1-3.gif" BORDER=0 ALIGN=absmiddle><p><B>Figure 1-3 :  </B>Diskless Tree with Multiple Share Trees<p><br><A NAME="SGI10"></A>
<h3 class="SGITPL-head">Client Tree</h3><p>A client tree contains the IRIX kernel for an individual client, the specific hardware files that the client requires, and private files such as <i>/etc/hosts</i>, <i>/etc/fstab, </i>and <i>/etc/sys_id</i>. All other operating system files reside on the share tree. The diskless tree contains a client tree for each client that it supports. <A NAME="SGI11"></A>
<h3 class="SGITPL-head">Swap Tree</h3><p>The swap tree provides the disk space that an individual client needs for virtual memory operations. It contains a single file whose contents support the virtual memory function of that client. The diskless tree typically contains a swap tree for every client that it supports; however, if a client contains a disk, the local disk may supply its swap space (details are explained in <A HREF="Diskless_AG-9.html#SGI10" TARGET=_top>"Adding a Local Swap Partition"</A>). <HR noshade><A NAME="SGI12"></A>
<h2 class="SGITPL-head">Influence of Client Classes</h2><p>A <i>class</i> is a group of workstations that contain identical CPU and graphics hardware. A class is generally (but not always) designated by a model name, such as O2<sup>   (TM)       </sup> or Octane<sup>   (TM)       </sup>. <p>A client class requires its own hardware-specific software modules. For this reason, a share tree must contain all the hardware-specific modules needed to support every class in its client base. By contrast, a client tree contains only those hardware-specific modules needed to support the individual client that is using it (details are explained in <A HREF="Diskless_AG-6.html#SGI5" TARGET=_top>"Client Hardware Variables in the Share Tree Configuration File"</A>).
      

<!-- dtlbook2html START -->
<HR noshade>
<FONT SIZE="-1"><A HREF="index.html"><B>Diskless Workstation Administration Guide</B></A><P><A HREF="Diskless_AG-3.html"><IMG SRC="images/b_prev.gif" ALT="Prev" WIDTH=17 HEIGHT=17 BORDER=0 ALIGN=TOP></A>&nbsp; <A HREF="Diskless_AG-5.html"><IMG SRC="images/b_next.gif" ALT="Next" WIDTH=17 HEIGHT=17 BORDER=0 ALIGN=TOP></A>&nbsp;&nbsp;&nbsp;&nbsp;Table of Contents:&nbsp;&nbsp;<A HREF="index.html">Basic</A>&nbsp;&nbsp;|&nbsp;&nbsp;<A HREF="fulltoc.html">Expanded</A></P></FONT>
<!-- dtlbook2html END -->

<HR noshade>
</BODY>
</HTML>
