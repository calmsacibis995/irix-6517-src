<HTML>
<HEAD>
<TITLE>Diskless Workstation Administration Guide
</TITLE></HEAD>
<BODY BGCOLOR="#F9F9F9">
<!-- dtlbook2html START -->
<HR noshade>
<FONT SIZE="-1"><A HREF="index.html"><B>Diskless Workstation Administration Guide</B></A><P><A HREF="Diskless_AG-5.html"><IMG SRC="images/b_prev.gif" ALT="Prev" WIDTH=17 HEIGHT=17 BORDER=0 ALIGN=TOP></A>&nbsp; <A HREF="Diskless_AG-7.html"><IMG SRC="images/b_next.gif" ALT="Next" WIDTH=17 HEIGHT=17 BORDER=0 ALIGN=TOP></A>&nbsp;&nbsp;&nbsp;&nbsp;Table of Contents:&nbsp;&nbsp;<A HREF="index.html">Basic</A>&nbsp;&nbsp;|&nbsp;&nbsp;<A HREF="fulltoc.html">Expanded</A></P></FONT>
<!-- dtlbook2html END -->

<A NAME=X></A><HR noshade><A NAME="SGI1"></A>
<H1 class="SGITPL-head">Chapter 3<BR> Creating a Share Tree</h1><p>To create a new share tree, you run the <i>/var/boot/share_setup</i> program to create a share tree configuration file that specifies the requirements of your share tree. To modify a share tree configuration file that already exists, use a text editor. When the configuration file is finished, you run the share tree installation script, <i>/var/boot/share_inst</i>, which installs the share tree software based on the specifications that you provided in the configuration file. This process is repeated for each share tree that you plan to run (see <A HREF="Diskless_AG-5.html#SGITF7" TARGET=_top>Figure 2-5</A> for an illustration of this process).<p>This chapter provides the information and procedures that are needed to configure and install a share tree. It contains the following sections:<ul><li><A HREF="Diskless_AG-6.html#SGI2" TARGET=_top>"Share Tree Configuration File"</A><br><br><li><A HREF="Diskless_AG-6.html#SGI6" TARGET=_top>"Creating a New Share Tree Configuration File"</A><br><br><li><A HREF="Diskless_AG-6.html#SGI7" TARGET=_top>"Editing a Share Tree Configuration File"</A><br><br><li><A HREF="Diskless_AG-6.html#SGI8" TARGET=_top>"Verifying the Share Tree Configuration File"</A><br><br><li><A HREF="Diskless_AG-6.html#SGI9" TARGET=_top>"Installing the Share Tree"</A><br><br><li><A HREF="Diskless_AG-6.html#SGI10" TARGET=_top>"share_inst Command"</A></ul><P><B>Note: </B>To update an existing share tree with a newer software version, use the information in <A HREF="Diskless_AG-8.html#X" TARGET=_top>Chapter 5, "Updating Software on Diskless Trees."</A><HR noshade><A NAME="SGI2"></A>
<h2 class="SGITPL-head">Share Tree Configuration File</h2><p>The share tree configuration file contains a list of variables that specify the diskless server and its clients. Specifically, these variables identify the host that will act as the diskless server, the name and location of the share tree, and the hardware components for each client class that the tree supports (see <A HREF="Diskless_AG-4.html#SGI12" TARGET=_top>"Influence of Client Classes"</A> for background information). <P><B>Note: </B>Your server should already have a default copy of a share tree configuration file in <i>/var/boot/share.dat</i> as a result of installing Diskless software.<p>To create a new share tree configuration file, you can run the <i>/var/boot/share_setup</i> program, or you can create a working copy of the <i>/var/boot/share.dat</i> file that was stored on the server during the Diskless software installation process. If you plan to modify an existing share tree configuration file, you must use a text editor to make your changes.<p>Share tree configuration files are stored in the <i>/var/boot</i> directory. This directory contains a separate configuration file for each share tree that it supports. For example, if a server supports three share trees, then the <i>/var/boot</i> directory contains three separate share tree configuration files. <p>By convention, a share tree configuration file is named for the release of IRIX that the tree contains; a <i>.dat</i> extension is appended to its name. For example, this file contains configuration information for a share tree of IRIX 6.5 for 32-bit systems:<pre>/var/boot/IRIX_65-32.dat</pre><P><B>Note: </B>Configuration information for share trees supporting 32-bit and 64-bit versions of the same IRIX release must be stored in separate share tree configuration files.<A NAME="SGI3"></A>
<h3 class="SGITPL-head">Server Variables in the Share Tree Configuration File</h3><p>Server variables in a share tree configuration file specify the host that will act as the diskless server and whether NIS will provide any client information. Example 3-1     illustrates the server specification section of <i>share.dat</i>.<p><B>Example 3-1 : </B>Server Specification Section of share.dat <pre></pre><PRE># SERVER ENVIRONMENT SETUP
#
#       HOSTNAME  :  Do not change unless you understand network topologies.
#                    This variable should contain the name of the interface
#                    that is connected directly to the client machines.
#                    For example, a server machine "foobar" has two interfaces.
#                    Its primary interface is FDDI, and its secondary interface
#                    is ethernet.  The client machines are on an ethernet
#                    subnet connected to foobar's ethernet interface.  foobar's
#                    ethernet interface is named "ether-foobar".  In this
#                    case, the HOSTNAME variable below needs to be set to
#                    "ether-foobar" because hostname will return "foobar".
#       SHAREHOST :  Do not change
#       SERVER_NIS : yes - server is running NIS.Implies NIS name lookup  <br>#                        during installation. Please note that after<br>#                        yp_boot_param runs, it takes time for the information<br>#                        to propagate back to the diskless server from the<br>#                        NIS master. Also, this option is only fully functional<br>#                        for SGI NIS masters.
#                    no -- server is using local naming service.
#
HOSTNAME="`hostname`"
SHAREHOST="$HOSTNAME"
SERVER_NIS="no"</PRE><p>The variables in the server specification section have these meanings:<dl><dt><var>HOSTNAME</var><dd><br>Specifies the  hostname of the diskless server. The default setting for <var>HOSTNAME</var> is the value returned by the <i>hostname</i> command. In most cases, the default setting is appropriate and should not be changed (see the note that follows for exceptions).<P><B>Note: </B>If your diskless server has multiple network interfaces, <var>HOSTNAME</var> must be set to the name assigned to the network interface where the diskless LAN is attached. <dd><br>For example, suppose your server has two network interfaces: an FDDI network interface with the  hostname <var>calvin</var>, and an Ethernet interface to the diskless LAN with the  hostname <var>ether-calvin</var>. In this example, the correct setting is <var>HOSTNAME</var>="<var>ether-calvin</var>".<dt><br><var>SHAREHOST</var><dd><br>Specifies the hostname of the server. The default setting is the value specified by the <var>HOSTNAME</var> variable. Do not change this value.<dt><br><var>SERVER_NIS</var><dd><br>Specifies whether to obtain the client's  hostname and address from the NIS database. The default setting is <var>no</var>. <dd><br>Set <var>SERVER_NIS</var> to <var>yes</var> if you want <i>share_inst</i> to obtain client names, addresses, and filesystem locations from the NIS hosts. When you set <var>SERVER_NIS</var> to <var>yes</var>, <i>share_inst</i> makes an entry for this client in the bootparams map on the NIS master server. This assumes that the master server is a Silicon Graphics system.to <P><B>Note: </B>When you use an NIS server, expect some delay before client entries are propagated to other NIS servers.<dd><br>Set <var>SERVER_NIS</var> to <var>no</var> if you want <i>share_inst</i> to obtain client addresses from the server's local <i>/etc/hosts</i> file. If you set <var>SERVER_NIS</var> to no, <i>share_inst</i> will enter filesystem locations for this client in the local server's <i>bootparams</i> file.<P><B>Note: </B>If the NIS master is not a Silicon Graphics system and you want a client entry in the master's NIS bootparams map, set <var>SERVER_NIS</var> to <i>no</i>; then, after you run <i>share_inst</i>, move the <i>bootparams</i> lines from the diskless server's <i>/etc/bootparams</i> file<i></i> to the map on the NIS master.</dl><P><B>Note: </B>Diskless Workstation software installation scripts do not perform name and address resolution by means of DNS. However, DNS is supported after the share and client trees are installed.<A NAME="SGI4"></A>
<h3 class="SGITPL-head">Share Tree Variables in the Share Tree Configuration File</h3><p>Share tree variables in a share tree configuration file identify the directory that contains the share tree for a given release of IRIX. Example 3-2     illustrates the share tree specification section of <i>share.dat</i>.<p><B>Example 3-2 : </B>Share Tree Specification Section of share.dat <pre></pre><PRE># SHARE TREE SETUP
#
#       DISKLESS  : directory where all the share and client trees reside.
#       SHARE     : Do not change
#
DISKLESS="/diskless"
SHARE="$DISKLESS/share/$RELEASE"
The variables in the share tree specification section of <i>share.dat</i> have these meanings:</PRE><dl><dt><var>DISKLESS</var><dd><br>Specifies the pathname to the root of the diskless tree; that is, this directory contains the subdirectories for the share tree, client trees, and swap trees (see <A HREF="Diskless_AG-5.html#SGITF4" TARGET=_top>Figure 2-2</A>). <dd><br>Set <var>DISKLESS</var> to the pathname of the root of your diskless tree. <P><B>Note: </B>When you execute <var>share_inst</var>, it reads only the first 37 characters of the combined characters in <var>SHARE</var> and <var>DISKLESS</var>, so you might need to limit the character-count of this variable.<dt><br><var>SHARE</var><dd><br>Specifies the pathname to the root of the share tree (see <A HREF="Diskless_AG-5.html#SGITF4" TARGET=_top>Figure 2-2</A>). The default setting for <var>SHARE</var> ($DISKLESS/<i>share/$RELEASE</i>) specifies the root of the share tree. Do not change this setting. <dd><br>The default setting assigns to $<var>DISKLESS</var> the value that you specified for <var>DISKLESS</var>, the previous variable. This setting assigns to <var>$RELEASE</var> the name of the share tree, which you supply as an argument to the <i>share_inst</i> command when installing the share tree (see <A HREF="Diskless_AG-6.html#SGI11" TARGET=_top>"Share Tree Installation Procedure"</A>). </dl><A NAME="SGI5"></A>
<h3 class="SGITPL-head">Client Hardware Variables in the Share Tree Configuration File</h3><p>Client hardware variables in a share tree configuration file specify the architectural components of the client models that the tree supports. These entries determine the hardware-specific files that are included in the share tree. During client tree installation, the hardware specific modules that an individual workstation needs are selected from the share tree and installed into its client tree. <p>By default, <i>share_setup</i> assumes that a share tree supports all client classes listed in <A HREF="Diskless_AG-5.html#SGITF1" TARGET=_top>Table 2-1</A>. However, to reduce the amount of disk space that the share tree requires, include only the client classes that will use the tree.<p><A HREF="Diskless_AG-6.html#SGITF1" TARGET=_top>Figure 3-1</A> illustrates the hardware-specific modules that a share tree must contain to build the client trees for four classes. <p><p> <A NAME="SGITF1"></A><IMG SRC="images/Fig3-1.gif" WIDTH=374 HEIGHT=247 ALT="Fig3-1.gif" BORDER=0 ALIGN=absmiddle><p><B>Figure 3-1 :  </B>Hardware Modules for Multiple Classes<p><br><p>Example 3-3     illustrates the hardware specification section of <i>share.dat</i>.<p><B>Example 3-3 : </B>Hardware Specification Section of share.dat<pre></pre><PRE># CLIENT ARCHITECTURE SETUP
#
# The following variables are set using the table provided in client.dat.
# Please consult that file for valid values.
# 
# It is no longer possible to install a share tree with all possible
#       architectures. The MODE variable must be set to either
#       (32bit or 64bit).  This is due to 32bit kernels or 64bit
#       kernels running on the client.  So a share tree can contain
#       only 32bit kernels or 64bit kernels, but not both.
# 
#       To configure a share tree to install 32bit (or 64bit) kernels
#       in the /usr tree, set the MODE variable to 32bit or 64bit. If a 
#       subset of client classes are to be installed, set all 5 variables
#       for each class. The example below shows settings for an R4000  
#       Indigo with LIGHT graphics.  (The MACH variable is obsolete.)

#CPUBOARD="IP20"
#CPUARCH=R4000
#GFXBOARD="LIGHT -mSUBGR=LG1MC"
#VIDEO=" "
#MODE=" "
#
# To install multiple architectures, set the 5 variables as shown below.
# Notice that the initial symbols CPUBOARD, CPUARCH, and GFXBOARD are
# imbedded in the values for the respective variables. The example below
# contains an R5k O2 with CRIME graphics and an R4k Indy with
# NEWPORT/NG1 graphics. (The MACH variable is obsolete.)
#
#CPUBOARD="IP20 -mCPUBOARD=IP12"
#CPUARCH="R4000 -mCPUARCH=R3000"
#MACH="IP20 -mIP12"
#GFXBOARD="LIGHT -mSUBGR=LG1MC -mGFXBOARD=EXPRESS -mSUBGR=EXPRESS"
#VIDEO=" "</PRE><P><B>Note: </B>Use <A HREF="Diskless_AG-5.html#SGITF1" TARGET=_top>Table 2-1</A>, Example 4-2    , or the tables in the <i>client.dat</i> file to determine the components in your client workstations. Be sure you include the components of all workstation models that the share tree will support.<p>The variables in the hardware specification section of <i>share.dat</i> have these meanings:<dl><dt><var>CPUBOARD</var><dd><br>Specifies the CPU subsystems in client workstations. You can assign these values to <var>CPUBOARD</var>:<PRE>IP20
IP22
IP28
IP30
IP32</PRE><dd><br>Set <i>CPUBOARD</i> to the values needed by your clients. If your clients include different workstation models, you might need to assign multiple settings to this variable (see <A HREF="Diskless_AG-5.html#SGITF1" TARGET=_top>Table 2-1</A> for details). Check the samples in Example 3-3     (or the <i>client.dat</i> file) for the correct format of your settings. <dt><br><var>CPUARCH</var><dd><br>Specifies the type of CPU architecture in client workstations. You can assign these values to <var>CPUARCH</var>:<PRE>R4000 
R5000 
R10000</PRE><dd><br>Set <i>CPUARCH</i> to the values needed by your clients. If your clients include different workstation models, you might need to assign multiple settings (see <A HREF="Diskless_AG-5.html#SGITF1" TARGET=_top>Table 2-1</A> for details). Check the samples in Example 3-3     (or the <i>client.dat</i> file) for the correct format of your settings. <dt><br><var>GFXBOARD</var><dd><br>Specifies the type of graphics subsystems in client workstations. A subgroup designation is also required in this setting. You can assign these values to <var>GFXBOARD</var>: <PRE>LIGHT    -mSUBGR= LG1MC
EXPRESS  -mSUBGR= EXPRESS
NEWPRESS -mSUBGR= NEWPRESS
NEWPORT  -mSUBGR= NG1
EXPRESS  -mSUBGR= I2_64
MGRAS    -mSUBGR= I2_64
MGRAS    -mSUBGR= RACER
CRIME    -mSUBGR= CRM</PRE><dd><br>Set <i>GFXBOARD</i> to the values needed by your clients. If your clients include different workstation models, you might need to assign multiple settings. Check the samples in Example 3-3     (or the <i>client.dat</i> file) for the correct format of your settings.<dt><br><var>VIDEO</var><dd><br>Specifies the video chip. The default setting is null, which indicates a system with no on-board video hardware. You can assign these values to VIDEO:<PRE>VINO
VICE</PRE><dt><var>MODE</var><dd><br>Specifies the version of an IRIX release. You can assign these values to MODE:<PRE>32bit
64bit
</PRE></dl><HR noshade><A NAME="SGI6"></A>
<h2 class="SGITPL-head">Creating a New Share Tree Configuration File</h2><p>Use the <i>/var/boot/share_setup</i> program to create a separate configuration file for each share tree in your diskless implementation. Remember that a 32-bit and a 64-bit version of a particular IRIX release (such as IRIX 6.5) require separate share trees and therefore separate share tree configuration files.<P><B>Note: </B>If you prefer to use an editor to create this file, or if you need to modify an existing share tree configuration file, use the information in <A HREF="Diskless_AG-6.html#SGI7" TARGET=_top>"Editing a Share Tree Configuration File"</A> instead of this procedure.<p>This procedure explains how to create a new share tree configuration file with <i>share_setup</i>. <ol><li>Create the root directory for the diskless tree.<p>See <A HREF="Diskless_AG-5.html#SGI7" TARGET=_top>"Diskless Filesystems"</A>.<br><br><li>Start <i>share_setup</i>.<PRE># <B>cd /var/boot</B>
# <B>./share_setup</B></PRE><p>After your entry, you see this prompt:<PRE>This program will help you create a share tree configuration file for a single IRIX version. Create a separate share tree configuration file for a 32-bit and a 64-bit version of the same IRIX release.
Retrieving system information...
Hostname is <var>hostname</var>
If you wish to use a different interface name for this host, enter it now (press return if hostname is ok):</PRE><li>Press Enter to accept the default interface name or enter a different interface name.<p>The <i>share_setup</i> program retrieves the name of the primary interface on the host where it is running. If clients are attached to a different interface, enter the other interface name at this prompt. Otherwise, press the Enter key to accept the hostname that <i>share_setup</i> retrieved. After you enter the interface name, this prompt is displayed:<PRE>Do you want client boot information stored on <var>hostname</var> (y/n)?</PRE><li>Specify whether client boot information should be stored on <var>hostname</var>.<p>The <i>share_setup</i> program assumes that client names and addresses are stored in the local copy of the <i>/etc/hosts</i> file. If client information is stored locally, answer yes. This prompt is displayed after your entry:<PRE>Enter the root directory of the diskless tree (e.g. /diskless):</PRE><p>Client name and address information and information about client filesystems can be stored on an NIS host in its <i>/etc/bootparams</i> file rather than in the local <i>/etc/hosts</i> file. If this information is stored on an NIS host, answer no to the previous question. This prompt is displayed after your entry (the <i>updaters</i> file allows users on the <var>hostname</var> system to write changes to the NIS database):<PRE>Make sure <var>hostname</var> is listed in the server's /etc/updaters file
Enter the root directory of the diskless tree (e.g. /diskless):</PRE><li>Enter the name of the root directory for the diskless tree.<p>See <A HREF="Diskless_AG-5.html#SGI7" TARGET=_top>"Diskless Filesystems"</A> if you need help. After your entry, this prompt is displayed:<PRE>Enter the name of the share tree (e.g. IRIX65):</PRE><li>Enter the directory name of the share tree.<p>Enter only the directory name for the share tree; do not include a pathname in your entry. The <i>share_setup</i> program will construct the pathname for you. After your entry, <i>share_setup</i> posts the complete pathname of the share tree (<i>share_dir</i> in the example below) and prompts for the name of the share tree configuration file:<PRE>Share tree will be installed at /diskless/share/share_dir
Enter the name of the share tree configuration file (no extension please):</PRE><li>Enter the filename for the share tree configuration file.<p>After your entry, <i>share_setup</i> posts the complete pathname of the share tree configuration file (<i>/var/boot/myfile.dat</i> in the example below) and prompts you to press Enter to continue:<PRE>Share tree configuration file will be written at /var/boot/myfile.dat
Press [Enter] to continue</PRE><li>Press Enter to begin specifying the hardware components of your clients.<p>After your entry, this prompt is displayed:<PRE>***CLIENT ARCHITECTURE INFORMATION***
*** PLEASE READ CAREFULLY ***
If you are using a 32 bit machine as your diskless server, you can only <br>install share trees for 32 bit platforms.  If you have a 64 bit server, <br>you can install either a 32 or a 64 bit share tree.
Do you want to install a share tree for all client platforms (y or n):</PRE><li>Answer yes or no to this question.<p>If you answer yes, <i>share_setup</i> creates a configuration file that contains all the software needed to support all classes of Silicon Graphics clients (see <A HREF="Diskless_AG-6.html#SGI5" TARGET=_top>"Client Hardware Variables in the Share Tree Configuration File"</A> for more information).<p>If you answer no, <i>share_setup</i> props you to specify the hardware components in one class. To include additional classes in the tree, answer yes when you see this prompt: <PRE>Are there more client classes using this share tree (y/n)?</PRE><p>When you finish specifying the hardware components for all classes, <i>share_setup</i> saves the information in the configuration file under the name that you specified in step 7.    <br><br><li>Verify that your share tree configuration file executes.<p>See the information in <A HREF="Diskless_AG-6.html#SGI8" TARGET=_top>"Verifying the Share Tree Configuration File"</A> for this step.</ol><HR noshade><A NAME="SGI7"></A>
<h2 class="SGITPL-head">Editing a Share Tree Configuration File</h2><p>To modify an existing share tree configuration file, you must use a text editor to make your changes. You can also use a text editor instead of <i>share_setup</i> to create a new share tree configuration file.<p>When you install Diskless software on a server, a default version of the configuration file is stored at <i>/var/boot/share.dat</i>. If you are creating a new configuration file with a text editor, use a working copy of <i>share.dat</i> as the source for the new file. (Do not edit the original version of <i>share.dat</i>; make a copy of it and make your changes to the copy.) Some values in the default version of <i>share.dat</i>, though not all, must be changed to reflect conditions in your diskless implementation. <p>Refer to these sections for information on setting variables when you edit a working copy of <i>share.dat</i>:<ul><li><A HREF="Diskless_AG-6.html#SGI3" TARGET=_top>"Server Variables in the Share Tree Configuration File"</A><br><br><li><A HREF="Diskless_AG-6.html#SGI4" TARGET=_top>"Share Tree Variables in the Share Tree Configuration File"</A><br><br><li><A HREF="Diskless_AG-6.html#SGI5" TARGET=_top>"Client Hardware Variables in the Share Tree Configuration File"</A></ul><HR noshade><A NAME="SGI8"></A>
<h2 class="SGITPL-head">Verifying the Share Tree Configuration File</h2><p>The share tree configuration file is an executable shell script. After you create a new configuration file or edit an existing one, check its syntax by executing it, as shown in this example: <pre># sh IRIX_65-32.dat</pre><p>If a prompt is returned after your entry, the syntax in your configuration file is correct. If you receive any other response, check your entries in the file for syntax errors. <P><B>Note: </B>This command does not check the validity of the settings in a share tree configuration file; it checks file syntax only.<HR noshade><A NAME="SGI9"></A>
<h2 class="SGITPL-head">Installing the Share Tree</h2><p>To build a share tree, enter the <i>share_inst</i> command and the name of the share tree as a command argument. The <i>share_inst</i> command automatically calls <i>inst</i> to install the software from its installation location. The following example illustrates a <i>share_inst</i> command entry. Notice that the <i>.dat</i> extension is omitted from the filename of the share tree configuration file: <PRE># share_inst -r 32-bitIRIX_6.5 </PRE><p>See <A HREF="Diskless_AG-5.html#SGITF2" TARGET=_top>Table 2-2</A> for a list of subsystems recommended for share tree installations. <P><B>Note: </B>The <i>nfs.sw.skless_client</i> subsystem is mandatory.<A NAME="SGI10"></A>
<h3 class="SGITPL-head">share_inst Command</h3><p>The <i>share_inst</i> command launches a share tree installation and also deletes a share tree. Syntax for the <i>share_inst</i> command is described below (see the man page share_inst for a more complete description). <pre>share_inst -r <var>release_name</var> [<b>-d</b>] </pre><p>The arguments to <i>share_inst</i> command have the following meaning.<dl><dt>-r<dd><br>The flag for the release_name argument.<dt><br><var>release_name</var><dd><br>The name of the configuration file (a working copy of <i>share</i><i>.dat)</i> without the <i>.dat</i> extension. See <A HREF="Diskless_AG-6.html#SGI2" TARGET=_top>"Share Tree Configuration File"</A> for details. <dt><br>-d<dd><br>The flag to delete a share tree. </dl><p>This example deletes . <PRE># share_inst -d IRIX_62</PRE><A NAME="SGI11"></A>
<h3 class="SGITPL-head">Share Tree Installation Procedure</h3><p>The procedure below explains how to use <i>share_inst</i> to launch a share tree installation. It assumes that you are using Inst, the command line interface to the installation program, but you can use Software Manager, the graphical interface, instead. (See IRIX Admin: Software Installation and Licensing    
for information on using Inst; see the Personal System Administration Guide    
for information on using Software Manager.) The location of the installable software source (local CDs, remotely-mounted CDs, or a remote directory) affects steps 3 and 4 of this procedure. <P><B>Note: </B>If you are updating an existing share tree, do not use this procedure; use the procedures in <A HREF="Diskless_AG-8.html#X" TARGET=_top>Chapter 5</A> instead.<ol><li>Start <i>share_inst</i> as shown in this example: <PRE># <B>cd /var/boot</B>
# <B>./share_inst -r IRIX_65-32</B></PRE><p>This entry directs <i>share_inst</i> to read <i>IRIX_ 65-32.dat</i> (the working copy of <i>share</i><i>.dat</i>) to build a <i>share</i> tree for 32-bit clients running IRIX 6.5. After it processes your entry, <i>share_inst</i> displays a confirmation prompt: <pre>About to install shared tree at/diskless/share/IRIX_65-32......
Enter confirmation (y/Y):</pre><P><B>Note: </B>The pathname of your share tree should match the pathname that appears in this prompt.<br><br><li>Enter <TT><B>y</B></TT> or <TT><B>Y</B></TT> (yes) to confirm the start of installation. <p>After your entry, the Inst Main menu is displayed: <PRE>Default location  of new software is &lt;<var>previous installation location</var>&gt;
If you are a first-time inst user, give the command "help beginner".
Inst Main Menu
 1. from [source...]          Specify location of software to be installed
 2. open [source...]          Specify additional software locations
 3. close [source]            Close distributions
 4. list [keywords][names]    Display information about software subsystems
 5. go                        Perform software installation and removal now
 6. install [keywords][names] Select subsystems to be installed
 7. remove [keywords][names]  Select subsystems to be removed
 8. keep [keywords][names]    Do not install or remove these subsystems
 9. step [keywords][names]    Enter interactive mode for install/remove/keep
10. conflicts [choice...]     List or resolve installation conflicts 
11. help [topic]              Get help in general or on a specific word
12. view ...                  Go to the View Commands Window
13. admin                     Go to the Administrative Commands Menu
14. quit                      Terminate software installation<br>Inst&gt; </PRE><li>Specify the location of your software. <p>If you are installing the software locally from a CD, you can accept the default location for the software: <ul><br><li>Insert the CD in its drive. <br><br><li>Press <TT><B>Return</B></TT>. </ul><p>If you are installing the software from a remote source, specify its location: <ul><br><li>Enter <TT><B>from</B></TT> to select an alternative source <br><br><li>Specify the location of the software, as shown in the following examples. These examples show entries that specify a remote directory and remotely mounted CD as the source of the software: Inst&gt; <B>from bigsgi:/d2/irix51</B>
Inst&gt; <B>from bigsgi:/CDROM/dist</B></ul><p>After your entry, <i>inst</i> confirms that it will look for the software at the location you specified, then it reads the products available at that location. <br><br><li>Insert the next CD, if needed. <p>If you have more than one CD to install, enter the <i>open</i> command after inserting each additional CD so that its contents can be read: <pre><B>open bigsgi:/CDROM/dist</B> </pre><li>Enter <TT><B>list</B></TT> to check selected subsystems and space requirements (optional): <PRE>Inst&gt; <B>list</B>
Computing disk space changes:</PRE><p>The <var>list</var> option posts the names of software subsystems available from the source; the subsystems that <i>inst</i> selects as default installation choices are designated by the letter i. The <var>list</var> option also calculates the disk space needed to install the selected subsystems. <br><br><li>Verify that <i>nfs.sw.dsk_client</i> is selected for installation.<br><br><li>Change the default selections if necessary.<P><B>Note: </B>See <A HREF="Diskless_AG-5.html#SGITF2" TARGET=_top>Table 2-2</A> for a list of subsystems suggested for installation.<p>If you want to change the default selections, use the <i>step i</i> option to advance through the list of selected subsystems on the source. Use one of these entries for each subsystem that the <i>step</i> option posts: <br><br><dl><TT><B>Enter</B></TT><dd><br>To leave the selection unchanged. <TT><B>r Enter</B></TT><dd><br>If it is marked <i>i</i> and you do not want it installed <TT><B>i Enter</B></TT><dd><br>If it is not marked <i>i</i> and you want to install it. </dl><p>Since it is time consuming to install a share tree, you might want to verify your selections by typing <TT><B>list</B></TT> again. <br><br><li>Check for conflicts and resolve them, if you have any.<pre>Inst&gt; <B>conflicts</B></pre><p>Use the messages returned by the <i>conflicts</i> command to adjust your selections.<br><br><li>Enter <TT><B>go</B></TT> to launch the installation. <pre>Inst&gt; <B>go</B>
Installing new versions of selected <i>subsystem_name</i> subsystems.</pre><p>As it works, <i>inst</i> displays messages that identify the subsystems being installed. You see this message when the installation is finished: <PRE>Installation and/or removal succeeded.</PRE><pre>Inst&gt;</pre><li>Enter <TT><B>quit</B></TT> to complete the installation: <pre>Inst&gt; <B>quit</B>
Running exit commands...</pre><p>If there is a problem with the <i>exports</i> file (it might be corrupted or in use by another user, for example), you will see a message in your current window and a message is sent to the console. If there is a problem in <i>exports</i>, correct the <i>/etc/exports</i> file; then run <i>exportfs </i><b>-a</b> manually to correct the problem. <p>Allow the <i>exit</i> commands several minutes to process. <P><B>Caution: </B>Do not make any entries that will interrupt processing of the <i>exit</i> commands (such as Ctrl+C, for example). Doing so can result in damage to your system. </ol><p>When processing is complete, the share tree is installed on the server system. To verify the installation, change to the directory for the share tree and list its contents: <PRE># <B>cd /diskless/share/IRIX_65-32</B>
# <B>ls</B>
dev/ lib/ sbin/ var/</PRE>
      

<!-- dtlbook2html START -->
<HR noshade>
<FONT SIZE="-1"><A HREF="index.html"><B>Diskless Workstation Administration Guide</B></A><P><A HREF="Diskless_AG-5.html"><IMG SRC="images/b_prev.gif" ALT="Prev" WIDTH=17 HEIGHT=17 BORDER=0 ALIGN=TOP></A>&nbsp; <A HREF="Diskless_AG-7.html"><IMG SRC="images/b_next.gif" ALT="Next" WIDTH=17 HEIGHT=17 BORDER=0 ALIGN=TOP></A>&nbsp;&nbsp;&nbsp;&nbsp;Table of Contents:&nbsp;&nbsp;<A HREF="index.html">Basic</A>&nbsp;&nbsp;|&nbsp;&nbsp;<A HREF="fulltoc.html">Expanded</A></P></FONT>
<!-- dtlbook2html END -->

<HR noshade>
</BODY>
</HTML>
