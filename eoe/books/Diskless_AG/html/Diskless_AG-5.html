<HTML>
<HEAD>
<TITLE>Diskless Workstation Administration Guide
</TITLE></HEAD>
<BODY BGCOLOR="#F9F9F9">
<!-- dtlbook2html START -->
<HR noshade>
<FONT SIZE="-1"><A HREF="index.html"><B>Diskless Workstation Administration Guide</B></A><P><A HREF="Diskless_AG-4.html"><IMG SRC="images/b_prev.gif" ALT="Prev" WIDTH=17 HEIGHT=17 BORDER=0 ALIGN=TOP></A>&nbsp; <A HREF="Diskless_AG-6.html"><IMG SRC="images/b_next.gif" ALT="Next" WIDTH=17 HEIGHT=17 BORDER=0 ALIGN=TOP></A>&nbsp;&nbsp;&nbsp;&nbsp;Table of Contents:&nbsp;&nbsp;<A HREF="index.html">Basic</A>&nbsp;&nbsp;|&nbsp;&nbsp;<A HREF="fulltoc.html">Expanded</A></P></FONT>
<!-- dtlbook2html END -->

<A NAME=X></A><HR noshade><A NAME="SGI1"></A>
<H1 class="SGITPL-head">Chapter 2<BR> Preparing for Installation</h1><p>This chapter explains what to do to prepare for diskless software installation. It describes what to have on hand for the installation, what to evaluate and change to get ready for the diskless service, and how to organize the server filesystem that will contain the diskless software. It also provides an overview of diskless software and the installation procedure.<p>This chapter contains the following sections:<ul><li><A HREF="Diskless_AG-5.html#SGI2" TARGET=_top>"Obtaining a Software Distribution"</A><br><br><li><A HREF="Diskless_AG-5.html#SGI3" TARGET=_top>"Checking a Server"</A><br><br><li><A HREF="Diskless_AG-5.html#SGI4" TARGET=_top>"Checking a Client"</A><br><br><li><A HREF="Diskless_AG-5.html#SGI5" TARGET=_top>"Assigning Internet Addresses"</A><br><br><li><A HREF="Diskless_AG-5.html#SGI6" TARGET=_top>"Planning the Diskless Tree"</A><br><br><li><A HREF="Diskless_AG-5.html#SGI12" TARGET=_top>"Working With Diskless Software"</A><br><br><li><A HREF="Diskless_AG-5.html#SGI15" TARGET=_top>"Overview of the Installation Procedure"</A><br><br><li><A HREF="Diskless_AG-5.html#SGI16" TARGET=_top>"Motif 2.1 Support"</A></ul><HR noshade><A NAME="SGI2"></A>
<h2 class="SGITPL-head">Obtaining a Software Distribution</h2><p>Share trees, client trees, and swap trees should be created from an official release of Silicon Graphics software. Silicon Graphics software is originally distributed on compact disc with read-only memory (CD-ROM). On some networks, a copy of this software is available from a central distribution source on the network. You can use either source to install diskless software, as long as you use an official software release.<p>At minimum, the IRIX 6.5 source must include the Silicon Graphics Execution Only Environment product (<i>eoe</i>) and its supporting software, and the NFS product option, <i>nfs</i>. A group of subsystems from each of these products is required to install diskless software (see <A HREF="Diskless_AG-5.html#SGITF2" TARGET=_top>Table 2-2</A> for details). <HR noshade><A NAME="SGI3"></A>
<h2 class="SGITPL-head">Checking a Server</h2><p>Use the questions that follow to evaluate the suitability of a server on which you plan to install the diskless tree. If you determine that any procedure described in this section is necessary, complete the procedure before you begin diskless installation. <p><b>1. Is the server reliable?</b><p>The ideal choice for a diskless server is a network host that is able to provide uninterrupted service to its clients for extended periods of time. Hosts that are subject to frequent shutdowns, such as laboratory systems, those used for software builds, or hosts subject to interruptions in service, are not likely to prove satisfactory as diskless servers. <p><b>2. Does the server have ample disk space?</b><p>On average, approximately 1 gigabyte (GB) of disk space is required for a diskless tree with these characteristics: <ul><li>One share tree of IRIX 6.5 with a minimum software configuration (see <A HREF="Diskless_AG-5.html#SGITF2" TARGET=_top>Table 2-2</A>)<br><br><li>Five client trees with a minimal software configuration <br><br><li>Five swap trees, each containing 64 megabytes (MB) of swap space </ul><p><b>3. Is the server running the necessary software?</b><p>The IRIX version implemented on a server must be the same as or more recent than the IRIX version of any share tree that it supports. In addition, a server running 32-bit IRIX cannot support share trees of 64-bit IRIX. See the release notes shipped with your software for more specific compatibility information. <p>To determine the version of IRIX running on a server, use the <i>uname</i> command with the release option (-r), as shown in the following example. Do not install a share tree with a higher revision level than appears in the output from this command: <pre>% <B>uname -r<br></B>6.5 </pre><p>You should also verify that the host acting as the diskless server is running nfs.sw.diskless_server, the software subsystem that supports the diskless server function. To verify, enter the <i>versions</i> command and look for the diskless server subsystem in the command bitoutput, as shown in this example:<pre>% <B>versions nfs<br></B>I  nfs.sw.dskless_server  08/18/97  Diskless Server Support</pre><p><b>4. Is the TFTP environment set up correctly?</b><p>Client boot files are transferred from the server by means of the trivial file transfer protocol (TFTP). The server must contain a user account that owns TFTP (see the tftp reference page). By default, the owner of TFTP is <i>guest</i>. If you want a user other than <i>guest</i> to own TFTP (for security reasons, for example), you must modify the file<i> /etc/inetd.conf</i> to specify a different owner (see the inetd reference page). If you plan to install software by downloading it from a remote host, be sure that TFTP security is correctly configured on the remote system (see tftpd). <p><b>5. Is an NIS domain name assigned to the server?</b><p>To support diskless clients, a server must have an NIS domain name, whether or not it is running the network information service (NIS). To determine whether a server has an NIS domain name, use the domainname command: <pre>% <B>domainname<br></B>my.domain.name</pre><p>If this command returns no output, the server has no NIS domain name. It must be assigned a domain name (even a fictitious one) for diskless software to operate correctly. To set a domain name, enter this command as the superuser: <pre>#<B> domainname </B><var>fakedomain</var></pre><p>If you would like the domain name to be set automatically when the server is rebooted, issue this command:<p>#<TT><B> domainname &gt; /var/yp/</B></TT><var>fakedomain</var><p><b>6. Are there NFS export conflicts?</b><p>Be sure that the parent directory of your diskless tree is not listed as an NFS export. This condition causes NFS conflicts, which prevents the installation scripts from exporting diskless directories correctly and can also compromise security on the exported files. For example, if the diskless tree is installed in the directory <i>/usr/diskless</i>, the <i>/usr</i> directory should not be exported. To check for export conflicts, examine the server's <i>/etc/exports</i> file. If the parent directory of the diskless tree is listed, adjust the NFS configuration before implementing the diskless server.<p><b>7. Is the notation in the host database correct?</b><p>Client hostnames must be listed in the server's <i>/etc/hosts</i> in dot notation (see <i>hosts</i>(4)). For example, your entries in <i>hosts</i> should look something like this: <pre>192.0.2.5 starlite.fakedomain.com starlite</pre><p><b>8. Can BOOTP requests from clients reach the server?</b><p>If the server is on a different network from any of its clients, BOOTP forwarding must be enabled on the routers between the networks. See question 1 in the <A HREF="Diskless_AG-5.html#SGI4" TARGET=_top>"Checking a Client"</A> for details.<p><b>9. Is bootparams enabled on the server?</b><p>If the <var>bootparams</var> argument commented out in the <i>inetd.conf</i> file, it prevents the server from responding to client requests for boot information. Remove the comment character (#) to set bootparams on.<HR noshade><A NAME="SGI4"></A>
<h2 class="SGITPL-head">Checking a Client</h2><p>Use the questions below to check the suitability of a client for diskless operation. Some changes that might be required as a result of this checkout are changes you can make yourself; others might require additional members of your technical team. Any changes indicated by this check must be made before you begin diskless installation. <p><b>1. Is the client on the same network as the server?</b><p>Client systems initially request critical information from the server using the Internet Bootstrap Protocol (BOOTP). If a client is and its server are located on different networks, the routers connecting the networks must be configured to perform BOOTP forwarding (see the bootp(1M) reference page for details). If you do not have responsibility for configuring network routers, contact your network administrator about this router configuration requirement.<p><b>2. What hardware components does the client contain?</b><p>When you prepare the share tree configuration file, it helps to know the model names of your diskless workstations and the designations for the hardware components that the workstations contain. You can use the hinv command at client workstations to get component information. Make a list of these components to help you during the procedures in <A HREF="Diskless_AG-6.html#X" TARGET=_top>Chapter 3</A>.<p><A HREF="Diskless_AG-5.html#SGITF1" TARGET=_top>Table 2-1</A> shows the components of Silicon Graphics workstation models.<TABLE BORDER CELLPADDING=10><p><A NAME="SGITF1"></A><CAPTION ALIGN=TOP><B>Table 2-1 :  </B>Workstation Hardware Components </CAPTION><TR VALIGN=TOP ALIGN=LEFT><TH><b>Model Name</b></TH><TH>CPU 
Processor</TH><TH>CPU 
Board</TH><TH>Graphics 
Subsystem</TH><TH>Graphics 
Subgroup</TH><TH>Video 
Component</TH><TR ALIGN=LEFT VALIGN=TOP><TD><p>Indigo</TD><TD><p>R4000<sup>®</sup></TD><TD><p>IP20</TD><TD><p>LIGHT</TD><TD><p>LG1MC</TD><TD><p>None</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>Indigo Elan</TD><TD><p>R4000</TD><TD><p>IP20</TD><TD><p>EXPRESS</TD><TD><p>EXPRESS</TD><TD><p>None</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>Indigo2 XZ</TD><TD><p>R4000</TD><TD><p>IP22</TD><TD><p>EXPRESS</TD><TD><p>EXPRESS</TD><TD><p>None</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>Indigo2 Extreme</TD><TD><p>R4000</TD><TD><p>IP22</TD><TD><p>NEWPRESS</TD><TD><p>NEWPRESS</TD><TD><p>None</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>Indigo2 XL</TD><TD><p>R4000</TD><TD><p>IP22 </TD><TD><p>NEWPORT</TD><TD><p>NG1</TD><TD><p>None</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>Indigo 2 IMPACT</TD><TD><p>R4000</TD><TD><p>IP22</TD><TD><p>MGRAS</TD><TD><p>MGRAS</TD><TD><p>None</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>Indy</TD><TD><p>R4000</TD><TD><p>IP22</TD><TD><p>NEWPORT</TD><TD><p>NG1</TD><TD><p>VINO</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>Indy R5000</TD><TD><p>R5000</TD><TD><p>IP22</TD><TD><p>NEPORT</TD><TD><p>NEWTON</TD><TD><p>VINO</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>Power Indigo2</TD><TD><p>R10000</TD><TD><p>IP28</TD><TD><p>EXPRESS</TD><TD><p>I2_64</TD><TD><p>None</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>Power Indigo2 IMPACT</TD><TD><p>R10000</TD><TD><p>IP28</TD><TD><p>MGRAS</TD><TD><p>I2_64</TD><TD><p>None</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>Octane</TD><TD><p>R10000</TD><TD><p>IP30</TD><TD><p>MGRAS</TD><TD><p>RACER</TD><TD><p>None</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>O2</TD><TD><p>R5000</TD><TD><p>IP32</TD><TD><p>CRIME</TD><TD><p>CRM</TD><TD><p>VICE</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>O2</TD><TD><p>R10000</TD><TD><p>IP32</TD><TD><p>CRIME</TD><TD><p>CRM</TD><TD><p>VICE</TD></TR></TABLE> <br><br><P><B>Note: </B>Additional information about workstation architecture is provided in the<i> /var/boot/client.dat</i> file and in <A HREF="Diskless_AG-7.html#X" TARGET=_top>Chapter 4</A> of this guide. <HR noshade><A NAME="SGI5"></A>
<h2 class="SGITPL-head">Assigning Internet Addresses</h2><p>Every client in a diskless implementation must be assigned a unique Internet address so that it can be recognized as a network host. On some networks, the addresses of hosts with which a server communicates (including its diskless clients) are maintained in the server's <i>/etc/hosts</i> file. On networks using NIS or DNS services, diskless server and client entries must be added to the database used by these services. <p>If you are not the administrator for these services, advise the appropriate person to make the necessary entries for your diskless hosts. If you plan to assign Internet addresses yourself and need more information, see the instructions for adding hosts to a network in one of these Silicon Graphics publications: <ul><li><i>IRIX Admin: Networking and Mail </i>for networks using <i>/etc/hosts</i> and DNS<br><br><li><i>NIS Administration Guide</i> for networks using NIS </ul><HR noshade><A NAME="SGI6"></A>
<h2 class="SGITPL-head">Planning the Diskless Tree</h2><p>The diskless tree is implemented as server directories that contain a share tree, client trees, and swap trees for each release of IRIX that a server supports. When these directories are well organized, diskless software is easier to install and maintain than when directories are organized in a random fashion. The directory organization scheme in this section can serve as a guide to organizing your own diskless tree. <A NAME="SGI7"></A>
<h3 class="SGITPL-head">Diskless Filesystems</h3><p>If possible, a diskless tree should be contained in its own filesystem; for large installations, an entire disk might be dedicated to the diskless tree. Using a dedicated filesystem makes administering NFS software easier. If the diskless tree is not in its own filesystem, the parent directory of the diskless tree should not be listed in the server's <i>/etc/exports</i> file (see <A HREF="Diskless_AG-5.html#SGI3" TARGET=_top>"Checking a Server"</A> for details). <p><A HREF="Diskless_AG-5.html#SGITF3" TARGET=_top>Figure 2-1</A> shows the organization and naming of the first- and second-level directories of a filesystem for the diskless tree.<p><p> <A NAME="SGITF3"></A><IMG SRC="images/Fig2-1.gif" WIDTH=374 HEIGHT=265 ALT="Fig2-1.gif" BORDER=0 ALIGN=absmiddle><p><B>Figure 2-1 :  </B>Level 1 and 2 Directories in the Diskless Trees<p><br><p>The top directory of the diskless tree, <i>/diskless</i> in <A HREF="Diskless_AG-5.html#SGITF3" TARGET=_top>Figure 2-1</A>, is referred to as the <i>root</i> of the diskless tree. Similarly, <i>/diskless/share</i>, <i>/diskless/client</i>, and <i>/diskless/swap</i> are considered the root of the share, client, and swap trees, respectively. <A NAME="SGI8"></A>
<h3 class="SGITPL-head">Using Multiple Filesystems</h3><p>It is possible to distribute elements of the diskless tree across multiple filesystems. To use more than one filesystem for a diskless tree, you simply specify the complete pathnames for the share tree, client tree, and swap location when you generate diskless configuration files (see <var>DISKLESS</var> and <var>SHARE</var> descriptions in <A HREF="Diskless_AG-6.html#SGI4" TARGET=_top>"Share Tree Variables in the Share Tree Configuration File"</A> and see <var>CLROOT</var> and <var>SWAP</var> descriptions in <A HREF="Diskless_AG-7.html#SGI3" TARGET=_top>"Client and Swap Tree Variables"</A>).<A NAME="SGI9"></A>
<h3 class="SGITPL-head">Planning Share Trees</h3><p>The root directory for share trees, <i>/diskless/share</i> in <A HREF="Diskless_AG-5.html#SGITF3" TARGET=_top>Figure 2-1</A>, contains a share tree for each release of IRIX that the server supports. Each share tree contains the files normally located in the<i> /usr</i>, <i>/sbin</i>, <i>/lib</i>, and <i>/stand</i> directories on a standalone workstation. <p><A HREF="Diskless_AG-5.html#SGITF4" TARGET=_top>Figure 2-2</A> illustrates the directory structure and typical contents of a share tree. <p><p> <A NAME="SGITF4"></A><IMG SRC="images/Fig2-2.gif" WIDTH=361 HEIGHT=326 ALT="Fig2-2.gif" BORDER=0 ALIGN=absmiddle><p><B>Figure 2-2 :  </B>Typical Share Tree Contents<p><br><p>A share tree of IRIX 6.5 that supports clients with a minimum software configuration and the IRIX desktop requires approximate 300 megabytes of disk space. However, the subsystems that you install in a share tree greatly influence disk space requirements. To save space on the server, do not include applications in the share tree; instead, mount the applications from other NFS servers where they are already installed.<P><B>Note: </B>If you plan to mount NFS directories from a server other than the diskless server, you must edit the automatically generated copy of <i>/etc/fstab</i> (describe in <A HREF="Diskless_AG-5.html#SGI14" TARGET=_top>"Automatic File Updates"</A>) to contain these entries.<p><A HREF="Diskless_AG-5.html#SGITF2" TARGET=_top>Table 2-2</A> provides a list of the required subsystems for an IRIX 6.5 share tree and the size and description of each subsystem. <TABLE BORDER CELLPADDING=10><p><A NAME="SGITF2"></A><CAPTION ALIGN=TOP><B>Table 2-2 :  </B> Space Requirements for a Basic Share Tree</CAPTION><TR VALIGN=TOP ALIGN=LEFT><TH>Subsystem Name</TH><TH> Size</TH><TH>Description</TH><TR ALIGN=LEFT VALIGN=TOP><TD><p>4Dwm.man.4Dwm</TD><TD><p>40</TD><TD><p>Desktop Window Manager Man Pages</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>4Dwm.sw.4Dwm</TD><TD><p>704</TD><TD><p>Desktop Window Manager</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>ViewKit_eoe.sw.base</TD><TD><p>4156</TD><TD><p>ViewKit Execution Environment, 1.5.0</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>c++_eoe.sw.lib</TD><TD><p>1084</TD><TD><p>Standard Execution Libraries (C++)</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>compiler_eoe.man.dso</TD><TD><p>88</TD><TD><p>IRIX DSO Man Pages (Base Compiler)</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>compiler_eoe.man.unix</TD><TD><p>28</TD><TD><p>IRIX Standard Man Pages (Base Compiler)</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>compiler_eoe.sw.cpp</TD><TD><p>480</TD><TD><p>Source Code Preprocessor (Base Compiler)</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>compiler_eoe.sw.lboot </TD><TD><p>21328</TD><TD><p>Kernel lboot Software (Base Compiler)</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>compiler_eoe.sw.lib</TD><TD><p>5360</TD><TD><p>Base Execution Libraries</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>compiler_eoe.sw.unix</TD><TD><p>3476</TD><TD><p>IRIX Execution Environment (Base Compilers)</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>desktop_base.man.base</TD><TD><p>40</TD><TD><p>Desktop Base Man Pages</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>desktop_base.sw.FileTypingRules</TD><TD><p>3676</TD><TD><p>Desktop Filetype Rules</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>desktop_base.sw.dso</TD><TD><p>2976</TD><TD><p>Desktop Shared Libraries</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>desktop_base.sw.ftrdso6_2</TD><TD><p>300</TD><TD><p>Desktop 6.2 Icon Libraries (32-bit)</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>desktop_base.sw.utilities</TD><TD><p>44</TD><TD><p>Desktop Utilities</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>dmedia_eoe.data.movies</TD><TD><p>836</TD><TD><p>Sample Movie Files</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>dmedia_eoe.data.soundscheme</TD><TD><p>2584</TD><TD><p>Desktop Sound Files</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>dmedia_eoe.man.pages</TD><TD><p>572</TD><TD><p>Digital Media Manual Pages</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>dmedia_eoe.sw.audio</TD><TD><p>1132</TD><TD><p>Audio System Components</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>dmedia_eoe.sw.base</TD><TD><p>4344</TD><TD><p>Digital Media System Components</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>dmedia_eoe.sw.lib</TD><TD><p>27252</TD><TD><p>Digital Media Execution Libraries</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>dmedia_eoe.sw.plugins</TD><TD><p>10128</TD><TD><p>Digital Media Plug-ins</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>eoe.man.base</TD><TD><p>6816</TD><TD><p>Basic IRIX Man Pages</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>eoe.man.gifts_perl</TD><TD><p>2220</TD><TD><p>Perl Man Pages</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>eoe.man.gltools </TD><TD><p>80</TD><TD><p>Graphics Library Tools Man Pages</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>eoe.sw.base</TD><TD><p>58504</TD><TD><p>IRIX Base Execution Environment</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>eoe.sw.cdrom</TD><TD><p>424</TD><TD><p>CD-ROM Filesystem and CD Audio Support</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>eoe.sw.cpr</TD><TD><p>1704</TD><TD><p>SGI Checkpoint-Restart Software</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>eoe.sw.dlpi</TD><TD><p>236</TD><TD><p>Data Link Provider Interface</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>eoe.sw.efs</TD><TD><p>732</TD><TD><p>EFS Filesystem</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>eoe.sw.gfx </TD><TD><p>20852</TD><TD><p>Graphics Execution Environment</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>eoe.sw.gifts_perl</TD><TD><p>1628</TD><TD><p>Perl Software</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>eoe.sw.gifts_perl_lib</TD><TD><p>5016</TD><TD><p>Perl Libraries</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>eoe.sw.gltools</TD><TD><p>1044</TD><TD><p>Graphics Library Tools</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>eoe.sw.perf</TD><TD><p>1476</TD><TD><p>Performance Measurement Utilities</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>eoe.sw.rm_media</TD><TD><p>576</TD><TD><p>Removable Media Software</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>eoe.sw.termbase</TD><TD><p>200</TD><TD><p>Base (required) Terminal Information Files</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>eoe.sw.usrshare</TD><TD><p>436</TD><TD><p>Miscellaneous shared text/help/data files</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>ftn_eoe.sw.lib</TD><TD><p>15464</TD><TD><p>Standard Execution Libraries (N32bit)</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>insight_base.man.man</TD><TD><p>4</TD><TD><p>InSight Online Doc Viewer Man Pages, 3.1</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>insight_base.sw.base</TD><TD><p>0</TD><TD><p>InSight Online Doc Viewer Base Software, 3.1</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>insight_base.sw.eoe</TD><TD><p>20512</TD><TD><p>InSight Online Doc Viewer Base Software, 3.1</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>motif_eoe.man.eoe</TD><TD><p>152</TD><TD><p>IRIX IM EOE Manual (SGI port of OSF/Motif 1.2.4)</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>motif_eoe.sw.eoe</TD><TD><p>8948</TD><TD><p>IRIX IM Run-time Software (based on OSF/Motif 
1.2.4)</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>tooltalk_eoe.man.links</TD><TD><p>0</TD><TD><p>ToolTalk man links</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>tooltalk_eoe.man.manpages</TD><TD><p>40</TD><TD><p>ToolTalk man pages</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>tooltalk_eoe.sw.links</TD><TD><p>0</TD><TD><p>ToolTalk sw links</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>tooltalk_eoe.sw.runtime</TD><TD><p>2652</TD><TD><p>ToolTalk runtime</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>tooltalk_eoe.sw32.links</TD><TD><p>0</TD><TD><p>ToolTalk N32 sw links</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>tooltalk_eoe.sw32.runtime</TD><TD><p>2308</TD><TD><p>ToolTalk N32 runtime</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>websupport_eoe.sw.lib</TD><TD><p>2264</TD><TD><p>WebSupport eoe 1.3, o32 ABI</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>websupport_eoe.sw32.lib</TD><TD><p>1760</TD><TD><p>WebSupport eoe 1.3, n32 ABI</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p> x_eoe.man.Server</TD><TD><p>92</TD><TD><p>X11 Server Manual Pages</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>x_eoe.man.Xapps</TD><TD><p>340</TD><TD><p>X11 Applications Manual Pages</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>x_eoe.man.eoe</TD><TD><p>596</TD><TD><p>X11 Execution Environment Manual Pages</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>x_eoe.sw.Server</TD><TD><p>7276</TD><TD><p>X11 Window Server and Font Server</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>x_eoe.sw.Xapps</TD><TD><p>2172</TD><TD><p>X11 Applications</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>x_eoe.sw.Xfonts</TD><TD><p>9396</TD><TD><p>X11 Standard Fonts</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>x_eoe.sw.eoe</TD><TD><p>15532</TD><TD><p>X11 Execution Environment</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>nfs.man.nfs</TD><TD><p>292</TD><TD><p>NFS Support Manual Pages</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>nfs.sw.dskless_client</TD><TD><p>2508</TD><TD><p>Diskless Client Support</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>nfs.sw.nfs</TD><TD><p>1112</TD><TD><p>NFS Support</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>nfs.sw.nis</TD><TD><p>380</TD><TD><p>NIS (formerly Yellow Pages) Support</TD></TR></TABLE> <br><br><p>If you need additional space-requirement information, see the space requirements listed in the release notes that accompany the software you plan to install. <A NAME="SGI10"></A>
<h3 class="SGITPL-head">Planning Client Trees</h3><p>The root directory for client trees, <i>/diskless/client</i> in <A HREF="Diskless_AG-5.html#SGITF3" TARGET=_top>Figure 2-1</A>, contains a directory for each client that it supports. Each client tree contains the files normally located in the root (/) directory on a standalone workstation.<p><A HREF="Diskless_AG-5.html#SGITF5" TARGET=_top>Figure 2-3</A> illustrates the organization of client tree directories and the typical contents of a client tree. <p><p> <A NAME="SGITF5"></A><IMG SRC="images/Fig2-3.gif" WIDTH=305 HEIGHT=481 ALT="Fig2-3.gif" BORDER=0 ALIGN=absmiddle><p><B>Figure 2-3 :  </B>Typical Client Tree Organization and Contents<p><br><p>A newly installed client tree requires approximately 30 megabytes of disk space. However, because the client tree allows read and write access, space requirements may increase as a result of usage patterns on the client. This increase should be considered in your planning.<p>To save disk space and simplify software maintenance on the diskless server, mount <i>/usr/people</i> and <i>/var/tmp</i> from a different NFS server. This configuration makes it easier to upgrade system software and relocate user files when these changes become necessary. <P><B>Note: </B>If you plan to mount NFS directories from a server other than the diskless server, you must edit the automatically generated copy of <i>/etc/fstab</i> (describe in <A HREF="Diskless_AG-5.html#SGI14" TARGET=_top>"Automatic File Updates"</A>) to contain these entries.<A NAME="SGI11"></A>
<h3 class="SGITPL-head">Planning Swap Trees</h3><p>The root directory for swap trees, <i>/diskless/swap</i> in <A HREF="Diskless_AG-5.html#SGITF3" TARGET=_top>Figure 2-1</A>, contains a swap tree for each client that it supports. The swap tree for an individual client is a directory containing a raw data file that provides swap space for virtual memory functions. By default, the size of the swap set up during diskless installation is 64 megabytes. But swap space size is a configurable variable that you can set during a client tree installation and change after the swap tree is installed.<p>To determine the amount of swap space to allocate, consider the application requirements of your users. In cases where they do not require much disk space   -       when electronic mail and news readers are the principal applications, for example   -       you might consider reducing swap space to 10 megabytes. In cases where swap space usage is heavy   -       when users run compute-intensive applications, for example   -       consider increasing the default swap space size or adding a local swap disk to the client workstation (see <A HREF="Diskless_AG-9.html#X" TARGET=_top>Chapter 6</A> for details). <p><A HREF="Diskless_AG-5.html#SGITF6" TARGET=_top>Figure 2-4</A> illustrates the organization of swap tree directories. <p><p> <A NAME="SGITF6"></A><IMG SRC="images/Fig2-4.gif" WIDTH=363 HEIGHT=246 ALT="Fig2-4.gif" BORDER=0 ALIGN=absmiddle><p><B>Figure 2-4 :  </B>Typical Swap Tree Organization<p><br><HR noshade><A NAME="SGI12"></A>
<h2 class="SGITPL-head">Working With Diskless Software</h2><p>Diskless software consists of installation utilities and configuration files that set up the share tree, client trees, and swap trees for a diskless implementation:<dl><dt><i>/var/boot/share_ setup</i><dd><br>The program that you use to create a new share tree configuration file.<dt><br><i>/var/boot/share_inst</i><dd><br>The program that creates a share tree using information in the share tree configuration file.<dt><br><i>/var/boot/share.dat</i><dd><br>The default share tree configuration file that defines the location and contents of the share tree and specifies server variables that affect share tree installation. The server contains a separate working copy of <i>share.dat</i> for each version of IRIX that the server supports. A working copy of this file is created automatically when you run <i>share_ setup</i>.<dt><br><i>/var/boot/client_setup</i><dd><br>The program that you use to create a new client tree configuration file.<dt><br><i>/var/boot/client_inst</i><dd><br>The program that creates individual client trees and swap trees using information in the client tree configuration file, the share tree configuration file, and information that the installer provides when starting the program.<dt><br><i>/var/boot/client.dat</i><dd><br>The default client tree configuration file that defines the location and contents of individual client trees. It also defines the location and size of the swap tree for each client. The server must contain a working copy of <i>client.dat</i> for each class of client workstations (see <A HREF="Diskless_AG-4.html#SGI12" TARGET=_top>"Influence of Client Classes"</A>). A working copy of this file is created automatically when you run <i>client_setup</i>.<dt><br><i>/var/boot/clone_client</i><dd><br>The program that reproduces client trees after one client tree is created. This program creates one or more cloned client trees from an existing client tree or from a share tree. A cloned tree supports clients of the same class as that supported by the original tree. For example, if an existing O2 client tree is cloned, the cloned tree cannot be used for Indy clients.</dl><A NAME="SGI13"></A>
<h3 class="SGITPL-head">Using inst to Install a Diskless Tree</h3><p>Both <i>share_inst</i> and <i>client_inst</i> invoke <i>inst</i> (the standard Silicon Graphics installation program) to install or upgrade the share and client trees. You can use either user interface to <i>inst</i>: Software Manager, the graphical interface; or Inst, the command line interface. Once <i>inst</i> is invoked from either interface, you use it in the same way as you do to install software on standalone systems. When you install a client tree, <i>inst</i> automatically uses the software installed on the share tree as the software source. <A NAME="SGI14"></A>
<h3 class="SGITPL-head">Automatic File Updates</h3><p>As part of the installation process, <i>share_inst</i> and <i>client_inst</i> automatically edit the server's <i>/etc/exports</i> file, making the share tree, client trees, and swap trees available to diskless clients. These programs also automatically create a copy of the <i>/etc/fstab</i> file in the client tree to add entries that mount the required directories from the server. Finally, <i>share_inst</i> and <i>client_inst</i> automatically edit the<i> /etc/bootparams</i> file on the local host or the NIS master server if you are running NIS. The <i>bootparams</i> file specifies the names of diskless clients and the information needed to boot them to.<HR noshade><A NAME="SGI15"></A>
<h2 class="SGITPL-head">Overview of the Installation Procedure</h2><p>The installation procedure is always done on the host that will act as the server system. The procedure consists of five basic steps: <ol><li>Run <i>share_setup</i> to create a share tree configuration file (<i>share.dat)</i>.<br><br><li>Run <i>share_inst</i> to install the share tree.<br><br><li>Run <i>client_setup</i> to create a client tree configuration file (<i>client.dat).</i><br><br><li>Run <i>clone_client</i> to reproduce the client and swap trees for additional clients. <br><br><li>Boot each client and verify the installation.</ol><p>If you have more than one client class, you need to repeat steps 3, 4, and 5 for each class that is being installed (see <A HREF="Diskless_AG-4.html#SGI12" TARGET=_top>"Influence of Client Classes"</A>). If you are installing multiple IRIX releases, you need to repeat the entire procedure for each IRIX version that you install (remember that 32-bit and 64-bit versions of the same IRIX release are considered two separate operating systems in a diskless implementation).<p><A HREF="Diskless_AG-5.html#SGITF7" TARGET=_top>Figure 2-5</A> illustrates the flow of tasks in the installation process. Notice that the share tree is always installed before any of its client trees. This order is critical, because client trees are built from software contained in the share tree. The swap tree for a client is automatically built at the same time as its client tree.<p><p> <A NAME="SGITF7"></A><IMG SRC="images/Fig2-5.gif" WIDTH=306 HEIGHT=777 ALT="Fig2-5.gif" BORDER=0 ALIGN=absmiddle><p><B>Figure 2-5 :  </B>Flow Diagram of Installation Tasks<p><br><HR noshade><A NAME="SGI16"></A>
<h2 class="SGITPL-head">Motif 2.1 Support</h2><p>The latest version of Diskless Workstation includes support for Motif 2.1. Approximately 5 MB is required to hold Motif 2.1 libaries.<p>When you install the latest version of Diskless Workstation, a script called <i>mksymlinks</i> runs automatically to set up the default Moitf development environment. For more information, see the mksymlinks man page.
      

<!-- dtlbook2html START -->
<HR noshade>
<FONT SIZE="-1"><A HREF="index.html"><B>Diskless Workstation Administration Guide</B></A><P><A HREF="Diskless_AG-4.html"><IMG SRC="images/b_prev.gif" ALT="Prev" WIDTH=17 HEIGHT=17 BORDER=0 ALIGN=TOP></A>&nbsp; <A HREF="Diskless_AG-6.html"><IMG SRC="images/b_next.gif" ALT="Next" WIDTH=17 HEIGHT=17 BORDER=0 ALIGN=TOP></A>&nbsp;&nbsp;&nbsp;&nbsp;Table of Contents:&nbsp;&nbsp;<A HREF="index.html">Basic</A>&nbsp;&nbsp;|&nbsp;&nbsp;<A HREF="fulltoc.html">Expanded</A></P></FONT>
<!-- dtlbook2html END -->

<HR noshade>
</BODY>
</HTML>
