<!-- Produced by version 3.14 (11/22/96) of SGI Frame/SGML translator -->
<CHAPTER LBL="15"><TITLE><XREFTARGET ID="49176">Working With Fonts</TITLE><PARAGRAPH>This chapter describes how to work with fonts on Silicon Graphics computers. It begins with an introduction to fonts and digital typography. Then it explains which fonts are available and how to install additional fonts. It also covers how to download outline fonts in the Type 1 format to a PostScript printer.<INDEXTARGET ID="TIP_5.fonts1"><!-- POSTPROCESSDATA: TIP_5.fonts1|fonts --></PARAGRAPH>
<PARAGRAPH>This chapter contains these sections:</PARAGRAPH>
<BULLETLIST><BULLET><PARAGRAPH><XREF IDREF="91375" TYPE="TITLE">&ldquo;Font Basics&rdquo;</XREF> defines fonts and provides some general background information.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="69179" TYPE="TITLE">&ldquo;Using Fonts With the X Window System&rdquo;</XREF> discusses some of the most useful font utilities of the X Window System.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="28671" TYPE="TITLE">&ldquo;Installing and Adding Font and Font Metric Files&rdquo;</XREF> explains how to install and add font files and font metric files for system-wide use.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="86842" TYPE="TITLE">&ldquo;Downloading a Type 1 Font to a PostScript Printer&rdquo;</XREF> explains how to download a Type 1 font to a PostScript printer.</PARAGRAPH>
</BULLET>
</BULLETLIST>
<SECTION1 LBL="" HELPID = ""><TITLE><XREFTARGET ID="91375">Font Basics</TITLE><PARAGRAPH>Fonts are collections of characters. A font contains the information about the shape, size, and position of each character in a character set. That information is needed by programs that process characters, such as editing, word-processing, desktop publishing, multimedia, titling, and prepress application programs. Almost all software components in a computer system use fonts to display messages, prompts, titles, and so forth.</PARAGRAPH>
<PARAGRAPH>Binary digits are used to represent all types of information stored in a digital computer, including fonts. Digital typography deals with the style, arrangement, and appearance of typeset matter in digital systems. If you want to use font and font metric files to correctly typeset text on a digital computer, you need to know some basics about digital typography. This section contains a brief introduction to fonts and digital typography. You may want to read a book on typography for more in-depth information.</PARAGRAPH>
<PARAGRAPH>This section covers the following topics:</PARAGRAPH>
<BULLETLIST><BULLET><PARAGRAPH><XREF IDREF="79679" TYPE="TITLE">&ldquo;Terminology&rdquo;</XREF> introduces a few basic terms.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="73727" TYPE="TITLE">&ldquo;How Resolution Affects Font Size&rdquo;</XREF> describes horizontal and vertical resolution, pixels, and bitmap fonts.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="70596" TYPE="TITLE">&ldquo;Font Names&rdquo;</XREF> explains the differences between PostScript and X Windows font names.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="11119" TYPE="TITLE">&ldquo;Writing Programs That Need to Use Fonts&rdquo;</XREF> covers X programs, Display Postscript (DPS) programs, and IRIS GL and IRIS GL/X programs.</PARAGRAPH>
</BULLET>
</BULLETLIST>
<SECTION2 LBL="" HELPID = ""><TITLE><XREFTARGET ID="79679">Terminology</TITLE><PARAGRAPH>Before discussing how to use fonts, consider these terms.</PARAGRAPH>
<SECTION3 LBL="" HELPID = ""><TITLE>Typography</TITLE><PARAGRAPH>Typography is the art and technique of working with type. In traditional typography, the term <INDEXTARGET ID="TIP_5.fonts2"><!-- POSTPROCESSDATA: TIP_5.fonts2|typography. <ITALICS>See </ITALICS>fonts --><ITALICS>type</ITALICS> refers to a piece of wood or metal with a raised image of a character or characters on its upper face. Such pieces of wood or metal are assembled into lines and pages, which are printed by a letterpress process. What typographers do with type is called typesetting or composition. Type can also refer to the images produced by using such pieces of wood or metal. </PARAGRAPH>
<PARAGRAPH>Traditional typesetting is seldom used today. In modern typography, <ITALICS>type</ITALICS> usually refers to the images produced on typesetting or composition systems, which do not use wooden or metal type, such as photo and digital composition systems. The typography on a digital system, such as a digital computer, is called digital typography.</PARAGRAPH>
<PARAGRAPH>Digital typography is based on a hierarchy of objects called <ITALICS>characters</ITALICS>, <ITALICS>fonts</ITALICS>, and <ITALICS>font families</ITALICS> (or typefaces). Numeric values or measurements related to those objects can be divided into <ITALICS>character metrics</ITALICS>, <ITALICS>font metrics</ITALICS>, and <ITALICS>typeface metrics</ITALICS>. Sometimes all information about a font family, or typeface, is stored in a set of font files, but sometimes metric information for a set of font files is stored in a separate file called the font metric file. </PARAGRAPH>
</SECTION3>
<SECTION3 LBL="" HELPID = ""><TITLE>Character</TITLE><PARAGRAPH>A character is a graphical or mathematical representation of a glyph. Letters, digits, punctuation marks, mathematical symbols, and cursors are examples of glyphs.<INDEXTARGET ID="TIP_5.fonts3"><!-- POSTPROCESSDATA: TIP_5.fonts3|fonts:character, defined --></PARAGRAPH>
</SECTION3>
<SECTION3 LBL="" HELPID = ""><TITLE>Font</TITLE><PARAGRAPH>A font is a set of characters, that is, a set of representations of characters. In a <ITALICS>bitmap</ITALICS> font, the shape of each character is represented by a rectangular array of bit values, 1 or 0, forming a bitmap of the shape. In an <ITALICS>outline</ITALICS> font, the shape of a character is represented by a mathematical description of its outline.</PARAGRAPH>
<PARAGRAPH>A distinction exists between a base and composite font. A <ITALICS>base font</ITALICS> is a set of characters of the same size and style. Characters in a base font usually match one another in size, style, weight, and slant because their shape, size, position, and spacing have been carefully designed by a skilled font designer. A <ITALICS>composite font</ITALICS> is composed of base fonts with various attributes, for example roman and italic, or book weight and semibold.</PARAGRAPH>
</SECTION3>
<SECTION3 LBL="" HELPID = ""><TITLE>Font Family, or Typeface</TITLE><PARAGRAPH>A professional font designer usually creates an entire <INDEXTARGET ID="TIP_5.fonts4"><!-- POSTPROCESSDATA: TIP_5.fonts4|fonts:typeface, defined --><ITALICS>font family</ITALICS>, or <ITALICS>typeface</ITALICS>, composed of a variety of base fonts with related forms, rather than a single font. A base font family, or typeface, is a set of base fonts with the same style or design. A composite font family, or composite typeface, is composed of base font families. A base font family can consist of bitmap fonts in certain sizes, a scalable font that can be used to produce bitmap fonts in different sizes, or both.</PARAGRAPH>
</SECTION3>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE><XREFTARGET ID="73727">How Resolution Affects Font Size</TITLE><PARAGRAPH>The images on most output devices, such as laser printers and video monitors, are created by coloring a rectangular array of small dots or pixels (picture elements). The number of dots or pixels that can be drawn per unit of length in a horizontal direction is called the <INDEXTARGET ID="TIP_5.fonts5"><!-- POSTPROCESSDATA: TIP_5.fonts5|fonts:imagesfonts:pixelsvideo resolutionmonitor resolutionfonts:resolution and size --><ITALICS>horizontal resolution</ITALICS>, while the number of pixels that can be drawn per unit of length in a vertical direction is called the <ITALICS>vertical resolution</ITALICS>. The most commonly used unit of measure for resolution is the number of dots per inch (dpi). Resolution is a device-dependent unit of measure.</PARAGRAPH>
<PARAGRAPH>To display the resolution of your video monitor, enter this command:</PARAGRAPH>
<EXAMPLE>
<USERINPUT>xdpyinfo | grep resol</USERINPUT>&space;
</EXAMPLE>
<PARAGRAPH>You should get a response similar to this:</PARAGRAPH>
<EXAMPLE>
resolution: 93x93 dots per inch 
</EXAMPLE>
<PARAGRAPH>The first number is the horizontal resolution; the second the vertical resolution.</PARAGRAPH>
<PARAGRAPH>If you draw a single character at a given resolution, the <ITALICS>bounding box</ITALICS> of the character is the smallest rectangle that enclose that character.</PARAGRAPH>
<PARAGRAPH>If you display all of the characters in a font in the same place (without advancing), you get a composite image of those characters. If you then draw the smallest rectangle that encloses that composite image, you have the bounding box for the font. The size of a font is usually measured in the vertical direction. That size is usually not smaller than the height of the font bounding box, but it can be greater than that height. It may include additional vertical spacing that is considered part of the font design.</PARAGRAPH>
<PARAGRAPH>Typographers use small units of measure called <INDEXTARGET ID="TIP_5.fonts6"><!-- POSTPROCESSDATA: TIP_5.fonts6|fonts:point size --><ITALICS>points</ITALICS> to specify font size. A point is approximately equal to 1/72 of an inch. The exact value is 1/72.27 (0.013837) of an inch, or 0.351 mm.</PARAGRAPH>
<PARAGRAPH>A point is a device-independent unit of measure. Its size does not depend on the resolution of an output device. A 12-point font should have approximately the same size on different output devices, regardless of the resolution of those devices.</PARAGRAPH>
<PARAGRAPH>If the resolution of an output device is equal to 72 dots per inch (dpi), the size of a dot or pixel is approximately equal to the size of a point. If the resolution of an output device is greater than 72 dpi, the size of a dot or pixel is smaller than the size of a point, and vice versa. You can use the following formula to calculate a pixel size from a point size:</PARAGRAPH>
<EXAMPLE>
pixel-size = point-size x device-resolution / 72.27
</EXAMPLE>
<PARAGRAPH>A bitmap font is usually designed for a particular resolution. Such a font has the point size specified by its designer only when it is used on an output device whose resolution matches the resolution for which that font was designed. This is because a font designer specifies a fixed bitmap for each character. If a pixel is smaller than a point, characters will be smaller than intended, and vice versa.</PARAGRAPH>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE><XREFTARGET ID="70596">Font Names</TITLE><PARAGRAPH>When a font is designed, it is assigned a name such as <INDEXTARGET ID="TIP_5.fonts7"><!-- POSTPROCESSDATA: TIP_5.fonts7|fonts:namesCourier font --><ITALICS>Courier Oblique</ITALICS>. This font belongs to a font family called <ITALICS>Courier</ITALICS>, which includes:</PARAGRAPH>
<BULLETLIST><BULLET><PARAGRAPH>Courier</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH>Courier Bold</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH>Courier Bold Oblique </PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH>Courier Oblique</PARAGRAPH>
</BULLET>
</BULLETLIST>
<PARAGRAPH>When the PostScript page description software language was developed by Adobe Systems, the spaces embedded in font names were replaced with dashes. PostScript font names look like this:</PARAGRAPH>
<CODE>
Courier
Courier-Bold
Courier-BoldOblique
HeiseiMin-W3--Adobe-Japan1-2
</CODE>
<PARAGRAPH>The size of a font is usually not part of the name of a scalable font because it can be scaled to any size. Bitmap fonts are usually designed in specific sizes. They are referred to by names such as 12-point Courier or 10-pixel Courier Bold.</PARAGRAPH>
<PARAGRAPH>The X Consortium specified 14-part font names for the X Window System. Each name is in effect a complete description of the font.<INDEXTARGET ID="TIP_5.fonts8"><!-- POSTPROCESSDATA: TIP_5.fonts8|fonts:X Window SystemX Window System:fonts. <ITALICS>See </ITALICS>fonts --></PARAGRAPH>
<PARAGRAPH><XREF IDREF="23159" TYPE="GRAPHIC">Figure&nbsp;15-1</XREF> shows an example 14-part name for a bitmap font, with each part labeled. Point sizes in X font names are specified in <ITALICS>decipoints</ITALICS> (tenths of a point). </PARAGRAPH>
<PARAGRAPH><FIGURE><GRAPHIC FILE="font.classification.gif" POSITION="INLINE" SCALE="FALSE"><CAPTION LBL="15-1"><PREFIX>Figure 15-1 </PREFIX><XREFTARGET ID="23159">X Window System Font Name Example</CAPTION>
</FIGURE>
</PARAGRAPH>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE><XREFTARGET ID="11119">Writing Programs That Need to Use Fonts</TITLE><PARAGRAPH>You can write different types of programs for Silicon Graphics computers, for example, X, Display PostScript (DPS), IRIS GL, OpenGL, and mixed-model programs. Some of your programs need fonts. <INDEXTARGET ID="TIP_5.fonts9"><!-- POSTPROCESSDATA: TIP_5.fonts9|fonts:using APIsprogramming:fontsfonts:accessingfonts:programming access --></PARAGRAPH>
<PARAGRAPH>How a program accesses font files depends on the program type:</PARAGRAPH>
<BULLETLIST><BULLET><PARAGRAPH>X programs access fonts by calling X font functions, such as <FUNCTION>XListFonts()</FUNCTION> and <FUNCTION>XLoadFont()</FUNCTION>. </PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH>DPS programs access fonts by calling X and DPS functions, or by using PostScript. </PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH>IRIS GL and IRIS GL/X mixed-model programs usually access fonts by calling font management (fm) functions from the IRIS GL Font Manager library (<FUNCTION>fmenumerate()</FUNCTION> and <FUNCTION>fmfindfont()</FUNCTION>, for example).</PARAGRAPH>
</BULLET>
</BULLETLIST>
<PARAGRAPH>Most fonts are installed when you install the X Window System (X11 Execution Environment). Some fonts are installed with other software components, such as DPS and IRIS Showcase. Some bitmap fonts are installed when you install a language module, such as the Japanese Language Module (JLM). Some outline fonts are installed when you install a font module, such as the Japanese Font Module (JFM). However, most fonts are shared by the X Window System, DPS (which is an extension of the X Window System), IRIS GL Font Manager, Impressario, and other software components.</PARAGRAPH>
<PARAGRAPH>To maintain compatibility and portability, it is best not to access font files directly from an application program because font formats, font names, font contents, and the location of font directories may change. Your program should use the Application Programming Interfaces (APIs) specified for the X Window System, DPS, and IRIS GL Font Manager, or call even higher level functions for the 2D and 3D text available from toolkits such as IRIS&nbsp;Inventor and IRIS&nbsp;Performer.</PARAGRAPH>
</SECTION2>
</SECTION1>
<SECTION1 LBL="" HELPID = ""><TITLE><XREFTARGET ID="69179">Using Fonts With the X Window System</TITLE><PARAGRAPH>This section describes how to use fonts with the X Window System. The X Window System has several font utilities. This section covers a few of the most useful utilities and includes:<INDEXTARGET ID="TIP_5.fonts10"><!-- POSTPROCESSDATA: TIP_5.fonts10|fonts:X Window System --></PARAGRAPH>
<BULLETLIST><BULLET><PARAGRAPH><XREF IDREF="23133" TYPE="TITLE">&ldquo;Listing and Viewing Fonts&rdquo;</XREF> explains using the <COMMAND>xlsfonts</COMMAND> command.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="12350" TYPE="TITLE">&ldquo;Viewing Fonts&rdquo;</XREF> describes the <COMMAND>xfd</COMMAND> command.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="41964" TYPE="TITLE">&ldquo;Getting the Current X Font Path&rdquo;</XREF> covers the <COMMAND>xset</COMMAND> command.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="49550" TYPE="TITLE">&ldquo;Changing the X Font Path&rdquo;</XREF> explains the <COMMAND>xset fp</COMMAND> command.</PARAGRAPH>
</BULLET>
</BULLETLIST>
<PARAGRAPH>For a complete description of the utilities, refer to your X Window System documentation.</PARAGRAPH>
<SECTION2 LBL="" HELPID = ""><TITLE><XREFTARGET ID="23133">Listing and Viewing Fonts</TITLE><SECTION3 LBL="" HELPID = ""><TITLE>Getting a List of Font Names and Font Aliases</TITLE><PARAGRAPH>To find out which font names and font aliases are known to the X Window System, use the command <INDEXTARGET ID="TIP_5.fonts11"><!-- POSTPROCESSDATA: TIP_5.fonts11|fonts:namesfonts:aliases --><COMMAND>xlsfonts.</COMMAND>For more information about that command, see the reference page <REFPAGE>xlsfonts(1)</REFPAGE>. If you enter the command:</PARAGRAPH>
<EXAMPLE>
<USERINPUT>xlsfonts | more</USERINPUT>
</EXAMPLE>
<PARAGRAPH>the resulting display contains entries such as:</PARAGRAPH>
<CODE>
-adobe-courier-bold-o-normal--0-0-0-0-m-0-iso8859-1
-adobe-courier-bold-o-normal--14-100-100-100-m-90-iso8859-1
-sgi-screen-medium-r-normal--14-140-72-72-m-70-iso8859-1
screen14
</CODE>
<PARAGRAPH>The first entry is an example of a 14-part X name for an outline (scalable) font. Numeric parts of font names are set to zero for outline fonts, because those fonts can be scaled to various sizes. The second and third entries are examples of 14-part X font names for bitmap fonts, while the last entry is an alias for the third entry. An X or DPS program can get a list of available fonts by calling <FUNCTION>XListFonts()</FUNCTION> or the function <FUNCTION>XListFontsWithInfo()</FUNCTION>.</PARAGRAPH>
</SECTION3>
<SECTION3 LBL="" HELPID = ""><TITLE><XREFTARGET ID="12350">Viewing Fonts</TITLE><PARAGRAPH>To see what a particular font looks like, use the command <INDEXTARGET ID="TIP_5.fonts12"><!-- POSTPROCESSDATA: TIP_5.fonts12|fonts:viewingfonts:<ITALICS>xfd </ITALICS>command<ITALICS>xfd </ITALICS>command --><COMMAND>xfd</COMMAND>, and specify a font name or font alias known to the X Window System by using the option <COMMAND>-fn</COMMAND>. For example, to display the 14-point Adobe Courier Bold font, enter:</PARAGRAPH>
<CODE>
<USERINPUT>xfd&nbsp;-fn&nbsp;-adobe-courier-bold-r-normal--14-140-75-75-m-90-iso8859-1</USERINPUT><BOLD>&space;</BOLD>
</CODE>
<PARAGRAPH>To request a Utopia Regular font scaled to the size of 28 points, enter: <INDEXTARGET ID="TIP_5.fonts13"><!-- POSTPROCESSDATA: TIP_5.fonts13|fonts:scaling --></PARAGRAPH>
<CODE>
<USERINPUT>xfd -fn -adobe-utopia-medium-r-normal--0-280-0-0-p-0-iso8859-1</USERINPUT>&space;
</CODE>
<PARAGRAPH>You can use an asterisk (*) to indicate that any value is acceptable for a part of an X font name. However, asterisks in a command must be protected from the shell with quotes. For example, enter: </PARAGRAPH>
<CODE>
<USERINPUT>xfd -fn "-*-itc bookman-demi-i-normal--11-80-100-100-p-63-iso8859-1"</USERINPUT>&space;
</CODE>
<PARAGRAPH>to indicate that <COMMAND>xfd</COMMAND> can use an ITC Bookman Demi Italic font from any foundry.</PARAGRAPH>
<PARAGRAPH>The <INDEXTARGET ID="TIP_5.fonts14"><!-- POSTPROCESSDATA: TIP_5.fonts14|fonts:display characters --><COMMAND>xfd</COMMAND> command displays all characters in a specified font, as shown in <XREF IDREF="72338" TYPE="GRAPHIC">Figure&nbsp;15-2</XREF>.</PARAGRAPH>
<PARAGRAPH><FIGURE><GRAPHIC FILE="xfd.gif" POSITION="INLINE" SCALE="FALSE"><CAPTION LBL="15-2"><PREFIX>Figure 15-2 </PREFIX><XREFTARGET ID="72338">Sample Display From xfd </CAPTION>
</FIGURE>
</PARAGRAPH>
<PARAGRAPH>To open a shell window that uses a certain font, enter:<INDEXTARGET ID="TIP_5.fonts15"><!-- POSTPROCESSDATA: TIP_5.fonts15|fonts:opening a shell window --></PARAGRAPH>
<EXAMPLE>
<USERINPUT>xwsh -fn </USERINPUT><VARIABLE>font-name</VARIABLE>&space;
</EXAMPLE>
</SECTION3>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE><XREFTARGET ID="41964">Getting the Current X Font Path</TITLE><PARAGRAPH>The X system locates font files along a path, similar to the execution path used to find executable files. To display the current X font path, enter this command:<INDEXTARGET ID="TIP_5.fonts16"><!-- POSTPROCESSDATA: TIP_5.fonts16|fonts:pathpath:fonts --></PARAGRAPH>
<EXAMPLE>
<USERINPUT>xset q</USERINPUT>&space;
</EXAMPLE>
<PARAGRAPH>In addition to other information, the <ITALICS>xset</ITALICS> utility displays font path information that may look like this:</PARAGRAPH>
<CODE>
Font Path:
/usr/lib/X11/fonts/100dpi/,/usr/lib/X11/fonts/75dpi/,
/usr/lib/X11/fonts/misc/,/usr/lib/X11/fonts/Type1/,
/usr/lib/X11/fonts/Speedo/,/usr/lib/X11/fonts/CID/
</CODE>
<PARAGRAPH>The X Window System checks the resolution of your video monitor. If that resolution is closer to 75 dpi than 100 dpi, it puts the directory <FILENAME>75dpi</FILENAME> ahead of the directory <FILENAME>100dpi</FILENAME> in the X font path.</PARAGRAPH>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE><XREFTARGET ID="49550">Changing the X Font Path</TITLE><PARAGRAPH>You can change the default X font path by using the option <COMMAND>fp= </COMMAND>on an <COMMAND>xset</COMMAND> command line. For example, enter:</PARAGRAPH>
<EXAMPLE>
<USERINPUT>xset fp=</USERINPUT><VARIABLE>newpath</VARIABLE>&space;
</EXAMPLE>
<PARAGRAPH>This command changes the X font path to the new font path (<VARIABLE>newpath</VARIABLE>).</PARAGRAPH>
</SECTION2>
</SECTION1>
<SECTION1 LBL="" HELPID = ""><TITLE><XREFTARGET ID="28671">Installing and Adding Font and Font Metric Files</TITLE><PARAGRAPH>This section explains where the various types of font and font metric files are installed by default, and how you can add one of your font or font metric files to the IRIX operating system. <INDEXTARGET ID="TIP_5.fonts17"><!-- POSTPROCESSDATA: TIP_5.fonts17|fonts:installing --></PARAGRAPH>
<PARAGRAPH>This section describes the following topics:</PARAGRAPH>
<BULLETLIST><BULLET><PARAGRAPH><XREF IDREF="57560" TYPE="TITLE">&ldquo;Locations of Font and Font Metric Files&rdquo;</XREF> covers the conventional directories and names for font files.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="36351" TYPE="TITLE">&ldquo;Adding Font and Font Metric Files&rdquo;</XREF> details adding a bitmap and outline font, and adding a font metric file.</PARAGRAPH>
</BULLET>
</BULLETLIST>
<SECTION2 LBL="" HELPID = ""><TITLE><XREFTARGET ID="57560">Locations of Font and Font Metric Files</TITLE><PARAGRAPH>By default, font and font metric files are installed in the directories listed in <INDEXTARGET ID="TIP_5.fonts18"><!-- POSTPROCESSDATA: TIP_5.fonts18|X Window System:installing fonts. <ITALICS>See </ITALICS>fonts, installing --><INDEXTARGET ID="TIP_5.fonts19"><!-- POSTPROCESSDATA: TIP_5.fonts19|fonts:adding --><XREF IDREF="18735" TYPE="TABLE">Table&nbsp;15-1</XREF>. </PARAGRAPH>
<TABLE COLUMNS="2"><CAPTION LBL="15-1"><PREFIX>Table 15-1 </PREFIX><XREFTARGET ID="18735">Font and Font Metric Directories</CAPTION>
<TABLEHEADING><CELL LEFT="0" WIDTH="126"><PARAGRAPH>Directory Path</PARAGRAPH>
</CELL>
<CELL LEFT="135" WIDTH="262"><PARAGRAPH>Conventional Contents</PARAGRAPH>
</CELL>
</TABLEHEADING>
<TABLEBODY><ROW><CELL LEFT="0" WIDTH="126"><PARAGRAPH><FILENAME>/usr/lib/DPS/outline/base</FILENAME></PARAGRAPH>
</CELL>
<CELL LEFT="135" WIDTH="262"><PARAGRAPH>Outline font files in the Adobe Type 1 format </PARAGRAPH>
<PARAGRAPH><INDEXTARGET ID="TIP_5.fonts20"><!-- POSTPROCESSDATA: TIP_5.fonts20|fonts:Type 1 font --></PARAGRAPH>
<PARAGRAPH></PARAGRAPH>
</CELL>
</ROW>
<ROW><CELL LEFT="0" WIDTH="126"><PARAGRAPH><FILENAME>/usr/lib/X11/fonts/Type1</FILENAME></PARAGRAPH>
</CELL>
<CELL LEFT="135" WIDTH="262"><PARAGRAPH>Symbolic links to font files in <FILENAME>/usr/lib/DPS/outline/base</FILENAME></PARAGRAPH>
</CELL>
</ROW>
<ROW><CELL LEFT="0" WIDTH="126"><PARAGRAPH><FILENAME>/usr/lib/DPS/AFM</FILENAME>&space;</PARAGRAPH>
</CELL>
<CELL LEFT="135" WIDTH="262"><PARAGRAPH>Adobe Font Metric (AFM) files</PARAGRAPH>
</CELL>
</ROW>
<ROW><CELL LEFT="0" WIDTH="126"><PARAGRAPH><FILENAME>/usr/lib/X11/fonts/100dpi</FILENAME>&space;</PARAGRAPH>
</CELL>
<CELL LEFT="135" WIDTH="262"><PARAGRAPH>Bitmap fonts designed for the screen resolution of 100 dpi</PARAGRAPH>
</CELL>
</ROW>
<ROW><CELL LEFT="0" WIDTH="126"><PARAGRAPH><FILENAME>/usr/lib/X11/fonts/75dpi</FILENAME></PARAGRAPH>
</CELL>
<CELL LEFT="135" WIDTH="262"><PARAGRAPH>Bitmap fonts designed for the screen resolution of 75 dpi</PARAGRAPH>
</CELL>
</ROW>
<ROW><CELL LEFT="0" WIDTH="126"><PARAGRAPH><FILENAME>/usr/lib/X11/fonts/misc</FILENAME></PARAGRAPH>
</CELL>
<CELL LEFT="135" WIDTH="262"><PARAGRAPH>Miscellaneous other bitmap fonts</PARAGRAPH>
</CELL>
</ROW>
<ROW><CELL LEFT="0" WIDTH="126"><PARAGRAPH><FILENAME>/usr/lib/X11/fonts/Speedo</FILENAME>&space;</PARAGRAPH>
</CELL>
<CELL LEFT="135" WIDTH="262"><PARAGRAPH>Outline font files in the Bitstream Speedo<SUPERSCRIPT>&trade;</SUPERSCRIPT> format <INDEXTARGET ID="TIP_5.fonts21"><!-- POSTPROCESSDATA: TIP_5.fonts21|Speedo format fontsfonts:Speedo format --></PARAGRAPH>
</CELL>
</ROW>
<ROW><CELL LEFT="0" WIDTH="126"><PARAGRAPH><FILENAME>/usr/lib/X11/fonts/CID</FILENAME></PARAGRAPH>
</CELL>
<CELL LEFT="135" WIDTH="262"><PARAGRAPH>AFM, CCM, CFM, CIDFont and CMap files for large outline fonts 
in the Adobe CID-keyed format</PARAGRAPH>
</CELL>
</ROW>
</TABLEBODY>
</TABLE>
<PARAGRAPH>The X Window System, Display PostScript, IRIS GL Font Manager, Impressario, and other software components use the directories listed in <XREF IDREF="18735" TYPE="TABLE">Table&nbsp;15-1</XREF> by default. The locations of font files are made known to the X Window System in two ways:</PARAGRAPH>
<BULLETLIST><BULLET><PARAGRAPH>Within each directory specified in the X font path, a file named <FILENAME>fonts.dir</FILENAME> contains a directory of filenames with their corresponding 14-part font names. For example, to see the font names available in <FILENAME>/usr/lib/X11/fonts/100dpi</FILENAME>, use the command</PARAGRAPH>
<EXAMPLE>
more /usr/lib/X11/fonts/100dpi/fonts.dir
</EXAMPLE>
<PARAGRAPH>This file is created by <COMMAND>mkfontdir</COMMAND> (see the <REFPAGE>mkfontdir(1)</REFPAGE> reference page).</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH>The files <FILENAME>/usr/lib/X11/fonts/ps2xlfd_map*</FILENAME> are used by the X Window System and the IRIS Font Manager to map PostScript names or short font names to 14-part X font names, and vice versa. The IRIS Font Manager does not use any bitmap fonts that do not have an entry in those files. </PARAGRAPH>
</BULLET>
</BULLETLIST>
<PARAGRAPH>In IRIX 6.5, the twelve bitmap and outline fonts appear in the install directories: </PARAGRAPH>
<BULLETLIST><BULLET><PARAGRAPH>Dutch 801 Roman, Dutch 801 Italic, Dutch 801 Bold, Dutch 801 Bold Italic</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH>Swiss 721 Roman, Swiss 721 Italic, Swiss 721 Bold, Swiss 721 Bold Italic</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH>Courier 10-Pitch Roman, Courier 10-Pitch Italic, Courier 10-Pitch Bold, and Courier 10-Pitch Bold Italic</PARAGRAPH>
</BULLET>
</BULLETLIST>
<PARAGRAPH>Each font contains 1015 characters. Those characters adhere to the International Organization for Standardization ISO8859-1 through ISO8859-10 and the Minimum European Subset (MES) of ISO10646-1 or Unicode 2.0. For more information about MES, use a web browser to open http://www.indigo.ie/egt/standards/mes.html. </PARAGRAPH>
<PARAGRAPH>Swiss 721 fonts are installed when you install the subsystem <FILENAME>x_eoe.sw.Xfonts</FILENAME>. The rest of the fonts are in the subsystem <FILENAME>x_eoe.sw.Xunicodefonts</FILENAME>. The subsystem <FILENAME>x_eoe.sw.Xfonts</FILENAME> is installed by default, while the subsystem <FILENAME>x_eoe.sw.Xunicodefonts</FILENAME> is optional. The new fonts are sometimes referred to as Unicode fonts, because they include Unicode character maps, and you can use Unicode codes to access characters in those fonts.</PARAGRAPH>
<SECTION3 LBL="" HELPID = ""><TITLE><XREFTARGET ID="24811">Conventions for Bitmap Font Filenames</TITLE><PARAGRAPH>The names of bitmap font files are specified according to the following conventions:</PARAGRAPH>
<BULLETLIST><BULLET><PARAGRAPH>Most filenames begin with three or four letters unique to the font family, such as <FILENAME>cour</FILENAME> for the Courier family, or <FILENAME>8x13</FILENAME> for a utility bitmap family.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH>When a family has different style variants such as Roman and Italic, the next character of the filename is an uppercase letter to indicate the style, for example <FILENAME>courO</FILENAME> for Courier Oblique, or <FILENAME>8x13B</FILENAME> for a utility bold font.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH>The last two characters of the filename are two digits giving the nominal size of the font in points, as in <FILENAME>courO18</FILENAME>.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH>Most bitmap files are of the Portable Compiled Format (PCF) type and have the file suffix <FILENAME>.pcf</FILENAME>, as in <FILENAME>courO18.pcf</FILENAME> or <FILENAME>8x13B.pcf</FILENAME>.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH>Files are compressed using the <COMMAND>compress</COMMAND> command (see the <REFPAGE>compress(1)</REFPAGE> reference page), and, therefore, have the terminal suffix <FILENAME>.Z</FILENAME> as in <FILENAME>courO18.pcf.Z</FILENAME>.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH>Exceptions to these conventions are names such as <FILENAME>Swiss721-Bold--Bitstream-Unicode-0_10.pcf.Z</FILENAME> which are bitmap fonts in the directory <FILENAME>/usr/lib/X11/fonts/100dpi</FILENAME>. These fonts use this format: </PARAGRAPH>
<EXAMPLE>
<VARIABLE>CIDFontName</VARIABLE>--<VARIABLE>CMapName</VARIABLE>_<VARIABLE>PointSize</VARIABLE>.pcf.Z 
</EXAMPLE>
<PARAGRAPH>where <VARIABLE>CIDFontName</VARIABLE> is the font family name, <VARIABLE>CMapName</VARIABLE> specifies the character map name, and <VARIABLE>PointSize</VARIABLE> is the nominal size of the font. These names are reserved for bitmap CID-keyed fonts.</PARAGRAPH>
</BULLET>
</BULLETLIST>
<PARAGRAPH>In <FILENAME>/usr/lib/DPS/AFM</FILENAME> there is one font metric file per typeface. When you install a font module, such as the Japanese Font Module, metric files for CID-keyed fonts are stored in the directory /usr/lib/X11/fonts/CID/character-collection/AFM. Font metric files are primarily used by text-processing and desktop-publishing programs to, for example, generate PostScript code for a specified document.</PARAGRAPH>
</SECTION3>
<SECTION3 LBL="" HELPID = ""><TITLE><XREFTARGET ID="65990">Creating Font Aliases</TITLE><PARAGRAPH>If you do not want to use long X font names, you can specify shorter aliases for those names. Silicon Graphics uses a file called <FILENAME>fonts.alias</FILENAME> to specify short aliases for fonts. There can be a <FILENAME>fonts.alias</FILENAME> file in an X font directory. For example, see the file <FILENAME>fonts.alias</FILENAME> in the directory <FILENAME>/usr/lib/X11/fonts/100dpi</FILENAME>.</PARAGRAPH>
<PARAGRAPH>A typical font alias looks like this:</PARAGRAPH>
<CODE>
fixed -misc-fixed-medium-r-semicondensed--13-120-75-75-c-60-iso8859-1
</CODE>
<PARAGRAPH>This associates the short alias &ldquo;fixed&rdquo; to the longer name that follows it. The alias file can also be used to specify alternate conventions for the component parts of a 14-part font name. For example, the following entry creates an alias that uses &ldquo;regular&rdquo; instead of &ldquo;medium&rdquo; for the weight component:</PARAGRAPH>
<CODE>
-adobe-utopia-regular-i-normal--14-100-100-100-p-74-iso8859-1
-adobe-utopia-medium-i-normal--14-100-100-100-p-74-iso8859-1
</CODE>
<PARAGRAPH>To specify your own font aliases in a font directory, store them in a file called <FILENAME>fonts.alias.local</FILENAME> in that directory. That way your entries do not disappear when you upgrade your system software.</PARAGRAPH>
</SECTION3>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE><XREFTARGET ID="36351">Adding Font and Font Metric Files</TITLE><PARAGRAPH>When you purchase a font or obtain a font that is in the public domain, you need to add that font to your system and possibly to your printer in order to use it. Adobe Systems donated bitmap, outline, and font metric files for the Utopia font family to the X Consortium. This section shows how the font and font metric files for Utopia Regular were added to the IRIX operating system. Other font and font metric files can be added in a similar way.<INDEXTARGET ID="TIP_5.fonts22"><!-- POSTPROCESSDATA: TIP_5.fonts22|fonts:adding:Utopia Regular font filesfonts:adding: font files --></PARAGRAPH>
<PARAGRAPH>You need superuser privilege to make changes to X font directories. Before you make any changes to any IRIX directory, make a copy of its contents so that you can restore that directory if anything goes wrong. For example, your font files may not be in the right format, and they may interfere with the access of Silicon Graphics font files. Keep a log of the changes you make, and mention those changes when you report a problem with font files to Silicon Graphics; otherwise, it may be very difficult or impossible for other people to reproduce any problems that you might report.</PARAGRAPH>
<SECTION3 LBL="" HELPID = ""><TITLE><XREFTARGET ID="46372">Adding a Bitmap Font</TITLE><PARAGRAPH>The procedure in this section shows how to add Utopia Regular bitmap fonts to IRIX. Other fonts can be added in a similar way.<INDEXTARGET ID="TIP_5.fonts23"><!-- POSTPROCESSDATA: TIP_5.fonts23|fonts:adding:bitmap font --></PARAGRAPH>
<PARAGRAPH>To add the Utopia bitmap fonts to the X Window System, Display PostScript, and IRIS&nbsp;GL Font Manager, follow these steps:</PARAGRAPH>
<ORDEREDLIST><LIST><PARAGRAPH>Log in as root.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Choose names for the installed bitmap files. Refer to the naming conventions for existing bitmap font files (see <XREF IDREF="24811" TYPE="TITLE">&ldquo;Conventions for Bitmap Font Filenames&rdquo;</XREF>) and use names with a consistent format when you create new font names. For example, Adobe provided Utopia Regular bitmap font files designed for the resolutions of 100 and 75 dpi. The original names of these files were <FILENAME>UTRG_10.bdf</FILENAME> through <FILENAME>UTRG_24.bdf</FILENAME>&space;</PARAGRAPH>
<PARAGRAPH>Filenames closer to IRIX conventions are <FILENAME>utopR10</FILENAME> through <FILENAME>utopR24</FILENAME> (followed by the appropriate file suffixes).</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Convert files in Bitmap Distribution Format (BDF) to Portable Compiled Format (PCF) font files. </PARAGRAPH>
<PARAGRAPH>BDF font files are text (ASCII) files. You can think of them as source font files. You can put BDF font files into an X font directory, but normal practice is to use only binary font formats such as the PCF (<FILENAME>.pcf</FILENAME>) or compressed PCF format (<FILENAME>.pcf.Z</FILENAME>) for performance reasons.</PARAGRAPH>
<PARAGRAPH>Use the <COMMAND>bdftopcf</COMMAND> command to convert a BDF font file to a PCF font file (see the <REFPAGE>bdftopcf(1)</REFPAGE> reference page). For example, Adobe provided two sets of Utopia Regular bitmap font files that were designed for the resolutions of 100 and 75 dpi. These files were in the extended Bitmap BDF 2.1 format. The original names of the bitmap files were <FILENAME>UTRG_10.bdf</FILENAME> through <FILENAME>UTRG_24.bdf</FILENAME>. One of them could be converted with the following command:</PARAGRAPH>
<EXAMPLE>
bdftopcf -o utopR10.pcf UTRG_10.bdf
</EXAMPLE>
<PARAGRAPH>However, you normally want to compress the PCF file as well.You can compress a PCF file by entering a command such as:</PARAGRAPH>
<EXAMPLE>
<USERINPUT>compress </USERINPUT>utopR10<USERINPUT>.pcf </USERINPUT>
</EXAMPLE>
<PARAGRAPH>But you could combine both steps simply as follows:</PARAGRAPH>
<EXAMPLE>
bdftopcf UTRG_10.bdf | compress -c >utopR10.pcf.Z
</EXAMPLE>
</LIST>
<LIST><PARAGRAPH>Move the bitmap font files to the appropriate directory, <FILENAME>/usr/lib/X11/fonts/100dpi</FILENAME> or <FILENAME>/usr/lib/X11/fonts/75dpi</FILENAME>. You can of course combine this step with the format conversion step as follows:</PARAGRAPH>
<CODE>
bdftopcf UTRG_10.bdf | compress -c 
&space;        >/usr/lib/X11/fonts/100dpi/utopR10.pcf.Z
</CODE>
<PARAGRAPH>You can tell the resolution for which a font was designed by the name of the directory in which the font designer stored the font files, or by the information in the header of a bitmap font file. In a BDF 2.1 font file, the horizontal and vertical resolution are specified in the X font name. They are also specified after the point size as the second and third numeric values in a SIZE entry. For example, the entry:</PARAGRAPH>
<EXAMPLE>
SIZE 8 100 100
</EXAMPLE>
<PARAGRAPH>within the file indicates an 8-point font that was designed for the horizontal and vertical resolution of 100 dpi.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>For Type&nbsp;1 PostScript font families, there is one entry per font family in the file <FILENAME>/usr/lib/X11/fonts/ps2xlfd_map</FILENAME>. For each Japanese font family shipped by Silicon Graphics, there is an entry in the file <FILENAME>/usr/lib/X11/fonts/ps2xlfd_map.japanese</FILENAME>.</PARAGRAPH>
<PARAGRAPH>When adding a new Type&nbsp;1 font, insert an entry in the appropriate file for each style variation in the font family. It is not necessary to have an entry for each bitmap size. For example, the entries in <FILENAME>ps2xlfd_map</FILENAME> for the Utopia fonts are:</PARAGRAPH>
<CODE>
Utopia-Bold -adobe-utopia-bold-r-normal--0-0-0-0-p-0-iso8859-1
Utopia-BoldItalic -adobe-utopia-bold-i-normal--0-0-0-0-p-0-iso8859-1
Utopia-Italic -adobe-utopia-medium-i-normal--0-0-0-0-p-0-iso8859-1
Utopia-Regular -adobe-utopia-medium-r-normal--0-0-0-0-p-0-iso8859-1
</CODE>
<PARAGRAPH>The first field is the PostScript font name, as specified in the outline font file (see <XREF IDREF="44746" TYPE="TITLE">&ldquo;Adding an Outline Font&rdquo;</XREF>). The second field is the X 14-part font name with 0 for all specific dimension values.</PARAGRAPH>
<PARAGRAPH>When you add your own bitmap or outline fonts, put their entries in a file called <FILENAME>/usr/lib/X11/fonts/ps2xlfd_map.local</FILENAME>. That way your entries do not disappear when you upgrade your system software.</PARAGRAPH>
<PARAGRAPH>Make sure that there is no overlap between your entries and the entries in other <FILENAME>ps2xlfd_map*</FILENAME> files.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>If you want to establish alias names for any of the new fonts, create or edit <FILENAME>fonts.alias</FILENAME> files in the appropriate directories (see <XREF IDREF="65990" TYPE="TITLE">&ldquo;Creating Font Aliases&rdquo;</XREF>).</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Invoke the <COMMAND>mkfontdir</COMMAND> command to rebuild the <FILENAME>fonts.dir</FILENAME> database in each directory where you added bitmap files. Enter the command:</PARAGRAPH>
<EXAMPLE>
<USERINPUT>mkfontdir /usr/libX11/fonts/*dpi</USERINPUT>&space;
</EXAMPLE>
<PARAGRAPH>to create a new <FILENAME>fonts.dir</FILENAME> (fonts directory) file in the <FILENAME>100dpi</FILENAME> and <FILENAME>75dpi</FILENAME> directories.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Use the <FILENAME>xset</FILENAME> command to notify the window system to rebuild its list of fonts:</PARAGRAPH>
<EXAMPLE>
<USERINPUT>xset fp rehash</USERINPUT>&space;
</EXAMPLE>
</LIST>
<LIST><PARAGRAPH>To check whether the fonts you added are known to the X Window System, enter:</PARAGRAPH>
<EXAMPLE>
<USERINPUT>xlsfonts > /tmp/fontlist</USERINPUT>&space;
</EXAMPLE>
<PARAGRAPH>The names of the fonts you added should appear on the list of font names and aliases produced by <COMMAND>xlsfonts</COMMAND>. </PARAGRAPH>
</LIST>
</ORDEREDLIST>
<PARAGRAPH>Bitmap fonts should now be added to the X Window System and the IRIS GL Font Manager. Since DPS needs both outline and bitmap fonts for each supported typeface, it first checks which outline fonts are stored in the directory <FILENAME>/usr/lib/DPS/outline/base</FILENAME>. Then it looks for the corresponding bitmap fonts in other X font directories. It ignores all other bitmap fonts. Therefore, DPS ignores the bitmap fonts you added until you add the corresponding outline fonts. </PARAGRAPH>
</SECTION3>
<SECTION3 LBL="" HELPID = ""><TITLE><XREFTARGET ID="44746">Adding an Outline Font</TITLE><PARAGRAPH>To add the Utopia Regular outline font to the X Window System, Display PostScript, and the IRIS GL Font Manager, follow these steps: <INDEXTARGET ID="TIP_5.fonts24"><!-- POSTPROCESSDATA: TIP_5.fonts24|fonts:adding:outline font --></PARAGRAPH>
<PARAGRAPH>You can install only Adobe text (ASCII) Type 1 font files or compatibles, not binary Type&nbsp;1 font files and not Type 3 font files. Display PostScript can handle Type 3 font files, but the X Window System and IRIS GL Font Manager cannot.</PARAGRAPH>
<ORDEREDLIST><LIST><PARAGRAPH>Log in as root.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Convert the file to Printer Font ASCII (PFA) format if necessary. Printer Font Binary (PFB) files are not supported. To convert <FILENAME>.pfb</FILENAME> files to <FILENAME>.pfa</FILENAME> files, use the <COMMAND>pfb2pfa</COMMAND> command shipped with IRIX version&nbsp;5.3 and higher (see the <REFPAGE>pfb2pfa(1)</REFPAGE> reference page). For example, to convert the Adobe file UTRG____.pfb, enter</PARAGRAPH>
<EXAMPLE>
pfb2pfa UTRG____.pfb UTRG____.pfa
</EXAMPLE>
</LIST>
<LIST><PARAGRAPH>Look at the names of existing outline font files in the directory <FILENAME>/usr/lib/DPS/outline/base</FILENAME>. Display PostScript requires that the name of each outline font file match the PostScript font name specified in the <SCREENDISPLAY>/FontName </SCREENDISPLAY>entry in the header of that outline font file. For example, if you enter:</PARAGRAPH>
<EXAMPLE>
<USERINPUT>grep /FontName Courier-Bold</USERINPUT>&space;
</EXAMPLE>
<PARAGRAPH>in the directory <FILENAME>/usr/lib/DPS/outline/base</FILENAME>, you get:</PARAGRAPH>
<EXAMPLE>
/FontName /Courier-Bold def 
</EXAMPLE>
<PARAGRAPH>The name revealed is used for the filename of the outline font, the filename of the metric file, and in the <FILENAME>/usr/lib/X11/fonts/ps2xlfd.map</FILENAME> file.</PARAGRAPH>
<PARAGRAPH>For example, Adobe provided the Utopia Regular outline font file <FILENAME>UTRG____.pfa</FILENAME>, which is an outline font file in the Type 1 format. To find the PostScript font name for this font, enter:</PARAGRAPH>
<EXAMPLE>
grep /FontName UTRG____.pfa
</EXAMPLE>
<PARAGRAPH>You should get the response:</PARAGRAPH>
<EXAMPLE>
/FontName Utopia-Regular def
</EXAMPLE>
<PARAGRAPH>When this font was added to IRIX, the name of the file <FILENAME>UTRG____.pfa</FILENAME> was changed to <FILENAME>Utopia-Regular</FILENAME>.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Put the file <FILENAME>Utopia-Regular</FILENAME> in the directory <FILENAME>/usr/lib/DPS/outline/base</FILENAME>, because that outline font is in the Type 1 format. If you have an outline font in the Speedo format, put it in the directory:</PARAGRAPH>
<EXAMPLE>
/usr/lib/X11/fonts/Speedo
</EXAMPLE>
</LIST>
<LIST><PARAGRAPH>To add the Utopia Regular font and font metric files to Display PostScript, enter:</PARAGRAPH>
<CODE>
/usr/bin/X11/makepsres -o /usr/lib/DPS/DPSFonts.upr
/usr/lib/DPS/outline/base /usr/lib/DPS/AFM
</CODE>
<PARAGRAPH>You should now be able to access the font file you added via Display PostScript.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>For most font families shipped by Silicon Graphics, there is one entry per font family in the file:</PARAGRAPH>
<EXAMPLE>
/usr/lib/X11/fonts/ps2xlfd_map
</EXAMPLE>
<PARAGRAPH>as described in <XREF IDREF="46372" TYPE="TITLE">&ldquo;Adding a Bitmap Font.&rdquo;</XREF> The same entry is used for both bitmap and outline fonts.</PARAGRAPH>
<PARAGRAPH>If you add your own (local) bitmap or outline fonts, put an entry for each font family in the file called:</PARAGRAPH>
<EXAMPLE>
/usr/lib/X11/fonts/ps2xlfd_map.local
</EXAMPLE>
<PARAGRAPH>You can use entries in the file <FILENAME>ps2xlfd_map</FILENAME> as templates for entries in the file <FILENAME>ps2xlfd_map.local</FILENAME>.</PARAGRAPH>
<PARAGRAPH>If the file <FILENAME>ps2xlfd_map.local</FILENAME> does not exist, log in as root, and create it.</PARAGRAPH>
<PARAGRAPH>You can now access the font you added via the IRIS GL Font Manager.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Display PostScript is an extension of the X Window System. To add an outline font in the Type 1 format to the rest of the X Window System, in any directory, enter the commands:</PARAGRAPH>
<CODE>
<USERINPUT>type1xfonts</USERINPUT>&space;
<USERINPUT>xset fp rehash</USERINPUT>&space;
</CODE>
<PARAGRAPH>This re-creates symbolic links in the directory <FILENAME>/usr/lib/X11/fonts/Type1</FILENAME> that point to outline font files in the directory <FILENAME>/usr/lib/DPS/outline/base</FILENAME>, and instructs the X Window System to check which fonts are available.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>To check whether the outline fonts you added are known to the X Window System, enter:</PARAGRAPH>
<EXAMPLE>
<USERINPUT>xlsfonts | grep </USERINPUT><VARIABLE>family-name</VARIABLE>&space;
</EXAMPLE>
</LIST>
</ORDEREDLIST>
<PARAGRAPH>The entries for the outline fonts you added should appear on the list of font names and aliases produced by <FILENAME>xlsfonts</FILENAME>.</PARAGRAPH>
</SECTION3>
<SECTION3 LBL="" HELPID = ""><TITLE>Adding a Font Metric File</TITLE><PARAGRAPH>Adobe Font Metric (AFM) files are primarily used by application programs&mdash;for example, to generate PostScript code for a specified document. Follow these steps to add a font metric file for an outline font in the Type 1 format:<INDEXTARGET ID="TIP_5.fonts25"><!-- POSTPROCESSDATA: TIP_5.fonts25|fonts:adding:font metric file --></PARAGRAPH>
<ORDEREDLIST><LIST><PARAGRAPH>Log in as root.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Put Adobe Font Metric files in the directory <FILENAME>/usr/lib/DPS/AFM</FILENAME>.</PARAGRAPH>
</LIST>
</ORDEREDLIST>
<PARAGRAPH>The name of an AFM file must match the PostScript font name as given in the file <FILENAME>/usr/lib/X11/fonts/ps2xlfd_map</FILENAME> (see <XREF IDREF="57560" TYPE="TITLE">&ldquo;Locations of Font and Font Metric Files&rdquo;</XREF>). </PARAGRAPH>
<PARAGRAPH>For example, Adobe provided the Utopia Regular font metric file <FILENAME>UTRG____.AFM</FILENAME>. When this font was added to IRIX, the name was changed to <FILENAME>Utopia-Regular</FILENAME> to correspond to the line </PARAGRAPH>
<EXAMPLE>
Utopia-Regular -adobe-utopia-medium-r-normal--0-0-0-0-p-0-iso8859-1
</EXAMPLE>
<PARAGRAPH>in <FILENAME>/usr/lib/X11/fonts/ps2xlfd_map</FILENAME>. </PARAGRAPH>
<PARAGRAPH>The file was put in the directory <FILENAME>/usr/lib/DPS/AFM</FILENAME>.</PARAGRAPH>
<PARAGRAPH>Font metric files for a large outline font in the CID-keyed format should be put in the directory /usr/lib/X11/fonts/CID/character-collection/AFM. There is one AFM file for each CIDFont file, and one AFM file for each CID-keyed font.</PARAGRAPH>
</SECTION3>
</SECTION2>
</SECTION1>
<SECTION1 LBL="" HELPID = ""><TITLE><XREFTARGET ID="86842">Downloading a Type 1 Font to a PostScript Printer</TITLE><PARAGRAPH>Some outline fonts are usually built into a PostScript printer. You can find out which fonts are known to the PostScript interpreter in your printer by sending the following file to that printer:<INDEXTARGET ID="TIP_5.fonts26"><!-- POSTPROCESSDATA: TIP_5.fonts26|fonts:Type 1 font --><INDEXTARGET ID="TIP_5.fonts27"><!-- POSTPROCESSDATA: TIP_5.fonts27|fonts:downloadingType 1 font. <ITALICS>See </ITALICS>fonts --></PARAGRAPH>
<CODE>
%!
% Produce a list of available fonts
/f 100 string def
/Times-Roman findfont 12 scalefont setfont
/y 700 def
72 y moveto
FontDirectory { 
&space;  pop f cvs show 72 /y y 13 sub def y moveto 
} forall
showpage
</CODE>
<PARAGRAPH>Utopia fonts are not usually built into PS printers. If you try to print a document that requires a Utopia font on a PS printer that does not have that font, a warning message about the replacement of a missing font with a Courier font is sent to the file<INDEXTARGET ID="TIP_5.fonts28"><!-- POSTPROCESSDATA: TIP_5.fonts28|fonts:PostScript printersprinters, PostScriptUtopia fontsfonts:Utopia fontsPostScript printersfonts:missing fonts --><FILENAME>&space;/usr/spool/lp/log</FILENAME> on the system to which that PS printer is attached.</PARAGRAPH>
<PARAGRAPH>You can download a Type 1 font to a PS printer in either of the following two ways:</PARAGRAPH>
<BULLETLIST><BULLET><PARAGRAPH>You can insert a Type 1 font file at the beginning of the PostScript file that needs that font. You should have a statement that starts with:</PARAGRAPH>
<EXAMPLE>
%!
</EXAMPLE>
<PARAGRAPH>Put this statement at the beginning of your PS file. If you have two such lines, delete the second one.</PARAGRAPH>
<PARAGRAPH>When you download a font this way, the font is available only while your print job is being processed.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH>You can make a copy of a Type 1 font file, and then insert the statement:</PARAGRAPH>
<EXAMPLE>
serverdict begin 0 exitserver 
</EXAMPLE>
<PARAGRAPH>after the first group of comment statements (lines that start with %) if no password has been specified for your printer; otherwise, replace 0 in the above statement with the password for your printer. Then send the edited file to your printer.</PARAGRAPH>
<PARAGRAPH>When you download a font this way, the warning message:<INDEXTARGET ID="TIP_5.fonts29"><!-- POSTPROCESSDATA: TIP_5.fonts29|warning messages:<ITALICS>lp </ITALICS>log filelog file warning messages<ITALICS>lp </ITALICS>log file warning messages --></PARAGRAPH>
<EXAMPLE>
%%[ exitserver: permanent state may be changed ]%%
</EXAMPLE>
<PARAGRAPH>is sent to the file <FILENAME>/usr/spool/lp/log</FILENAME> on the system to which the printer is attached. </PARAGRAPH>
<PARAGRAPH>The permanent state of the printer is not really changed. Downloaded fonts disappear when you reset the printer by switching its power off and on. If there is not enough memory for additional fonts, you receive a message about a Virtual Memory (VM) error, and the font is not downloaded.<INDEXTARGET ID="TIP_5.fonts30"><!-- POSTPROCESSDATA: TIP_5.fonts30|virtual memory:font loadingfonts:virtual memory --></PARAGRAPH>
<PARAGRAPH>If you again send the program that produces a list of available fonts to your printer, you should see the PostScript names of the fonts you downloaded on that list. </PARAGRAPH>
</BULLET>
</BULLETLIST>
</SECTION1>
</CHAPTER>
