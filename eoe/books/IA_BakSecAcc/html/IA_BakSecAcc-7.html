<HTML>
<HEAD>
<TITLE>IRIX Admin: Backup, Security, and Accounting
</TITLE></HEAD>
<BODY BGCOLOR="#F9F9F9">
<!-- dtlbook2html START -->
<HR noshade>
<FONT SIZE="-1"><A HREF="index.html"><B>IRIX Admin: Backup, Security, and Accounting</B></A><P><A HREF="IA_BakSecAcc-6.html"><IMG SRC="images/b_prev.gif" ALT="Prev" WIDTH=17 HEIGHT=17 BORDER=0 ALIGN=TOP></A>&nbsp; <A HREF="IA_BakSecAcc-8.html"><IMG SRC="images/b_next.gif" ALT="Next" WIDTH=17 HEIGHT=17 BORDER=0 ALIGN=TOP></A>&nbsp;&nbsp;&nbsp;&nbsp;Table of Contents:&nbsp;&nbsp;<A HREF="index.html">Basic</A>&nbsp;&nbsp;|&nbsp;&nbsp;<A HREF="fulltoc.html">Expanded</A></P></FONT>
<!-- dtlbook2html END -->

<A NAME=X></A><A NAME="SGI1"></A>
<H1 class="SGITPL-head">PART TWO<BR>Security</h1><p>Part II, <i>Security</i>, contains the following chapters:<p><b></b><A HREF="IA_BakSecAcc-7.html#SGI2" TARGET=_top>Chapter 4</A><b><br></b>IRIX System Security    <p><b></b><A HREF="IA_BakSecAcc-7.html#SGI47" TARGET=_top>Chapter 5</A><b><br></b><A HREF="IA_BakSecAcc-7.html#SGI59" TARGET=_top>Network Security</A><HR noshade><A NAME="SGI2"></A>
<H1 class="SGITPL-head">Chapter 4<BR> IRIX System Security</h1><p>This chapter deals with security of local systems. It includes the following sections:<ul><li><A HREF="IA_BakSecAcc-7.html#SGI3" TARGET=_top>"About System Security"</A>.<br><br><li><A HREF="IA_BakSecAcc-7.html#SGI4" TARGET=_top>"Standard Security Features"</A>, which is an overview of the standard security features incorporated in IRIX design.<br><br><li><A HREF="IA_BakSecAcc-7.html#SGI5" TARGET=_top>"Security Safeguards and Cautions"</A> is a list of areas to check for common security holes.<br><br><li><A HREF="IA_BakSecAcc-7.html#SGI6" TARGET=_top>"Password Administration"</A> details proper setup and control of system software and user accounts to increase security.<br><br><li><A HREF="IA_BakSecAcc-7.html#SGI18" TARGET=_top>"System Login and Account Administration"</A> covers proper maintenance of special accounts as well as user logins.<br><br><li><A HREF="IA_BakSecAcc-7.html#SGI29" TARGET=_top>"About Set-UID and Set-GID Permissions"</A> describes the nature and control of the file permissions that enable user and group IDs to be set on execution.<br><br><li><A HREF="IA_BakSecAcc-7.html#SGI33" TARGET=_top>"About General File and Directory Permissions"</A> discusses permission settings and lists IRIX files that are universally available for read and write access.<br><br><li><A HREF="IA_BakSecAcc-7.html#SGI34" TARGET=_top>"Accounts Shipped Without Passwords"</A> lists the user accounts in <i>/etc/passwd</i> that do not contain passwords on the software as shipped.<br><br><li><A HREF="IA_BakSecAcc-7.html#SGI35" TARGET=_top>"Security File and Command Reference"</A> lists IRIX security files and commands.<br><br><li><A HREF="IA_BakSecAcc-7.html#SGI36" TARGET=_top>"Enhanced Security Features"</A> describes access control lists (ACLs) and least-privilege capabilities.</ul><HR noshade><A NAME="SGI3"></A>
<h2 class="SGITPL-head">About System Security</h2><p>Once you have initially established the security of a system, you can expand your secure area to include the network. But until you have local security, there is no point in trying to establish security over a larger area. <p>In addition, security is never <i>finally</i> established. Security is a dynamic process, requiring you to understand many issues, keep up to date on them, and continually monitor your systems with the many tools available. This book endeavors to provide the information you need to establish a security policy and begin its implementation.<p>It is one thing to secure an isolated IRIX system, another to secure a local area network, and still another to secure a site that is connected to external wide area networks such as the Internet. This chapter deals primarily with taking steps to secure an isolated system, but many of these same steps must also be taken before undertaking the more ambitious job of securing a network.<p><A HREF="IA_BakSecAcc-7.html#SGI47" TARGET=_top>Chapter 5</A> discusses network security issues, which become important after the issues discussed in this chapter have been addressed to your satisfaction. If your systems are not connecting to the Internet but only to a trusted local area network, you should still read the first part of <A HREF="IA_BakSecAcc-7.html#SGI47" TARGET=_top>Chapter 5</A>, <A HREF="IA_BakSecAcc-7.html#SGI48" TARGET=_top>"Local Area Network Access"</A>.<P><B>Note: </B>The System Manager GUI provides Security and Access Control tasks that you can use to help manage security on your system. Refer to the <i></i>Personal System Administration Guide    <i></i> for more information. The discussion in this chapter is based on the command-line and file interface to many of the same functions controlled with the GUI.<HR noshade><A NAME="SGI4"></A>
<h2 class="SGITPL-head">Standard Security Features</h2><p>IRIX has several features that allow you to achieve a generally acceptable level of security without adding any new software. A great strength of the IRIX system is the ease with which users can share files and data. However, some of the security guidelines presented in this chapter are at odds with convenient system access. It is up to you, the system administrator, to balance the needs and concerns of the user community.<p>Standard security features of IRIX are:<ul><li>file ownership split into three classes   -       <i>owner</i>, <i>group</i>, and <i>other</i>   -       permits the owner of files to specify who is allowed access to the files<br><br><li>permissions split into three categories   -       <i>read</i>, <i>write</i>, and <i>execute</i>   -       permits the owner of files to specify the degree of access users may have to the files<br><br><li>individual user accounts, protected by individual, encrypted passwords <br><br><li>tools for monitoring login attempts and system activity, including:<ul><br><li>determining who is logged on the system, using the who(1) command <br><br><li>finding out which processes are running, using the ps(1) command <br><br><li>maintaining logs of system activity, using process accounting commands</ul><br><li>the ability to encrypt data, using the crypt(1) command </ul><HR noshade><A NAME="SGI5"></A>
<h2 class="SGITPL-head">Security Safeguards and Cautions</h2><p>Computer security is the responsibility of not only the site administrator, but of everyone who has access to a computer at the site. System users should safeguard their data by using appropriate file and directory permissions in addition to using and guarding their account passwords.<p>Site administrators, and to some extent system users, should be aware of the following:<ul><li>Anyone with physical access to a computer can simply take it or its disk drives(s). <br><br><li>The same caveat applies to backups of the system: keep backups in a secure place. Anyone with physical access to backup tapes can gain access to any information stored on them. <br><br><li>Permissions for directories and files should be set to allow only the necessary access for owner, group, and others. This minimizes the damage that one compromised account can cause.<br><br><li>There are several ways accounts and passwords protect the system:<ul><br><li>By requiring users to log in with specific accounts, you can determine who is responsible for specific actions on the system. <br><br><li>Using the IRIX system of file permissions, users can keep data reasonably secure. Other users on the system are less likely to accidentally view confidential material. <br><br><li>If all accounts have passwords, the chance of an unauthorized person accessing the system is greatly reduced. However, the possibility of unauthorized access increases if users are lax about choosing good passwords and changing their passwords regularly. The next section describes how to choose good passwords.</ul><br><li>All active accounts need passwords, which should be changed regularly. Do not use obvious passwords, and do not store them online in "plain-text" format. If you must write them down on paper, store them in a safe place.<p>For information about choosing passwords, see <A HREF="IA_BakSecAcc-7.html#SGI7" TARGET=_top>"Guidelines for Devising Passwords"</A>.<br><br><li>Common-use accounts are a potential security hole. An example of a common-use account is one that is shared by all members of a department or work group. Another example is a standard "guest" account on all the workstations at a site. This allows all users at the site access to different workstations without requiring specific accounts on each workstation.<p>A pitfall of common-use accounts is that you cannot tell exactly who is responsible for actions of the account on any given workstation. Another risk is that anyone trying to break into systems at your site will try obvious account names like <i>guest</i>.<p>Common-use accounts can be helpful, but be aware that they can pose serious security problems. Needless to say, common-use accounts without passwords are especially risky.<br><br><li>Using the <i>last</i> command, periodically monitor who logs into a system. The third field shows the hostname or IP address where remote logins originated; see last(1).<br><br><li>Accounts no longer in use should be either locked or backed up and removed, since unused accounts can be compromised as easily as current accounts.<p>Also, change critical passwords, including dialup passwords, whenever anyone leaves the organization. Former employees should not have access to workstations or servers at the site. <br><br><li>Systems with dialup ports should have special dialup accounts and passwords. This is very important for sites that have common-use accounts, as discussed above. Refer to the discussion on <i>/etc/d_passwd</i> in <A HREF="IA_BakSecAcc-7.html#SGI11" TARGET=_top>"Establishing Second (Dialup) Passwords"</A>.<p>However, even with this added precaution, do not store sensitive data on workstations that have dial-up access.<br><br><li>If your site allows access to the Internet network (for example, using ftp(1C)), take precautions to isolate access to a specific gateway workstation. Refer to <A HREF="IA_BakSecAcc-7.html#SGI57" TARGET=_top>"About Network Security and Firewalls"</A> for details on connecting to external networks.<br><br><li>Discourage use of the su(1M) command unless absolutely necessary. This command allows a user to change his or her user ID to that of another user. It is sometimes legitimately necessary to use <i>su</i> to access information owned by another user, but this presents an obvious temptation: the person using <i>su</i> to switch user IDs must know another person's password and therefore has full access to his or her account.<P><B>Note: </B>The file <i>/var/adm/sulog</i> contains a log of successful and unsuccessful attempts (indicated with a minus sign) to use the <i>su</i> command. By default, logging is already enabled in the <i>/etc/default/su</i> file.<br><br><li>Make sure that each user's home account, and especially the shell-startup files .<i>profile</i>, or .<i>login</i> and .<i>cshrc, </i>are writable only by that user. This ensures that "trojan horse" programs are not inserted in a user's login files. (A trojan horse program is a file that appears to be a normal file, but in fact causes damage when invoked by a legitimate user.) <br><br><li>Be sure that system directories such as <i>/</i> (root), <i>/bin</i>, <i>/usr/bin</i>, and <i>/etc</i> and the files in them are not writable except by the owner. This also prevents trojan horse attacks. <br><br><li>If you must leave your console, workstation, or terminal unattended, log off the system. This is especially important if you are logged in as <i>root</i>. Also, refer to the xlock(1) reference page for information on locking your local X display.<br><br><li>Sensitive data files should be encrypted. The crypt(1) command, together with the encryption capabilities of the editors (<i>ed</i> and <i>vi</i>), provides some protection for sensitive information.<br><br><li>Use only that software that is provided by reputable manufacturers. Be wary of programs that are distributed "publicly," especially already-compiled binaries. Programs that are available on public bulletin board systems (as opposed to BBSs run and sponsored by vendors) and on public computer networks could contain malicious "worm" routines that can violate system security and cause data loss.<p>Public-domain source code is safer than already-compiled programs, but only if you examine the code thoroughly before compiling it. Be suspicious of programs that must be installed with set-UID <i>root</i> in order to run. <br><br><li>Safeguard and regularly check your network hardware. One possible way to break into computer systems is to eavesdrop on network traffic using physical taps on the network cable. Taps can be physical connections (such as a vampire tap) or inductive taps.<p>Run networking cable through secure areas and make sure it is easy to examine regularly. Create and maintain a hard copy map of the network to make it easier to spot unauthorized taps. Another way to make this sort of attack less likely is to use fiber-optic (FDDI) network hardware, which is much more difficult to tap. For details on configuring network software securely, refer to <A HREF="IA_BakSecAcc-7.html#SGI47" TARGET=_top>Chapter 5</A>.</ul><p>System security under IRIX is primarily dependent on system login accounts and passwords. Proper administration, user education, and use of the facilities provided yield adequate security for most sites. Most security breaches are the result of human error and improper use of the provided security features. <i>No extra measures yield more security if the basic features are not used or are compromised by user actions</i>. Also, periodically log in with anonymous FTP to <i>sgigate.sgi.com</i> and look in the directory <i>~ftp/security</i> for any security patches for your system.<P><B>Note: </B>If you are using NFS or NIS on your system, see the discussions in <A HREF="IA_BakSecAcc-7.html#SGI76" TARGET=_top>"Disabling NIS (YP) on the Firewall"</A> and <A HREF="IA_BakSecAcc-7.html#SGI77" TARGET=_top>"Disallowing NFS Access on the Firewall"</A>.<HR noshade><A NAME="SGI6"></A>
<h2 class="SGITPL-head">Password Administration</h2><p>This discussion of password administration includes the following sections:<ul><li><A HREF="IA_BakSecAcc-7.html#SGI7" TARGET=_top>"Guidelines for Devising Passwords"</A> discusses how to choose more secure passwords and avoid easily guessed ones.<br><br><li><A HREF="IA_BakSecAcc-7.html#SGI8" TARGET=_top>"About PROM Passwords"</A> discusses use of PROM passwords.<br><br><li><A HREF="IA_BakSecAcc-7.html#SGI11" TARGET=_top>"Establishing Second (Dialup) Passwords"</A> discusses how to associate a second password (often called system or dialup passwords) with specific tty lines.<br><br><li><A HREF="IA_BakSecAcc-7.html#SGI12" TARGET=_top>"About Shadow Passwords"</A> describes the use of a shadow password file to hide even the encrypted passwords contained in the standard password file.<br><br><li><A HREF="IA_BakSecAcc-7.html#SGI14" TARGET=_top>"About Password Aging"</A> shows how to force users to choose new passwords at specified intervals.<br><br><li><A HREF="IA_BakSecAcc-7.html#SGI17" TARGET=_top>"Using pwck to Check the Password File"</A> introduces a useful tool that performs some useful password file checks.</ul><p>Managing passwords is also described in <i></i>IRIX Admin: System Configuration and Operation    <i></i>.<A NAME="SGI7"></A>
<h3 class="SGITPL-head">Guidelines for Devising Passwords</h3><p>Systems are most secure when nobody can access them without both an account and password, and if all the passwords on the system are difficult to guess and obtain. Unfortunately, many users choose passwords that are easy for potential intruders to guess, or write their passwords down on paper left near their workstations.<p>Also, many site administrators use the same password for multiple administrative accounts. This is not a good practice. Do not deliberately use the same password for more than one account.<p>More secure passwords are:<ul><li>long (the first eight characters are recognized)<br><br><li>multiple words that are combined or arranged in an unusual manner <br><br><li>words from multiple languages, combined in a unique way <br><br><li>composed of different kinds of characters, such as digits and punctuation<br><br><li>have all of these bulleted features</ul><p>Easily guessed passwords are:<ul><li>short <br><br><li>single words that are in a dictionary <br><br><li>the same as the account name, or the account name spelled backward <br><br><li>the name of the user's department or project <br><br><li>the user's name or initials <br><br><li>the license number of the user's car, a spouse or friend's name, the user's home address, phone number, age, or other obvious information<br><br><li>obvious   -       for example, "top secret," "secret," "private," "password," "friend," "key," "god," "me," and so on</ul><A NAME="SGI8"></A>
<h3 class="SGITPL-head">About PROM Passwords</h3><p>Your system has a facility that allows you to require a password from users who attempt to gain access to the Command (PROM) Monitor. This gives you greater control over who may perform system administration tasks. <p>Traditionally, if an intruder gains access to your system hardware, there is little you can do to maintain system security. In the simplest case, the intruder switches off the system, then turns it on again, and instructs the system from the console to boot a program other than your usual operating system. Alternatively, the intruder could simply remove the hard disk from your system and install it on another system and read your files. While there is nothing you can do with system software to prevent physical theft of the hardware, you can limit the ability of intruders to boot their programs or to otherwise damage your system at its lowest levels with a PROM password.<p>Note that if you forget your PROM password, but you still know your <i>root</i> password, you can reset the PROM password on most systems through the <i>nvram</i> command. If you cannot successfully reset the PROM password, you must remove the PROM or a jumper from your CPU board. See your <i>Owner's Guide</i> for information on this procedure. <p>To assign a new PROM password if you have forgotten it, first clear the existing PROM password from IRIX with the <i>nvram</i> command, and then assign a new one with the <i>passwd</i> command from the PROM monitor.<A NAME="SGI9"></A>
<h4 class="SGITPL-head">Clearing the PROM Password Using nvram</h4><p>To clear the PROM password using the nvram(1M) command, perform the following steps:<ol><li>Log in as <i>root</i>. <br><br><li>Give the following command:<pre><B>nvram passwd_key</B> <B>""</B></pre><p>Your PROM password is now cleared. </ol><A NAME="SGI10"></A>
<h4 class="SGITPL-head">Setting the PROM Password from the Command Monitor</h4><p>If you wish to set your PROM password from within the Command Monitor, perform the following steps:<ol><li>Log in as <i>root</i> and shut the system down.<br><br><li>When you see this message, press the <TT><B>Esc</B></TT> key for the System Maintenance Menu:<PRE>Starting up the system...
To perform system maintenance instead, press Esc</PRE><li>Select option 5 from the System Maintenance Menu to enter the Command Monitor. You see the Command Monitor prompt:<pre>>></pre><li>Type the <i>passwd</i> command and press <TT><B>Enter</B></TT>:<pre>passwd </pre><p>You see the prompt:<pre>Enter new password:</pre><li>Enter the password you want for your system and press <TT><B>Enter</B></TT>. You see the following prompt:<pre>Confirm new password:</pre><li>Enter the password again, exactly as you typed it before. If you typed the password the same as the first time, you see the Command Monitor prompt again.Your password is now set. Whenever you access the Command Monitor, you will be required to enter this password.</ol><p>Refer to <A HREF="IA_BakSecAcc-7.html#SGI7" TARGET=_top>"Guidelines for Devising Passwords"</A> for help in selecting a good password.<A NAME="SGI11"></A>
<h3 class="SGITPL-head">Establishing Second (Dialup) Passwords</h3><p>If your system requires additional protection, you can establish a system password. If you do this, users who log in on specific ports (ttys) are prompted for a system password in addition to their account passwords. This feature cannot be imposed on the system console, or any terminal where <i>clogin</i> or <i>xdm</i> is used.<p>System passwords are normally used only on dialup lines and are often referred to as dialup password<i>s</i>. You can use them on standard lines, but this is usually not necessary.<p>To establish a system password, follow these steps:<ol><li>Log in as <i>root</i>.<br><br><li>Edit the file <i>/etc/dialups</i>. Place in the file a list of ports (ttys) that require the second password. For example:<PRE><B>/dev/ttyd1</B> 
<B>/dev/ttyd2</B> 
<B>/dev/ttyd3</B> </PRE><p>All possible names for ports should be listed including links. Write the file and exit from the editor. <br><br><li>Decide on the desired password or passwords. System passwords are assigned on a shell-by-shell basis. You can assign the same password for all the possible shells on the system, assign different passwords for each shell, or use some combination of approaches. <br><br><li>Encrypt the desired password. You must use the <i>passwd</i> program to perform the encryption. You cannot use the crypt(1) command for this purpose.<p>To encrypt the password, make a backup copy of the <i>/etc/passwd</i> file, then change the password of some account (for example, create a new account called <i>dialup</i>) to get a password for use in <i>/etc/d_passwd</i>. Return the password file to its original state when you are finished, either by restoring the backup copy you made of <i>/etc/passwd</i>, or by removing the <i>dialup</i> account entry. (An account's encrypted password resides in the second field of <i>/etc/passwd</i>, or in <i>/etc/shadow</i> if the second field says x.)<p>For example, to change the password of the <i>bin</i> account to ``2themoon'' you enter:<PRE><B>passwd bin</B> 
New password:</PRE><p>Now enter the string "2themoon" and then press <TT><B>Enter</B></TT>. The string "2themoon" is not displayed as you type it.<p>Next you see:<PRE>Re-enter password:</PRE><p>Enter the string "2themoon" again and then press <TT><B>Enter</B></TT>. The string is still not displayed as you type it.<p>Examine the entry for the <i>bin</i> account in the file <i>/etc/passwd</i>. You should see something like this:<PRE>bin:SaXub4uaL5NP:2:2:System Tools Owner:/bin</PRE><p>The second field (between the first and second colons) is the encrypted version of the password "2themoon." (What you see may be different, even with the same password, depending on the "seed" the system uses to encrypt the password.)<br><br><li>Edit the file <i>/etc/d_passwd</i>. In the file, place lines in the format:<p><var>shell:password:</var><p><var>shell</var> is the command interpreter (shell) you wish to have a password, and <var>password</var> is the encrypted password. Make sure that all "shells" used in <i>/etc/passwd</i> (the seventh and final field) are listed in this file, including those for UUCP, PPP, SLIP, and so on.<p>For example, this command assigns the password "2themoon," which you encrypted in the previous step, to all C shell users who log in on the ttys specified in <i>/etc/dialups</i>:<PRE><B>/bin/csh:SaXub4uaL5NP2:</B> </PRE><p>You must place a colon at the end of the encrypted password, and you must enter the shell program pathname exactly as it appears in <i>/etc/passwd</i>.<p>Write the file and exit from the editor. <br><br><li>Make sure the files have appropriate permissions by issuing the command:<PRE><B>chmod 640 /etc/d_passwd /etc/dialups</B> </PRE><li>Remove the password you assigned to the system account in Step 4    . To do this, edit the file <i>/etc/passwd</i> and remove the string of characters in the second field. Return this field to the same state as when you began this procedure.</ol><p>Now, whenever C shell users log in on the ttys specified in <i>/etc/dialups</i>, they are prompted for the system password "2themoon" in addition to their account password.<p>Note that you must make similar entries for any other login shells used on your system such as <i>/bin/ksh</i>, <i>/usr/local/bin/bash</i>, and <i>/usr/bin/tcsh</i>.<A NAME="SGI12"></A>
<h3 class="SGITPL-head">About Shadow Passwords</h3><p>A "shadow" password file is simply a copy of the standard password file, but it is not accessible by non-privileged users. In the standard configuration, the <i>/etc/passwd</i> file is publicly readable. Since the <i>/etc/passwd</i> file contains the encrypted versions of users' passwords, anyone can make a copy and attempt decryption of the passwords for malicious purposes. By using a shadow password file, you prevent intruders from attempting to decrypt your passwords. <p>The shadow password file is called <i>/etc/shadow</i>. Once shadow passwords have been initialized, the password field in each <i>/etc/passwd</i> entry is replaced by an "x" character. All standard password tools work transparently with shadow passwords. The difference should not be noticeable to your users, except that they cannot see their encrypted passwords in the <i>/etc/passwd</i> file.<p>One exception is that older applications cannot get the proper value of <var>pw_passwd</var> from the getpwent(3C) and getpwnam(3C) library calls. This primarily affects "screen saver" programs, unless they have root privileges.<P><B>Note: </B>Shadow passwords work differently with NIS. See the shadow(4) reference page for details on the use of shadow passwords with NIS.<A NAME="SGI13"></A>
<h4 class="SGITPL-head">Using a Shadow Password File</h4><p>To initialize <i>/etc/shadow</i> (and thus invoke shadow passwords), run the <i>pwconv</i> command; see pwconv(1M). Once this command has been run, shadow passwords are in effect.<p>To update the password and shadow password files simultaneously, use the <i>passmgmt</i> command; see passmgmt(1M). The graphical System User Manager can also update shadow passwords if they are in effect.<A NAME="SGI14"></A>
<h3 class="SGITPL-head">About Password Aging</h3><p>The password aging mechanism forces users to change their passwords periodically. It also prevents a user from changing a new password before a specified time interval. You can also force a user to change his or her password immediately.<P><B>Note: </B>Password aging is not supported for NIS entries (see passwd(4)).<p>Realistically, password aging forces users to adopt at least two passwords for their accounts. This is because, when password aging is enforced, most users alternate between two passwords that they find easy to remember rather than inventing new passwords every time their old ones expire. IRIX does not provide a utility that determines whether users are choosing from a set of passwords and, if so, then forces them to choose completely different passwords.<A NAME="SGI15"></A>
<h4 class="SGITPL-head">Controlling Password Aging with the passwd Command</h4><p>To set the maximum number of days that can elapse before a user must change his or her password, use the passwd(1) command with the following syntax:<PRE><B>passwd -x </B><var>max  name</var></PRE><p>The value <var>max</var> is the maximum number of days the password is valid for the user <var>name</var>. For example, this command forces user <i>alice</i> to change her password every 14 days:<PRE><B>passwd -x 14 alice</B> </PRE><p>If you set <var>max</var> to 0, the user must change her password when she next logs in, but thereafter password aging is not in effect for her. If you set -x to -1, password aging is turned off immediately for that user.<p>You can also set the minimum time that must elapse before users are allowed to change their passwords. This is useful to prevent users from changing their passwords, then changing them back to their old passwords immediately. For example:<PRE><B>passwd -x 14 -n 7 ralph</B> </PRE><p>This forces user <i>ralph</i> to change his password every fourteen days and prevents him from changing it more frequently than once every seven days. Note that if you set the minimum value greater than the maximum value, the user may not ever change his or her password.<p>To force users to change their passwords immediately, use the -f option. For example:<PRE><B>passwd -f trixie</B> </PRE><A NAME="SGI16"></A>
<h4 class="SGITPL-head">Controlling Password Aging by Editing /etc/passwd</h4><p>Another way to enforce password aging is to edit the <i>/etc/passwd </i>file and insert the appropriate information after the password fields in the desired account entries.<p>Password aging information is appended to the encrypted password field in the <i>/etc/passwd</i> file. The password aging information consists of a comma and up to four bytes (characters) in the format:<PRE><var>,Mmww </var></PRE><p>The meaning of these fields is as follows:<dl><dt>,<dd><br>The comma separates the password and the aging information.<dt><br>M<dd><br>The Maximum duration of the password.<dt><br>m<dd><br>The minimum time interval before the existing password can be changed by the user.<dt><br>ww<dd><br>The week (counted from the beginning of 1970) when the password was last changed and two characters, <var>ww</var>, are used. You do not enter this information. The system automatically adds these characters to the password aging information.</dl><p>All times are specified in weeks (0 through 63) by a 64-character alphabet. The following chart shows the relationship between the numerical values and character codes. Any of the character codes can be used in the four fields of the password aging information. <A HREF="IA_BakSecAcc-7.html#SGITF1" TARGET=_top>Table 4-1</A> lists the password aging codes and their meanings.<TABLE BORDER CELLPADDING=10><p><A NAME="SGITF1"></A><CAPTION ALIGN=TOP><B>Table 4-1 :  </B>Password Aging Character Codes</CAPTION><TR VALIGN=TOP ALIGN=LEFT><TH>Character</TH><TH>Number of Weeks </TH><TR ALIGN=LEFT VALIGN=TOP><TD><p>. (period)</TD><TD><p>0 (zero)</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>/ (slash)</TD><TD><p>1</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>0 through 9</TD><TD><p>2 through 11</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>A through Z</TD><TD><p>12 through 37</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p>a through z</TD><TD><p>38 through 63</TD></TR></TABLE> <br><br><p>Two special cases apply for the character codes:<ul><li>If M and m are equal to zero, the user is forced to change the password at the next login. No further password aging is then applied to that login account. <br><br><li>If m is greater than M, only <i>root</i> is able to change the password for that login account.</ul><p>The following example shows the password aging information required to establish a new password every two weeks (0) and to deny changing the new password for one week (/) for user <i>ralph</i>:<PRE>ralph:RSOE2m.E,0/:100:1:Ralph P. Cramden:/usr/people/ralph: </PRE><p>After <i>ralph</i>'s first login following the change, the system automatically adds the two-character, "last-time-changed" information to the password field:<PRE>ralph:RSOE2m.E,0/W9:100:1:Ralph P. Cramden:/usr/people/ralph: </PRE><p>In this example, ralph changed his password in week W9. To force ralph to change his password at the next login (and to cause this only once), you can add the code ,.. to the password field:<PRE>ralph:RSOE2m.E<B>,..</B>:100:1:Ralph P. Cramden:/usr/people/ralph: </PRE><p>After <i>ralph</i> changes his password, the system automatically removes the aging code (,..) from the password field. To prevent <i>ralph</i> from changing his password, use the code <TT><B>,./</B></TT>. Edit the <i>/etc/passwd</i> file and add a comma, period, and slash to the password field:<PRE>ralph:RSOE2m.E<B>,./</B>:100:1:Ralph P. Cramden:/usr/people/ralph: </PRE><p>Now only <i>root</i> can change the password for the <i>ralph</i> account. If <i>ralph</i> tries to change the password, he sees the message <TT>permission denied. </TT><A NAME="SGI17"></A>
<h3 class="SGITPL-head">Using pwck to Check the Password File</h3><p>From time to time, you should run the pwck(1M) utility to scan the password file. This program reads the file and checks each entry for completeness and notes any inconsistencies. The password checks include validation of:<ul><li>the number of fields in each entry<br><br><li>the login name<br><br><li>the user ID number<br><br><li>the group ID number<br><br><li>the login directory<br><br><li>the executed program</ul><p>The default password file to be checked is <i>/etc/passwd</i>. If shadow passwords (described in <A HREF="IA_BakSecAcc-7.html#SGI12" TARGET=_top>"About Shadow Passwords"</A>) are enabled, the <i>/etc/shadow</i> file is checked.<p>Similarly, the grpck(1M) command verifies all entries in the <i>/etc/group</i> file. The default group file to be checked is <i>/etc/group</i>. With either command, an alternate file may be specified on the command line.<HR noshade><A NAME="SGI18"></A>
<h2 class="SGITPL-head">System Login and Account Administration</h2><p>This section describes how to control special and login accounts. Special accounts are used by the system to perform specific system functions, and login accounts are user accounts allowing general-purpose system access.<A NAME="SGI19"></A>
<h3 class="SGITPL-head">About Special Accounts</h3><p>Special accounts are used by daemons to perform system functions, such as spooling UUCP jobs and print requests. Because key files are owned by these accounts, someone who has obtained access to one of the accounts, or was able to start a daemon on your system, could partially breach security. Partially, because ownership of the various system files is distributed among the special accounts.<p>Guard access to all the special accounts as you would the root account. Either assign passwords to these accounts, or lock them using one of the methods described in <A HREF="IA_BakSecAcc-7.html#SGI20" TARGET=_top>"Locking Unused Logins"</A>.<p>Following is a list of all the administrative and special accounts on the system and what they are used for:<dl><dt>root <dd><br>This login has no restrictions, and it overrides all other logins, protections, and permissions. It allows you access to the entire operating system. The password for the <i>root</i> login should be very carefully protected. <dt><br>sys <dd><br>This login has the power of a normal user login over the files it owns, which are in <i>/usr/src</i>. Its login should be disabled.<dt><br>bin <dd><br>This login has the power of a normal user login over the files it owns, which are throughout the system. Its login should be disabled.<dt><br>adm <dd><br>This login has the power of a normal user login over the files it owns, which are located in <i>/var/adm</i>. You may su to the adm login. This login should be disabled.<dt><br>uucp <dd><br>This login owns the object and spooled data files in <i>/usr/lib/uucp</i> and <i>/etc/uucp</i>.<dt><br>nuucp <dd><br>This login is used by remote workstations to log into the system and initiate file transfers through <i>/usr/lib/uucp/uucico</i>.<dt><br>daemon <dd><br>This login is the system daemon, which controls background processing. Its login should be disabled.<dt><br>lp <dd><br>This login owns the object and spooled data files in <i>/var/spool/lp</i>. Its login should be disabled unless the system is a print server.</dl><A NAME="SGI20"></A>
<h3 class="SGITPL-head">Locking Unused Logins</h3><p>If a login is not used or needed, disable (lock) the login. You should not remove the account, though, because of the danger of reusing the UID in the future. User ID numbers are meant to be permanently associated with the person who used the account. If you reuse the UID number, the new user may find files that belonged to the previous owner of the ID number. These files may contain "trojan horse" programs that could damage your system. You may remove the user's home directory and files (after making a backup), but you should never remove an entry from your <i>/etc/passwd</i> file.<p>There are two ways to lock an account. The first is using the <i>passwd</i> command with the -l option. For example, the current entry in<i> /etc/passwd</i> for the user <i>jones</i> might look like this:<PRE>jones:6.D/N3ZFGmq7U:3333:10:Jeremiah Jones:/usr/people/jones:/bin/tcsh</PRE><p>The following command changes the password field of the entry in <i>/etc/passwd</i> for account <i>jones </i>to <TT>*LK*</TT>, which blocks all logins to that account:<PRE><B>passwd -l jones</B></PRE><p>The password field entry now looks like this:<PRE>jones:*LK*:3333:10:Jeremiah Jones:/usr/people/jones:/bin/tcsh</PRE><p>The second way to lock an account is by editing the password file directly. Change the password field to any string of characters that is not used by the password encryption program to create encrypted passwords. The <i>passwd</i> command with the -l option uses the string <TT>*LK*</TT>. You can use other strings to lock accounts. <p>For example, you can use a descriptive phrase such as "LOCKED;" to remind you that the account was deliberately disabled:<PRE>ralph:<B>LOCKED</B>;:100:1:Ralph P. Cramden:/usr/people/ralph: </PRE><p>The semicolon is not used in an encrypted password and causes the account to be locked. The text "LOCKED" is merely to remind you that the account is locked.<p>Another common method of disabling a password is to put an asterisk (*) in the password field. The default IRIX <i>/etc/passwd</i> file disables some unused logins this way.  Be sure to check your <i>/etc/passwd</i> file to be sure all logins have passwords or are disabled.<A NAME="SGI21"></A>
<h3 class="SGITPL-head">System Login Options</h3><p>You can set the following login options to enhance security:<ul><li>Restrict <i>root</i> logins to a specific device, typically the system console.<br><br><li>Specify the number of times an attempt to log in can fail before the login exits.<br><br><li>If the login process is disabled, specify how long before it can be resumed.<br><br><li>Specify whether to maintain a log of logins and what information to store: all logins or only those that were unsuccessful.<br><br><li>Specify whether to force a user who does not have a password to choose one immediately upon logging in.<br><br><li>If a login fails after the specified maximum number of attempts, disable the account by locking the password, with possible exceptions including the <i>root</i> account.<br><br><li>Specify whether or not to display, after successful login, the date and time when the user last logged in.</ul><p>Login options are set in the file <i>/etc/default/login,</i> which is a normal text file. The file contains one option specification per line. Options are described in the rest of this section. See the login(1) reference page for further details.<p>Because the login procedure is your system's main defense against unauthorized access, login options are important. For example, you can determine whether someone is trying to break into your system from a pattern of failed login attempts recorded in <i>/var/adm/SYSLOG</i> (when logging is enabled, which is the default).<p>The best way to keep a system secure is to slow down attempts to guess passwords and account names. The login options described in this section add delays to unsuccessful login attempts, which drastically curtails the activity of randomly guessing passwords.<p>Note that the visual login process clogin(1) does not provide these security options. To use the login security functions, you must turn off <i>clogin</i> and use the standard login processes, getty(1) and login(1). Use <i>chkconfig</i> to turn off the <var>visuallogin</var> and <var>xdm</var> configuration variables. See <i></i>IRIX Admin: System Configuration and Operation    <i></i> and the visuallogin(4) reference page for information about turning the visual login process on and off. You may also use <i>chkconfig</i> to set the <var>noiconlogin</var> variable to disallow logging in using the user icons in <i>clogin</i>.<A NAME="SGI22"></A>
<h4 class="SGITPL-head">Restricting root Logins </h4><p>You can restrict <i>root</i> logins to a single device, forcing <i>root</i> users to either use that device or use the <i>su</i> command (thereby leaving a trail in <i>/var/adm/sulog</i>). For example, edit <i>/etc/default/login</i> to include the following line to restrict root logins to the system console:<pre><B>CONSOLE=/dev/console</B></pre><P><B>Note: </B>Do not name <i>/dev/syscon</i> or <i>/dev/systty</i> as the device! These devices are the same as <i>/dev/console</i>, but login software does not treat them alike.<A NAME="SGI23"></A>
<h4 class="SGITPL-head">Restricting Login Attempts (MAXTRYS)</h4><p>MAXTRYS is the number of times a login attempt can fail before retracting the login. Setting this parameter slows attempts by unauthorized persons to break into a system.  A common method of breaking into a system is to try to guess the password of a known account. This method is most successful if the person trying to break in knows the names of as many accounts as possible, and can make guesses very quickly. If you introduce a delay in the login process after a certain number of failed login attempts on the same <var>tty</var> line, you can make it much more time-consuming to guess a password correctly.<p>To set the maximum number of login attempts, edit the file <i>/etc/default/login</i>. Place a line like this in the file: <PRE><B>MAXTRYS=4</B> </PRE><p>This sets the maximum number of login attempts to four (the system default, without this option set, is three).<p>When the maximum number of login attempts is exceeded, the <i>login</i> program sleeps for a certain number of seconds (the DISABLETIME variable described in the next section), thus preventing further login attempts on that line for a while. The system default delay (DISABLETIME) is 20 seconds. This example login attempt was disabled after three tries:<PRE>login: <B>guest</B>
password:
Login incorrect
login: <B>guest</B>
password:
Login incorrect
login: <B>guest</B>
password:
Login incorrect</PRE><p>At this point, no further login prompts are displayed until the period of time specified by DISABLETIME has passed.<A NAME="SGI24"></A>
<h4 class="SGITPL-head">Setting a Time Period to Disable a Line (DISABLETIME) </h4><p>Use this option together with the MAXTRYS option. To set the number of seconds after which a certain number of unsuccessful login attempts a line is disabled, edit the file <i>/etc/default/login</i> and add a line like this:<PRE><B>DISABLETIME=30</B> </PRE><p>This disables a line for 30 seconds. You can choose any value you consider appropriate for your system. The system default is 20 seconds.<A NAME="SGI25"></A>
<h4 class="SGITPL-head">Recording Login Attempts </h4><p>Both successful and unsuccessful login attempts are usually recorded in the file <i>/var/adm/SYSLOG</i>. The default setting, which causes the system to record all attempts to log in, even successful ones, is this line in the file <i>/etc/default/login</i>:<PRE><B>SYSLOG=ALL</B> </PRE><p>To record only unsuccessful login attempts, replace that line with this line:<PRE><B>SYSLOG=FAIL</B> </PRE><p>A large number of failed logins, especially with the same account name, may indicate that someone is trying to break into that account and thus into the system. Security event auditing could help here; see <A HREF="IA_BakSecAcc-8.html#SGI2" TARGET=_top>Chapter 6, "Administering the System Audit Trail."</A><A NAME="SGI26"></A>
<h4 class="SGITPL-head">Forcing a Password </h4><p>To force users without account passwords to choose their passwords immediately, add this line to the file <i>/etc/default/login</i>:<PRE><B>PASSREQ</B></PRE><p>Or instead, insert the following entry to prevent users from logging in if they do not already have a password:<PRE><B>MANDPASS=YES</B></PRE><A NAME="SGI27"></A>
<h4 class="SGITPL-head">Disabling Accounts (LOCKOUT)</h4><p>LOCKOUT specifies the number of consecutive unsuccessful login attempts by a user after which the account is locked with <i>passwd</i>-l<var>username</var>. (See <A HREF="IA_BakSecAcc-7.html#SGI20" TARGET=_top>"Locking Unused Logins"</A> for information about account locking.)<p>If you set the LOCKOUT option, it is best to exempt at least the <i>root</i> account with the LOCKOUTEXEMPT option to prevent denial of service attacks; see login(1).<A NAME="SGI28"></A>
<h4 class="SGITPL-head">Displaying the Last Login Time </h4><p>Users can help maintain system security by noticing unauthorized use of their accounts. By default, the most recent login date, time, and the name of the terminal line (<var>tty</var> name) or remote host from which the user logged in is displayed on login. This login attempt information is recorded in files, one per user account and with the same name as the account, in the directory <i>/var/adm/lastlog</i>. <p>Users can stop the last login information from being displayed by having a <i>.hushlogin</i> file in their home directory, but they should be discouraged from doing so. Remind them periodically to look at the information each time they log in for any unusual information.<HR noshade><A NAME="SGI29"></A>
<h2 class="SGITPL-head">About Set-UID and Set-GID Permissions</h2><p>The set user identification (set-UID) and set group identification (set-GID) permissions must be used very carefully. When a user runs an executable file that has either of these permissions, the system gives the user the permissions of the owner of the executable file. You can add these permissions to any executable file with the chmod(1) command.<p>Set-UID and set-GID programs have legitimate uses, but because they are potentially harmful, there should be very few of them on your system. Beware of programs in publicly writable directories (such as <i>/tmp</i>, <i>/usr/tmp.O</i>, <i>/var/tmp</i>, and <i>/usr/spool/uucppublic</i>) that have the same name as common systems files (such as <i>vi</i> and <i>rm</i>). One reason the PATH environment variable of the <i>root</i> account does not include the current directory (as does the default PATH of most other users) is so that <i>root</i> won't accidentally execute such "booby-trap" programs.<p>System security can be compromised if a user copies another program onto a file with <TT>-rwsrwxrwx </TT>permissions. To take an extreme example, if the <i>su</i> command has the write access permission allowed for others, anyone can copy the shell onto it and get a password-free version of <i>su</i>.<p>The following sections provide some example commands that identify files on the system with set-UID permissions. For more information about the set-UID and set-GID bits, see the chmod(1) and chmod(2) reference pages.<A NAME="SGI30"></A>
<h3 class="SGITPL-head">Checking for Set-UID Files Owned by root</h3><p>The following command line lists all set-UID files owned specifically by <i>root</i>:<PRE><B>find / -user root -perm -4000 -print</B></PRE><p>The results of this command are printed on the screen. All paths are checked starting at /, including all mounted directories. A great number of files will be found. It is up to you to scan these files for any unusual names. One possibility is to direct the output of this program to a file soon after installation and compare the results with later outputs. If this command reports any unusual files, investigate them immediately. <p>A suspicious file might turn up like this:<PRE>-r-sr-xr-x 1 root  bin   38836 Aug 10 16:16 /usr/bin/at 
-r-sr-xr-x 1 root  bin   19812 Aug 10 16:16 /usr/bin/crontab 
-r-sr-xr-x 1 root  bin   27748 Aug 10 16:16 /usr/bin/shl 
---s--x--x 1 root  sys   46040 Aug 10 15:18 /usr/bin/ct 
-r-sr-sr-x 1 root  bin   33208 Aug 10 15:55 /usr/lib/lpadmin 
-r-sr-sr-x 1 root  bin   38696 Aug 10 15:55 /usr/lib/lpsched 
---s--x--- 1 root  user  45376 Aug 18 15:11 /usr/jbond/bin/sh 
-r-sr-xr-x 1 root  sys   11416 Aug 11 01:26 /bin/mkdir 
-r-sr-xr-x 1 root  sys   11804 Aug 11 01:26 /bin/rmdir 
-r-sr-xr-x 1 root  bin   12524 Aug 11 01:27 /bin/df 
-rwsr-xr-x 1 root  sys   21780 Aug 11 01:27 /bin/newgrp 
-r-sr-sr-x 1 root  sys   23000 Aug 11 01:27 /bin/passwd 
-r-sr-xr-x 1 root  sys   23824 Aug 11 01:27 /bin/su </PRE><p>In this example, the user <i>jbond</i> has a personal copy of <i>/bin/sh</i> and has made it set-UID to <i>root</i>. This means that anyone in the group <i>user</i> can execute <i>/usr/jbond/bin/sh</i> and become the superuser.<A NAME="SGI31"></A>
<h3 class="SGITPL-head">Checking for Set-UIDs in the root Filesystem</h3><p>The following command line reports all files with a set-UID for the <i>root</i> filesystem (not just those owned by <i>root</i>) on EFS filesystems: <PRE><B>ncheck -s /dev/root | xargs ls -ld | cut -f2 | grep -v ~/dev/</B> 
<B>ls -l `/etc/ncheck -s /dev/root | cut -f2 | grep -v dev`</B> </PRE><p>The ncheck(1M) command, by itself, can be used on a mounted or unmounted file system. Only the superuser may use <i>ncheck</i>. The normal output of the <i>ncheck -s</i> command includes special files. Here, the <i>grep</i> command removes device files from the output. This filtering is applicable only for the <i>root</i> filesystem. The output of the modified <i>ncheck</i> is then used as an argument to the <i>ls</i> command. The filesystem must be mounted for the <i>ls</i> command to succeed. In this example output, nothing looks suspicious:<PRE>-r-sr-xr-x  1 root   bin    12524   Aug 11 01:27 /bin/df 
-rwxr-sr-x  1 root   sys    32272   Aug 10 15:53 /bin/ipcs 
-r-xr-sr-x  2 bin    mail   32852   Aug 11 01:28 /bin/mail 
-r-sr-xr-x  1 root   sys    11416   Aug 11 01:26 /bin/mkdir 
-rwsr-xr-x  1 root   sys    21780   Aug 11 01:27 /bin/newgrp 
-r-sr-sr-x  1 root   sys    23000   Aug 11 01:27 /bin/passwd 
-r-xr-sr-x  1 bin    sys    27964   Aug 11 01:28 /bin/ps 
-r-xr-sr-x  2 bin    mail   32852   Aug 11 01:28 /bin/rmail 
-r-sr-xr-x  1 root   sys    11804   Aug 11 01:26 /bin/rmdir 
-r-sr-xr-x  1 root   sys    23824   Aug 11 01:27 /bin/su 
-r-xr-sr-x  1 bin    sys    21212   Aug 10 16:08 /etc/whodo </PRE><p>For XFS filesystems, use the <i>find</i> command:<PRE><B>find / -perm -4000 -print</B></PRE><A NAME="SGI32"></A>
<h3 class="SGITPL-head">Checking Set-UIDs in Filesystems Other Than root</h3><p>This example uses the <i>ncheck</i> command to examine the <i>/home </i>partition (<i>/dev/dsk/dks0d2s7</i> in this example) for files that have set-UID permissions:<PRE><B>/etc/ncheck -s /dev/dsk/dks0d2s7 | cut -f2</B> </PRE><p>In this output below, the i-node number is given with complete pathnames for files, which start with<i> /home</i>, although <i>/home</i> is not part of the <i>ncheck</i> output. <PRE>/dev/dsk/dks0d2s7:
3971    /jbond/bin/sh</PRE><p>In the <i>ncheck</i> output, the program <i>/home/jbond/bin/sh</i> should be investigated. This program is not found in a system directory. It is a command shell residing in a user's home directory. Users should, in general, not possess set-UID binaries.<HR noshade><A NAME="SGI33"></A>
<h2 class="SGITPL-head">About General File and Directory Permissions</h2><p>Be conservative when establishing or changing permission bit settings on all files and directories. The safest settings do not allow write access, but where this is not possible, it may be possible to limit write access to the owner of the file or directory, or at least just to the owner and the group.<p>The following files and directories are universally available for read and write access on IRIX as shipped. Depending on your site requirements, you may wish to change the permissions on these files to be more restrictive. See the chmod(1) reference page for a discussion on setting the sticky bit on such directories as <i>/tmp</i> (this is the IRIX default) to restrict removal and renaming of files.<ul><li><i>/tmp</i><br><br><li><i>/usr/demos/.xsession</i><br><br><li><i>/usr/Insight/tmp</i><br><br><li><i>/usr/Insight/tmp/ebtpriv</i><br><br><li><i>/usr/Insight/tmp/ebtpub</i><br><br><li><i>/usr/Insight/tmp/install.insight.log</i><br><br><li><i>/usr/lib/emacs/maclib</i><br><br><li><i>/usr/lib/showcase/fonts</i><br><br><li><i>/usr/lib/showcase/images</i><br><br><li><i>/usr/lib/showcase/models</i><br><br><li><i>/usr/lib/showcase/templates</i><br><br><li><i>/usr/tmp.O</i><br><br><li><i>/var/spool/locks</i><br><br><li><i>/var/spool/uucppublic</i><br><br><li><i>/var/tmp</i></ul><P><B>Caution: </B>Restricting permissions on historically open directories, such as <i>/tmp</i>, <i>/usr/tmp.O</i>, and /<i>var/tmp</i> (linked to <i>/usr/tmp</i>), can cause serious malfunctions in many programs, applications, and system utilities that write temporary files on behalf of users in these directories.<p>Systems should not be running the <i>rfindd </i>daemon, because it allows external access to file, directory, and permissions listings. See rfindd(1M) for more information.<HR noshade><A NAME="SGI34"></A>
<h2 class="SGITPL-head">Accounts Shipped Without Passwords</h2><p>The following accounts in your default <i>/etc/passwd</i> file are shipped without passwords. You should create passwords for at least the root account immediately.<ul><li>root   -       Superuser<br><br><li>lp   -       Print Spooler Owner<br><br><li>nuucp   -       Remote UUCP User<br><br><li>EZsetup   -       System Setup<br><br><li>demos   -       Demonstration User<br><br><li>OutOfBox   -       Out of Box Experience<br><br><li>guest   -       Guest Account<br><br><li>4Dgifts   -       4Dgifts Account</ul><P><B>Caution: </B>Creating passwords on historically open accounts, such as <i>lp</i>, may cause certain related applications or operations to fail.<HR noshade><A NAME="SGI35"></A>
<h2 class="SGITPL-head">Security File and Command Reference</h2><p>This section summarizes in two tables some IRIX files and commands that establish and control security. <A HREF="IA_BakSecAcc-7.html#SGITF2" TARGET=_top>Table 4-2</A> lists the IRIX files concerned with security and <A HREF="IA_BakSecAcc-7.html#SGITF3" TARGET=_top>Table 4-3</A> lists security-related commands.<TABLE BORDER CELLPADDING=10><p><A NAME="SGITF2"></A><CAPTION ALIGN=TOP><B>Table 4-2 :  </B>IRIX Security Files</CAPTION><TR VALIGN=TOP ALIGN=LEFT><TH>File</TH><TH>Purpose</TH><TH>Reference</TH><TR ALIGN=LEFT VALIGN=TOP><TD><p><i>/etc/default/login</i></TD><TD><p>Control login actions</TD><TD><p>login(1)</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p><i>/etc/default/su</i></TD><TD><p>Define <i>su</i> command 
defaults</TD><TD><p>su(1M)</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p><i>/etc/passwd</i></TD><TD><p>Store password and 
account information</TD><TD><p>passwd(1), passwd(4)</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p><i>/etc/shadow</i></TD><TD><p>Hide password 
information</TD><TD><p>shadow(4), pwconv(1M)</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p><i>/var/adm/sulog</i></TD><TD><p>Log <i>su</i> command usage</TD><TD><p>su(1M)</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p><i>/var/adm/SYSLOG</i></TD><TD><p>Log system messages</TD><TD><p>syslogd(1M)</TD></TR></TABLE> <br><br><TABLE BORDER CELLPADDING=10><p><A NAME="SGITF3"></A><CAPTION ALIGN=TOP><B>Table 4-3 :  </B>IRIX Security Commands</CAPTION><TR VALIGN=TOP ALIGN=LEFT><TH>Command Example</TH><TH>Purpose</TH><TH>Reference</TH><TR ALIGN=LEFT VALIGN=TOP><TD><p><TT><B>arp -a</B></TT></TD><TD><p>Display current ARP 
entries</TD><TD><p>arp(1M), arp(7P)</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p><TT><B>crypt </B></TT><var></var><var>password</var></TD><TD><p>Encode/decode 
input/output</TD><TD><p>crypt(1)</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p><TT><B>last</B></TT></TD><TD><p>Indicate last logins of 
users and terminals</TD><TD><p>last(1)</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p><TT><B>ncheck</B></TT></TD><TD><p>Generate pathnames from 
i-numbers</TD><TD><p>ncheck(1M)</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p><TT><B>passwd</B></TT></TD><TD><p>Change password</TD><TD><p>passwd(1), passwd(4)</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p><TT><B>ps -elf</B></TT></TD><TD><p>Display a full, long list of 
every process currently 
running</TD><TD><p>ps(1)</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p><TT><B>pwck</B></TT></TD><TD><p>Report inconsistencies in 
<i>/etc/passwd</i> file</TD><TD><p>pwck(1M), passwd(4)</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p><TT><B>sar</B></TT></TD><TD><p>System activity reporter</TD><TD><p>sar(1), sadc(1M)</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p><TT><B>satd</B></TT></TD><TD><p>Reliably save the system 
audit trail</TD><TD><p>satd(1M) and "Placing the 
Audit Files"    </TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p><TT><B>vi -x</B></TT></TD><TD><p>Edit encrypted file</TD><TD><p>vi(1), crypt(1)</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p><TT><B>w</B></TT></TD><TD><p>Display users logged in 
with current activity</TD><TD><p>w(1)</TD></TR><TR ALIGN=LEFT VALIGN=TOP><TD><p><TT><B>who</B></TT></TD><TD><p>Display users logged in, 
their tty, and time of login</TD><TD><p>who(1)</TD></TR></TABLE> <br><br><HR noshade><A NAME="SGI36"></A>
<h2 class="SGITPL-head">Enhanced Security Features</h2><p>IRIX 6.5 and later include enhanced security features from Commercial Security Pak, namely access control lists (ACLs) and least-privilege capabilities.<A NAME="SGI37"></A>
<h3 class="SGITPL-head">Access Control Lists (ACLs)</h3><p>An ACL works in the same way as standard file permissions, but it allows you to get a finer level of control over who may access the file or directory than standard permissions allow. ACLs allow you to specify file permissions on a user-by-user basis.<p>Every system file or directory has an Access Control List that governs its discretionary access. This ACL is referred to as the access ACL for the file or directory. In addition, a directory may have an associated ACL that governs the initial access for files and subdirectories created within that directory. This ACL is referred to as a default ACL. A user who wishes to gain access to the files in a directory must be on both ACLs and must be allowed by IRIX file permissions to successfully gain access. If you have not created an access ACL for a file, the default ACL serves both ACL functions.<p>Hereafter in this section, directories are treated as files, and where the term file is used, consider that it also applies to directories. <p>An ACL is stored in the same way that standard file permissions are stored; as an attribute of the file or directory. To view the ACL of a file, use the -D option to ls(1) as shown in this example:<pre><B>ls -D</B> <i>/usr/people/ernie/testfile</i> </pre><p>The command above produces output similar to this:<pre>testfile [user::rwx ,user:332:r--,user:ernie:rw-] </pre><p>This example shows full permissions for the owner with the first entry on the line, sets read permission for user ID 332 with the second entry, and sets read/write permission for the user account ernie. The specific format of an ACL entry is discussed in the section titled <A HREF="IA_BakSecAcc-7.html#SGI38" TARGET=_top>"Long ACL Text Form."</A><p>To set or change an ACL, use the chacl(1) command:<pre><B>chacl</B> <var>acl_entry</var>[,<var>acl_entry</var>]...</pre><p>An ACL consists of a set of ACL entries separated by commas. An ACL entry specifies the access permissions on the associated file for an individual user or a group of users. The order of internal storage of entries within an ACL does not affect the order of evaluation. To read an ACL from an object, a process must have read access to the file.To create or change an ACL, the process must own the file. <p>ACLs have long and short text forms. The long text form is defined first in order to give a complete specification with no exceptions. The short text form is defined afterwards because it is specified relative to the long text form.<A NAME="SGI38"></A>
<h4 class="SGITPL-head">Long ACL Text Form</h4><p>The long text form is used for either input or output of ACLs and is set up as follows:<pre><var>acl_entry</var>[,<var>acl_entry</var>]...</pre><p>Though it is acceptable to place more than one entry on a physical line in a file, placing only one entry per line improves readability. <p>Each entry contains one ACL statement with three required colon-separated fields and an optional comment:<pre><var>entry tag type</var>:<var>entry qualifier</var>:<var>discretionary access permissions</var>#<var>comment</var> </pre><p>Comments may be included with any entry. If a comment starts at the beginning of a line, then the entire line is interpreted as a comment. The first field must always contain the ACL entry tag type.<p>One of the following ACL entry tag type keywords must appear in the first field:<dl><dt><var>user</var><dd><br>Access granted to either the file owner or to a specified user account.<dt><br><var>group</var><dd><br>Access granted to either the file owning user group or to a specified user group.<dt><br><var>other</var><dd><br>Access granted to any process that does not match any user, group, or implementation-defined ACL entries.<dt><br><var>mask</var><dd><br>Maximum access that can be granted by any ACL entry except the <i>user</i> entry for the file owner and the <var>other</var> entry.</dl><p>The second field contains the ACL entry qualifier (referred to in the remainder of this section as simply <i>qualifier</i>). The following qualifiers are defined by default:<dl><dt><var>uid</var><dd><br>User account name or a user ID number.<dt><br><var>gid</var><dd><br>User group name or a group ID number.<dt><br><var>empty</var><dd><br>No <var>uid</var> or <var>gid</var> information is to be applied to the ACL entry. The entry applies to the file owner only. An empty qualifier is represented by an empty string or by white space.</dl><p>The third field contains the discretionary access permissions that are to apply to the user or group specified in the first field. The discretionary access permissions field must contain exactly one each of the following characters in the following order:<dl><dt> r<dd><br>Read access. <dt><br>w<dd><br>Write access. <dt><br>x<dd><br>Execute access. </dl><p>Any or all of these may be replaced by the no-access dash(). <p>A user entry with an empty qualifier specifies the access granted to the file owner. A user entry with a <var>uid</var> qualifier specifies the access permissions granted to the user name matching the <var>uid</var> value. If the <var>uid</var> value does not match a user name, then the ACL entry specifies the access permissions granted to the user ID matching the <var>uid</var> value.<p>A group entry with an empty qualifier specifies the access granted to the default user group of the file owner. A group entry with a <var>gid</var> qualifier specifies the access permissions granted to the group name matching the <var>gid</var> value. If the <var>gid</var> value does not match a group name, then the ACL entry specifies the access permissions granted to the group ID matching the <var>gid</var> value. The <var>umask</var> and other entries contain an empty qualifier. A crosshatch (#) starts a comment on an ACL entry. A comment may start at the beginning of a line, or after the required fields and after any custom-defined, colon-separated fields. The end of the line denotes the end of the comment. <p>If an ACL entry contains permissions that are not also contained in the <var>umask</var> entry, then the output text form for that entry must be displayed as described above followed by a crosshatch (#), the string "effective:" and the effective file access permissions for that ACL entry. <p>White space is permitted (but not required) in the entries as follows: <ul><li>at the start of the line<br><br><li>immediately before and after a colon (:) separator<br><br><li>immediately before the first crosshatch (#) comment character<br><br><li>at any point after the first crosshatch (#) comment character </ul><p>Comments have no effect on the discretionary access check of the object with which they are associated. <p>Here is an example of a correct long text form ACL for a file:<PRE>user::rwx,user:332:r--,user:ernie:rw- </PRE><p>The above example sets full permissions for the owner with the first entry on the line, sets read permission for user ID 332 with the second entry, and sets read/write permission for the user account ernie. <p>Here are some examples with comments:<PRE>group:10:rw-# User Group 10 has read/write access
other::---# No one else has any permission
mask::rw-# The maximum permission except for the owner is read/write</PRE><A NAME="SGI39"></A>
<h4 class="SGITPL-head">Short ACL Text Form</h4><p>The short text form is used by the chacl(1) command for input of ACLs, and is set up as follows:<pre><var>acl_entry</var>[,<var>acl_entry</var>]...</pre><p>Though it is acceptable to place more than one entry on a physical line in a file, placing only one entry per line improves readability. <p>Each command line contains one ACL entry, with the exception that the ACL entry tag type keyword must appear in the first field in either its full unabbreviated form or its single-letter abbreviated form.<p>The abbreviation for user is <var>u</var>, the abbreviation for group is <var>g</var>. The abbreviation for other is <var>o</var>, and the abbreviation for mask is <var>m</var>.<p>There are no exceptions for the second field in the short text form for ACLs. The discretionary access permissions must appear in the third field in either absolute symbolic form or relative symbolic form.<p>The relative symbolic form must be preceded by a plus sign (+) to indicate additional access or a caret (^) to indicate that access is to be removed. The relative symbolic string must be at least one character.<p>The symbolic string contains at most one each of the following characters in any order: <ul><li>r <br><br><li>w <br><br><li>x </ul><p>For example, the short form should look very similar to the following:<PRE>u: :rwx # The file owner has complete access
u:332:+r # User Acct 332 has read access only
g:10:rw- # User Group 10 has read/write access
u:653:^w # User Acct 653 (who is in group 10) has read access only
o::--- # No one else has any permission
m::rw- # The maximum permission except for the owner is read/write</PRE><A NAME="SGI40"></A>
<h4 class="SGITPL-head">Using ls -D and chacl</h4><p>You can use the output from the <i>ls -D</i> command as the input to <i>chacl</i>. This is convenient for situations where you wish to duplicate a complex custom ACL onto a new file in a directory that does not use the complex ACL as the default. Consider this example:<pre><B>ls -dD </B><var>testdir</var> </pre><p>The command given above produces the following output:<pre>testdir [u::rwx,g::r-x,o::--x/u::rwx,g::r-x,o::---]</pre><p>Create a new directory (it doesn't matter where) with this command:<pre><B>mkdir</B> <var>newdir</var> </pre><p>Then use the following command to edit and copy the ACL (give this command all on one line):<pre><B>chacl -b `ls -dD </B><var>testdir </var><B>| cut -d"[" -f2 | cut -d"/" -f1``ls -dD </B><var>testdir</var><B> | cut -d"[" -f2 |  cut -d"/" -f2 | cut -d"]" -f1`</B><var>newdir</var> </pre><p>The ACL from <i>testdir</i> will be replicated in <i>newdir</i>. Note that the <i>cut</i> command is used within the above command line. For complete information on the correct use of <i>cut</i> in any command line, see the cut(1) reference page. After giving the above command, an ACL listing of <i>newdir</i> shows that the ACL from <i>testdir</i> has been duplicated:<pre><B>ls -dD </B><var>newdir</var> 
newdir [u::rwx,g::r-x,o::--x/u::rwx,g::r-x,o::---] </pre><p>Note that the cut and paste functions of the window manager can also be used to duplicate ACL entries from<i> ls -D</i> to <i>chacl</i>.<A NAME="SGI41"></A>
<h3 class="SGITPL-head">Least-Privilege Capabilities</h3><p>Capabilities are privileges assigned to specific accounts to allow those accounts to perform operations formerly reserved to the Superuser. To maintain the principle of least privilege, the capabilities of the Superuser account can be subdivided into various capabilities, which can be assigned to separate individual accounts. The corresponding capability is placed on sensitive executable files and programs on your system. Account capability and executable capability must be compatible for the user to execute the program. For a more technical discussion, see the capabilities(4) reference page.<p>The fundamental purpose of capabilities is to allow you to perform administration tasks from standard login accounts without requiring the use of Superuser or other privileged accounts. A capability endorsement may be granted to any user account, and a corresponding capability requirement attached to only those system objects that the owner of the endorsed account has a legitimate need to use. This follows the trusted systems principle of least privilege   -       using the lowest possible promotion of privileges necessary to get the job done. Capabilities implement least privilege both by limiting the number of users privileged to perform various tasks and by limiting the privilege to just one program, or section of code within, necessary to perform the proper action. <p>It is usually inappropriate to grant capabilities to ordinary users of the system. Should you decide to do so, remember the principle of least privilege: A user should have only those capabilities for which a need can be demonstrated and no others.<p>Capabilities provide fine-grained control over the privileges of a process. A process can be granted specific capabilities to perform privileged system calls, but not be granted general override of the system's protection scheme as is the case with a setuid <i>root</i> program. The IRIX capability mechanism is designed to comply with Draft 15 of the POSIX P1003.1e Draft 15 specification.<A NAME="SGI42"></A>
<h4 class="SGITPL-head">The /etc/capability File</h4><p>The file <i>/etc/capability</i> is the database of capabilities for user accounts. Here is an example:<PRE>root:all+eip:all+eip 
auditor:CAP_AUDIT_WRITE,CAP_AUDIT_CONTROL,CAP_KILL+eip 
ernie:all=:CAP_FOWNER,CAP_SETFCAP+eip 
casey:all=:all+eip # We trust Casey. 
jeff:all+eip CAP_NETWORK_MGT-eip:all+eip 
fred:all=:all= </PRE><p>Each entry consists of up to three colon-separated fields, as follows:<pre>username : default_capability : maximum_capability </pre><ul><li>The username is the user's login name. This must be exactly the same as that found in the <i>/etc/passwd</i> file.<br><br><li>The default capability set is applied at login time to the user's shell process. A user may request additional capabilities at login time. If capabilities not present in this entry are requested at login time, the login attempt will fail.<br><br><li>The maximum capability field describes all those capabilities that may be requested and received by the user's processes. </ul><p>The default and maximum capability fields are of the following form:<pre><i>capname</i>,<i>capname</i> <i>operator</i> <i>flags</i> </pre><p>The <var>capname</var> element(s) are taken from the list of capabilities supplied in the section titled <A HREF="IA_BakSecAcc-7.html#SGI43" TARGET=_top>"Capabilities in This Release."</A><p>The <var>operator</var> can be any one of the following:<dl><dt>+<dd><br>Add this capability (or list of capabilities) to the following sets. <dt><br> -<dd><br>Delete this capability (or list of capabilities) to the following sets. <dt><br>=<dd><br>Revoke this capability (or list of capabilities) for the duration of this process for the following sets.</dl><p>The <var>flags</var> that represent the capability sets are one or more of the following:<dl><dt> i<dd><br>Inheritable set of capabilities: the capabilities that can be passed to child processes.<dt><br>e<dd><br>Effective set of capabilities: the capabilities currently active.<dt><br>p<dd><br>Permitted set of capabilities: the maximum set of capabilities for the process.</dl><p>Each field contains a list of clauses. Each clause is a space-separated list of capabilities and an operator/set statement. All characters after # to the end of the entry line are interpreted as comments and are ignored. The clauses are interpreted sequentially, as read (left to right). This means that the last operation specified for a capability within an entry is the one that counts. <p>Now look at the sample <i>/etc/capability</i> file again:<PRE>root:all+eip:all+eip 
auditor:CAP_AUDIT_WRITE,CAP_AUDIT_CONTROL,CAP_KILL+eip: 
ernie:all=:CAP_FOWNER,CAP_SETFCAP+eip 
casey:all=:all+eip # We trust Casey. 
jeff:all+eip CAP_NETWORK_MGT-eip:all+eip 
fred:all=:all= </PRE><p>In this sample file, note the following:<ul><li>The <i>root</i> account has all capabilities added by default with all flags. <br><br><li>The auditor account has only those capabilities necessary to manage the system audit trail, and the capability to kill processes. <br><br><li>The ernie account has no default capabilities, but if necessary can acquire the capabilities to work on other people's files and set capability requirements for executable files. <br><br><li>The casey account has no default capabilities, but can acquire full capabilities if necessary. There is also a comment to that effect.<br><br><li>The jeff account has a default set of full capabilities, modified by a subsequent clause to delete the network management capability. However, Jeff can request a full capability set if needed.<br><br><li>The fred account has no capabilities, nor can Fred request any. </ul><p>Every running process has three capability sets: <i>effective</i>, <i>permitted</i>, and <i>inheritable</i>.<ul><li>The effective set is used in access control decisions for that process. <br><br><li>The inheritable set is used in the calculation of new capability sets during exec(2) processing, when a user invokes an executable file. <br><br><li>The permitted set is the maximum set of capabilities that the process may attain. </ul><p>Each executable file has the same three capability sets as well. These sets influence the final effective capability set of the new process created when a user invokes the program: <ul><li>The new effective set is the intersection of the permitted set of the parent process and the executable file's effective set. That is, if the executable file's effective set of capabilities includes a capability that is within the permitted set of the calling process, but not within that process' effective set, the capability will be added to the child process' effective set. <br><br><li>The new inheritable capability set is the intersection of the inheritable capabilities of the calling process and the inheritable capability set of the executable file. That is, only those capabilities that are inheritable by the executable file and are designated inheritable by the parent process will be inheritable in the new process.   <br><br><li>The new permitted capability set is the union of the executable file's permitted set and the intersection of the new inheritable set and the parent process' permitted set. That is,  all permitted capabilities of both the file and the parent process are permitted so long as each capability is inheritable by both the parent process and the executable file. </ul><p>The effective capability set of the parent process does not influence any of the new sets, and the executable file's inheritable set defines an upper bound on the capabilities available to the new process. <A NAME="SGI43"></A>
<h4 class="SGITPL-head">Capabilities in This Release</h4><p>The following capabilities are shipped in this distribution:<dl><dt>ALL<dd><br>Indicates all capabilities.<dt><br>CAP_ACCT_MGT<dd><br>Privilege to issue accounting setup system calls such as acct(2).<dt><br>CAP_AUDIT_CONTROL<dd><br>Privilege to manage the system audit trail such as the sat_read(2) and sat_write(2) system calls.<dt><br>CAP_AUDIT_WRITE<dd><br>Privilege to write to the system audit trail such as the  sat_write(2) system call.<dt><br>CAP_CHOWN<dd><br>Privilege to change the owner of a file not owned by the process and with the system configured for _POSIX_CHOWN_RESTRICTED on changing file ownership.<dt><br>CAP_CHROOT<dd><br>Privilege to execute the chroot(2) system call.<dt><br>CAP_DAC_EXECUTE<dd><br>Privilege to execute a file when the permissions or Access Control List would prohibit it.<dt><br>CAP_DAC_READ_SEARCH<dd><br>Privilege to read a file or search a directory even though the permissions or Access Control List would prohibit it.<dt><br>CAP_DAC_WRITE<dd><br>Privilege to write a file or update a directory when permissions or Access Control Lists would have prohibited it.<dt><br>CAP_DEVICE_MGT<dd><br>Privilege to issue restricted device management calls and ioctl actions such as the following:<ul><br><li>XLV logical volume interface - Defines logical volumes and various parameters about them. <br><br><li><i>syssgi</i>(SGI_FS_INUMBERS) - Returns all the valid internal handles (inode numbers) on an XFS file system. <br><br><li><i>syssgi</i>(SGI_FS_BULKSTAT) - Returns file status (struct stat) "in bulk" for an entire file system. <br><br><li><i>fcntl</i>(F_FSSETDM) - Set the DMA parameters for a file. <br><br><li>DMI interface - Used by tertiary storage management products. <br><br><li>Set the CLOCAL flag on a port marked CD_MODEM using ioctl with TCSETA, TCSETAF or TCSETAW control parameters. <br><br><li>Perform privileged operations on a disk using ioctl.<br><br><li>Access to the hardware performance monitor using syssgi(2). <br><br><li>Load, unload, register and unregister loadable device drivers, streams modules, and file systems (mload(4)). <br><br><li>Revoke access to a device using vhangup(2). <br><br><li>Control memory error handling using syssgi(2). <br><br><li>Establish a user level interrupt handler (uli(3)). <br><br><li>Get and set file system attributes. </ul><dt><br>CAP_FOWNER<dd><br>Privilege to operate on a file as if the process owned it. This capability overrides the requirement that the user ID associated with a process be equal to the file owner ID, except in the cases where the CAP_FSETID capability is applicable. In general, this capability, when effective, will permit a process to perform all the functions that any file owner would have for their files.<dt><br>CAP_FSETID<dd><br>Privilege to set the setuid or setgid bits of a file without being the owner. Also, the privilege to change the owner of a file with setuid or setgid bits set. This capability overrides the following restrictions: <ul><br><li>That the effective user ID of the calling process shall match the file owner when setting the set-user-ID (S_ISUID) and set-group-ID (S_ISGID) bits on that file.<br><br><li>That the effective group ID or one of the supplementary group IDs of the calling process shall match the group ID of the file when setting the set-group-ID bit of that file.<br><br><li>That the set-user-ID and set-group-ID bits of the file mode shall be cleared upon successful return from <i>chown</i>. </ul><dt><br>CAP_KILL<dd><br>Privilege to send a kill(1M) signal to another process not owned by the sender. Also, privilege to use process synchronization calls (procblk) to a process.<dt><br>CAP_MEMORY_MGT<dd><br>Privilege to issue restricted memory management calls, primarily memory locking. This capability overrides the restriction that a process may not manipulate the system memory management policies. The operations enabled by this capability include the following:<ul><br><li>Lock or unlock a shared memory segment via the shmctl(2) interface. <br><br><li>Lock or unlock other segments of a process in memory (mpin(2), plock(2)). <br><br><li>Use of the <i>syssgi</i>(SGI_MINRSS) system call. <br><br><li>Retrieve the physical address of a page. </ul><dt><br>CAP_MKNOD<dd><br>This is an alias for CAP_DEVICE_MGT.<dt><br>CAP_MOUNT_MGT<dd><br>Privilege to issue the mount(2) and umount(2) calls.<dt><br>CAP_NETWORK_MGT<dd><br>Privilege to issue restricted networking calls such as setting the network interface address, and network interface device management. This capability is required to change the system network configuration. The functions enabled by this capability include:<ul><br><li>Downloading firmware to network device interfaces and starting them. <br><br><li>Setting the Media Access Control (MAC) address; for example, the Ethernet address of an interface. <br><br><li>Retrieving device management information from network devices. <br><br><li>Setting, controlling, and examining the FDDI SMT information. <br><br><li>Controlling the ARP mechanism. <br><br><li>Controlling the IP address(es), parameters, and flags of network interfaces. <br><br><li>Configuring the IP filter. <br><br><li>Using the private interface for lockd(1M). <br><br><li>Using the private interfaces for the NFS service daemons. </ul><dt><br>CAP_NVRAM_MGT<dd><br>This is an alias for CAP_SYSINFO_MGT.<dt><br>CAP_PRIV_PORT<dd><br>Privilege to open a socket on a privileged TCP port.<dt><br>CAP_PROC_MGT<dd><br>Privilege to issue restricted process management calls. This capability is required to override the restrictions on changing the attributes of other processes and to perform privileged process operations. These include the following:<ul><br><li>Tracing a setuid/setgid executable.<br><br><li>Setting resource limits larger than system or per process limits.<br><br><li>Use the kernel thread facilities.<br><br><li>Update the real UID/GID within a share group (without this capability, effective IDs are updated) when the UID or GID is changed.<br><br><li>Set the per-process stack size in a share group using prctl(2).<br><br><li>Force the process to be resident prctl(2). </ul><dt><br>CAP_QUOTA_MGT<dd><br>Privilege to issue restricted disk quota management calls.<dt><br>CAP_SCHED_MGT<dd><br>Privilege to issue restricted scheduler calls such as real time scheduler interfaces. This capability is required to manipulate the system process scheduler. Operations enabled by this capability include<ul><br><li>changing the process priority to a high value <br><br><li>changing the process priority of another process <br><br><li>setting the process to have non-degrading priority <br><br><li>setting the real-time priority of a process <br><br><li>setting the time slice value for a process <br><br><li>controlling the association of processes to processors <br><br><li>setting the working set priority for a process <br><br><li>using the Frame Rate Scheduling features <br><br><li>altering the process resource limits <br><br><li>controlling the rate at which the buffer cache flush routine operates </ul><dt><br>CAP_SETFCAP<dd><br>This is an alias for CAP_SETFPRIV.<dt><br>CAP_SETFPRIV<dd><br>Privilege to alter the capability set of a file.<dt><br>CAP_SETGID<dd><br>Privilege to change the real, effective, and saved GID of the process. Also the privilege to change the process group ID.<dt><br>CAP_SETPCAP<dd><br>This is an alias for CAP_SETPPRIV.<dt><br>CAP_SETPPRIV<dd><br>Privilege to alter the capability set for a process.<dt><br>CAP_SETUID<dd><br>Privilege to change the real, effective, and saved UID of the process.<dt><br>CAP_SHUTDOWN<dd><br>Privilege to shut the system down or reboot it. This capability is required to use the uadmin(2) system call, which can<ul><br><li>shut the system down<br><br><li>reboot the system<br><br><li>force remount of the root after automatic file system damage repair<br><br><li>notify all processes to terminate gracefully<br><br><li>power the system down (not supported on all systems)</ul><dt><br>CAP_STREAMS_MGT<dd><br>Privilege to issue restricted STREAMS calls and operations.<dt><br>CAP_SWAP_MGT<dd><br>Privilege to issue the swap(2) call.<dt><br>CAP_SYSINFO_MGT<dd><br>Privilege to set system information such as hostname and the NVRAM values. This capability is required to manipulate the system identification information of the system. This includes the following:<ul><br><li>NVRAM contents on adapters such as the FDDI interface (typically addresses or names). <br><br><li>Host ID, node name and domain name. <br><br><li>Activate VM fault tracing. <br><br><li>Control the treatment of UID 0: <p>Conventional superuser, UID 0 has all privileges, capabilities are not used. <p>Modified superuser, capabilities are used, but <i>root</i> doesn't require them. When <i>root</i> does an operation that would have needed capabilities, a record is kept. <p>No superuser mode, UID 0 and the <i>root</i> account are not special. <br><br><li>Change system tuning parameters. <br><br><li>Invoke the internal kernel debugging support. <br><br><li>Set the automatic power on time. <br><br><li>Set the machine ID (serial number). </ul><dt><br>CAP_TIME_MGT<dd><br>Privilege to set the system time. This capability is required to modify the system clock. This includes the following functions:<ul><br><li>Set the time trim adjustment (used for clock synchronization with external sources). <br><br><li>Adjust the system clock. <br><br><li>Set the system clock. <br><br><li>Enable the fast clock. <br><br><li>Control which processor will handle clock interrupts. </ul></dl><A NAME="SGI44"></A>
<h4 class="SGITPL-head">File Capabilities</h4><p>Capabilities on a file are only meaningful for executable files on XFS format file systems.    Capability requirements on files can be set by the System Administrator with the chcap(1M) command. The syntax is as follows:<pre><B>chcap</B> <var>CAP, CAP, CAP</var> <var>file</var> </pre><p>For example, suppose you want to set capabilities to match those associated with the auditor account:<pre>auditor:CAP_AUDIT_WRITE,CAP_AUDIT_CONTROL,CAP_KILL+eip</pre><p>Use this command:<pre><B>chcap CAP_AUDIT_WRITE,CAP_AUDIT_CONTROL,CAP_KILL+eip</B> <var>file</var> </pre><p>To list the capability requirements of a file or directory, use this command:<p><TT><B>ls -P </B></TT><p>The -P flag stands for "Privilege." Note that you must have the appropriate capabilities to read the file in order to read the capabilities of the file.<A NAME="SGI45"></A>
<h4 class="SGITPL-head">Creating Custom Capabilities</h4><p>You can create unique capabilities at your site. Simply add the capability tag you want (it must be unique) to your <i>/etc/capability</i> file on the line for the user or users who are to have the capability, then use the chcap(1) command to add the capability to the files you desire. <A NAME="SGI46"></A>
<h4 class="SGITPL-head">Using attrinit to Clean Up Capability Corruption</h4><p>If you believe you have experienced corruption of some capability requirements on files or directories , you can use the attrinit(1) command to restore those capability requirements. <p>The <i>/etc/irixcap</i> file is used with the <i>attrinit</i> command as follows:<p>Log in as <i>root</i> and change directories to the root (/) directory. Next, give this command:<pre><B>attrinit -script=/etc/irixcap</B> </pre><p>Your capability integrity will be restored. The process may take a few moments.<HR noshade><A NAME="SGI47"></A>
<H1 class="SGITPL-head">Chapter 5<BR> Network Security</h1><p>This chapter discusses various ways to make your network more secure. In general, you may need to establish policies regarding network access within a trusted local group, and other policies regarding access to and from external, untrusted networks such as the Internet.<P><B>Note: </B>The System Manager GUI provides a Security and Access Control tasks which you can use to help manage security on your local network. Refer to the <i></i>Personal System Administration Guide    <i></i> for details. The discussion in this chapter is based on the command-line and file interface to many of the same functions controlled with the GUI.<p>This chapter contains the following sections:<ul><li><A HREF="IA_BakSecAcc-7.html#SGI48" TARGET=_top>"Local Area Network Access"</A> discusses security issues to consider when creating or connecting to a local area network.<br><br><li><A HREF="IA_BakSecAcc-7.html#SGI57" TARGET=_top>"About Network Security and Firewalls"</A> introduces issues concerned with how to build a "firewall," or barrier, between your local system or site and external, untrusted networks such as the Internet.<br><br><li><A HREF="IA_BakSecAcc-7.html#SGI64" TARGET=_top>"Hardware Configuration for Firewalls"</A> summarizes network hardware design configurations from the point of view of security.<br><br><li><A HREF="IA_BakSecAcc-7.html#SGI69" TARGET=_top>"IRIX Configuration for Security"</A> describes the details of how to configure an IRIX host to serve as a firewall.<br><br><li><A HREF="IA_BakSecAcc-7.html#SGI81" TARGET=_top>"Internal Network Security Configuration"</A> summarizes issues relating to configuring Sendmail and DNS on your firewall and internal network.</ul><P><B>Note: </B>This chapter assumes you already have taken measures to secure your host system(s) as described in <A HREF="IA_BakSecAcc-7.html#SGI2" TARGET=_top>Chapter 4</A>.<HR noshade><A NAME="SGI48"></A>
<h2 class="SGITPL-head">Local Area Network Access</h2><p>Within your local area network, you may be able to allow a degree of internetwork access that is not possible or desirable with networks outside of your control. This section discusses the use of network host and user permission files to control access within your local network.<A NAME="SGI49"></A>
<h3 class="SGITPL-head">Network Access Control Files</h3><p>Three files that help you control access to a host within your network are:<dl><dt><i>/etc/hosts.equiv</i> <dd><br>A list of hosts that are considered trusted, or <i>equivalent</i> to you.<dt><br><i>.rhosts</i> <dd><br>A list of hosts that are allowed access to a specific user account.<dt><br><i>/etc/passwd</i> <dd><br>The list of system accounts and their encrypted passwords.</dl><p>These three files control whether access is granted or denied when a remote host issues an rlogin(1C), rcp(1C), rsh(1C), or rdist(1) request.<p>When a request for access is received, the file <i>hosts.equiv</i> is checked, and if the host is listed in that file, and the target user account is listed in <i>/etc/passwd</i>, no further checking is performed and remote access is allowed. In this case, a remote user with a local user ID has equivalent access from a remote host. By default, all successful remote accesses are logged to the <i>SYSLOG</i> file as auth.info messages; see syslogd(1M).<p>Users can expand this equivalence by listing hosts and specific accounts in .<i>rhosts</i> files in their home directories. The <i>root</i> login bypasses the <i>/etc/hosts.equiv</i> file and uses only the <i>/.rhosts </i>file in the <i>root</i> directory for equivalence checking. If there is an entry in the <i>/.rhosts</i> file for <i>root</i>, the <i>root</i> user on the remote system will have <i>root</i> privilege on your system. For obvious reasons, this is not a secure practice. It is much more secure to handle file transfers through a non-privileged account such as <i>guest</i>. Note also that a <i>.rhosts</i> file with a system name "localhost" allows <i>su</i> to work without requiring passwords. Refer to su(1M) for more information.<p>The owner of the .<i>rhosts</i> file must be either the user in whose home directory it resides, or the superuser, <i>root</i>. If it is owned by another user, or if the file permissions allow anyone who is not the owner of the file to modify it, the contents of a user's .<i>rhosts</i> file are automatically disregarded for security reasons.<p>You may wish to disallow use of <i>.rhosts</i> files altogether if connecting to an untrusted network (you can add the -l option to the <i>rshd</i> invocation in <i>/etc/inetd.conf </i>and thereby disallow these files. See rshd(1M) for more information). The more secure configurations for such connections are as discussed later in this chapter under <A HREF="IA_BakSecAcc-7.html#SGI57" TARGET=_top>"About Network Security and Firewalls"</A>. For complete information about the <i>/etc/hosts.equiv</i> and .<i>rhosts</i> files, see the hosts.equiv(4) reference page.<A NAME="SGI50"></A>
<h3 class="SGITPL-head">Local inetd Services </h3><p>The <i>inetd</i> process controls a number of network services that you may or may not want to support on your local area network. You can limit which services you offer and log access to those services by editing the <i>/etc/inetd.conf</i> file. See <A HREF="IA_BakSecAcc-7.html#SGI73" TARGET=_top>"Limiting inetd Services"</A>, but note that that discussion refers to limiting these services when connecting to an untrusted network. You may wish to be more lenient in your configuration of <i>inetd</i> if you are concerned only with determining policy for a trusted local network.<A NAME="SGI51"></A>
<h3 class="SGITPL-head">X11 Network Access</h3><p>With the X Window System, workstations can run client programs transparently on other hosts on the network. This access is completely independent of controls such as login accounts and passwords and is controlled instead through X protocols.<p>In particular, certain system files and a user command, xhost(1), control access to the local X server. Configuration of these files and control of this command determine remote access to the server. The system control files are <i>/var/X11/xdm/Xsession</i>, <i>/var/X11/xdm/Xsession.dt</i>, and <i>/var/X11/xdm/xdm-config</i>. These files and the <i>xhost</i> command are discussed in detail in the following sections.<P><B>Note: </B>The new default system configuration disables remote access by X servers. In earlier versions remote access was enabled by default. To change the default and allow X server access to a host, refer to <A HREF="IA_BakSecAcc-7.html#SGI54" TARGET=_top>"Limiting Access with the xhost Command"</A>.<A NAME="SGI52"></A>
<h4 class="SGITPL-head">Security and X Server Initialization</h4><p>When the X server starts, it first checks for the existence of an <i>/etc/X*.hosts</i> <A NAME="SGITF4">    <IMG SRC="images/footnote.gif" WIDTH=25 HEIGHT=15 ALT="footnote" BORDER=0 ALIGN=absmiddle></A>
 file. If this file does not exist (this is the IRIX default, shipped configuration), all remote host access to the local X server is disallowed, pending evaluation of the <i>Xsession</i> files, which occurs next. The X server next reads the <i>/var/X11/xdm/Xsession</i> and <i>/var/X11/xdm/Xsession.dt</i> files, and if they do not execute an <i>xhost</i> command (this is the default   -       the <i>xhost +</i> command is commented out), no remote host access to the local X server is allowed. <p>The default X server initialization can be modified as described in the following sections.<A NAME="SGI53"></A>
<h4 class="SGITPL-head">Limiting Access with the X0.hosts File</h4><p>You can selectively allow access to remote hosts by listing their names in an <i>/etc/X*.hosts </i>file. For example, if the file <i>/etc/X0.hosts</i> contains the following line, the remote host bronx is the only workstation allowed to access the local server for X server 0:<PRE>bronx</PRE><p>In the above example, all other hosts are denied access to the local server at server initialization. (Assuming, that is, that no conflicting <i>xhost</i> command is then issued in the <i>/var/X11/xdm/Xsession</i> or <i>/var/X11/xdm/Xsession.dt </i>files at server startup or subsequently by a user.)<P><B>Note: </B>Do not link the file <i>X*.hosts</i> to any other network host database, such as <i>/etc/hosts</i> or <i>/etc/hosts.equiv</i>. When the X server starts, it attempts to establish a connection to all hosts that are allowed access permission in the <i>X*.hosts</i> file. If this file contains a large number of hosts that are allowed access to the server, you have to wait until connections are established with each of the hosts before the server is started.<A NAME="SGI54"></A>
<h4 class="SGITPL-head">Limiting Access with the xhost Command</h4><p>The <i>xhost</i> command modifies the internal state of the X server. Using <i>xhost</i>, you can allow or deny server access for specific hosts, or for all hosts. Note that the <i>xhost</i> options that affect access control can be run only from the same workstation as the server.<p>For example, to allow all other hosts access to the X server, remove the comment from the <i>xhost</i> line in <i>/var/X11/xdm/Xsession </i>and<i> /var/X11/xdm/Xsession.dt</i>. By default the entry looks like this:<PRE># Gives anyone on any host access to this display
# /usr/bin/X11/xhost +</PRE><p>To allow access to all remote hosts, it should look like this:<PRE># Gives anyone on any host access to this display
/usr/bin/X11/xhost +</PRE><p>To limit remote access to a specific server, say one named brooklyn, change the entry to look like this:<PRE># Gives anyone on any host access to this display
/usr/bin/X11/xhost +brooklyn</PRE><p>The following section provides more examples of <i>xhost</i> commands you may want to place in these files.<A NAME="SGI55"></A>
<h4 class="SGITPL-head">Interactive Use of the xhost Command</h4><p>The <i>xhost</i> command can also be used interactively. To completely deny access to all hosts on your network through X protocols, use this command:<PRE># <B>xhost -</B> </PRE><p>To allow complete access to all hosts on your network, use this command:<PRE>#<B> xhost +</B> </PRE><p>To selectively grant or deny access, specify the name of the specific host or hosts on the command line. For example, this command grants access to a host named brooklyn:<PRE>#<B> xhost +brooklyn</B> </PRE><p>(When granting access, the plus sign (+) is optional.)<p>This command denies access to both brooklyn and bronx:<PRE>#<B> xhost -brooklyn -bronx</B> </PRE><p>To see which hosts are currently allowed access to the server, run <i>xhost</i> from the command line with no options:<PRE>#<B> xhost</B></PRE><p>You can advise users not to use <i>xhost +</i>, or you may delete the command from the system if it is a perceived security risk.<A NAME="SGI56"></A>
<h4 class="SGITPL-head">X Authority</h4><p>For even better security than the default X server configuration described in <A HREF="IA_BakSecAcc-7.html#SGI52" TARGET=_top>"Security and X Server Initialization"</A>, you can enable X authority. To do this, change the <TT>DisplayManager*authorize</TT> entry in <i>/var/X11/xdm/xdm-config</i> to say:<p><TT>DisplayManager*authorize: on</TT><p>This makes <i>xdm</i> generate "magic cookies" (put in each user's <i>$HOME/.Xauthority</i> file), which are then required for any X client to connect to the X server. This provides a good means of X server access control. (Note that this may already be the default on your system.)<p>For more information about X security and authorization, see the xsecurity(1), xhost(1), xauth(1), xserver(1), and X(1) reference pages.<HR noshade><A NAME="SGI57"></A>
<h2 class="SGITPL-head">About Network Security and Firewalls</h2><p>After establishing your host and site security policies, you may want to connect your site to external networks such as the Internet. This section is concerned with establishing such a connection with an "untrusted" network in which you do not control security. This requires special consideration of the interface between your internal, trusted network and the external network. This interface, if it stops some untrusted traffic from entering your trusted network, is called a "firewall" and is the subject of this section. The remainder of the discussion refers specifically to connecting to the Internet, but you can also apply it to connecting to any untrusted network. <A NAME="SGI58"></A>
<h3 class="SGITPL-head">About the Internet</h3><p>The Internet is a vast, connected network of heterogeneous computer resources, spanning the globe and growing daily. Increasingly, individuals and organizations are finding access to the Internet to be of importance for a wide variety of services and resources pertinent to their businesses and other interests, including electronic mail, access to vast information archives, and keeping abreast of current developments in a host of areas.<p>Undoubtedly the most recent spur to the growth of interest in Internet access is the development of the World Wide Web, which provides for both a "friendly" graphical interface to Internet resources and a standardized means of presenting and accessing them. Products designed for this market, such as WebFORCE, allow their users to establish an Internet presence that can be accessed from around the world.<p>The Internet presents ways to share data that you want to share, but you must take measures to protect data that you want protected. This section addresses an important aspect of this internetworked accessibility: the need to establish and maintain the security of local computers and computer networks. Specifically, computer sites have a need and a right to determine the privacy and safety of their data from competitive interests as well as outright software vandalism. <A NAME="SGI59"></A>
<h3 class="SGITPL-head">Network Security Issues</h3><p>If you are connecting to the Internet, you should configure your connection so that you do not unwittingly risk the exposure or corruption of important data. You should know exactly which (if any) data you are making publicly accessible, and you should guard against the possibility of unwanted intruders gaining access to your site. The Internet has many known (and some famous) instances of unwanted intrusions, vandalism, and so on, and acknowledging and taking measures to prevent such acts is the best way to ensure that your Internet presence is a pleasurable and profitable one.<p>While it is beyond the scope of this chapter to detail particular instances of malicious or criminal activity on computer networks, a great deal of such information is available on the Internet itself, and makes for useful reading for those responsible for computer security (refer to <A HREF="IA_BakSecAcc-5.html#SGI9" TARGET=_top>"Additional Resources"</A> for pointers to additional information).<p>In general, you need to establish a line of defense between your trusted computer resources (your <i>internal</i> network) and the computer resources publicly accessible through the Internet (the <i>external</i> network). This line of defense should shield you from direct, external access, and it may be as simple as a single router or computer host or as complex as multiple routers and an entire computer network. (This section is concerned with establishing the secure firewalls possible with a computer host or network, not with the limited firewall protection of a router-only configuration.) Behind this line, you choose the degree to which you want to allow internal, trusted users access to the Internet, and the degree to which external users can access internal resources.<A NAME="SGI60"></A>
<h3 class="SGITPL-head">About Firewalls</h3><p>The line between the external world of untrusted hosts and the internal world of trusted hosts is established by creating a firewall. A firewall is a combination of computer hardware and software that allows you to restrict interactions with the external network (often the Internet) to the degree you desire. The simple formula is the more access you allow, the greater the security concerns; the greater the restrictions you place on access, the easier it is to monitor and maintain security. The tradeoff is one of ease of use versus peace of mind. For system and network administrators, this often translates as balancing the wishes of users with the needs and capacities of the administrator(s).<p>The downside of a firewall is that employees sometimes require legitimate access to packets that are filtered for security reasons. The alternative, practiced at some sites, is to maintain a high level of security on every networked computer.<p>An example of a simple firewall is shown in <A HREF="IA_BakSecAcc-7.html#SGITF4" TARGET=_top>Figure 5-1</A>. In this illustration, a single computer host is configured with two network interfaces to become what is known as a dual-homed host   -       a host with a presence on each of two different networks. When it is configured as described in this chapter, it represents a single, controlled obstruction between your internal network and the Internet where you can focus your security efforts. In this chapter, the term firewall host refers to an IRIX host configured for network security. (Gauntlet for IRIX is an example of a commercial firewall implementation for IRIX   -       see your sales representative for details.)<p><p> <IMG SRC="images/firewall_env.gif" WIDTH=518 HEIGHT=312 ALT="firewall_env.gif" BORDER=0 ALIGN=absmiddle><p><B>Figure 5-1 :  </B>A Simple Firewall Environment<p><br><p>The firewall does not in any way restrict interactions on your internal network. Local hosts may share resources in the same way they did before connecting to the firewall. What is different now is how these hosts may interact with external sites as determined by your site policy   -       your policy determines how much or how little interaction is allowed. <A HREF="IA_BakSecAcc-7.html#SGI81" TARGET=_top>"Internal Network Security Configuration"</A> presents some scenarios of how you might configure a network with a dual-homed host.<A NAME="SGI61"></A>
<h3 class="SGITPL-head">Firewall Design Philosophy</h3><p>The key to administering network security is the firewall. While there are important issues concerning internal security, those issues are the same regardless of whether or not you are connected to the Internet. (See <A HREF="IA_BakSecAcc-7.html#SGI2" TARGET=_top>Chapter 4</A> for information on host security and <A HREF="IA_BakSecAcc-7.html#SGI48" TARGET=_top>"Local Area Network Access"</A> for information on local network security.)<p>Regarding the firewall itself:<ul><li>Limit users   -       if possible, limit users to the sole administrator of the system. If additional users are necessary, refer to <A HREF="IA_BakSecAcc-7.html#SGI2" TARGET=_top>Chapter 4</A> for a discussion of issues regarding password protection and educating users.<br><br><li>Limit services   -       the more services you allow, the more possible security holes you present. In addition and in general, the more complex the software providing these services, the more chance for compromise, and the newer the software, the less chance it has been well tested in the "real world."<br><br><li>Monitor the system   -       this document helps you configure the IRIX software of your firewall to maintain log files that can provide information on accesses to your firewall host, including time of access and unsuccessful access attempts. Also, make use of the many standard IRIX tools such as w(1), ps(1), and so on that give you snapshots of current system activities (see <A HREF="IA_BakSecAcc-7.html#SGITF3" TARGET=_top>Table 4-3</A> for a list of security-related commands).<br><br><li>Do not run applications on the firewall   -       any additional software, besides containing possible security weaknesses, further complicates the software environment, making security control more problematic.</ul><A NAME="SGI62"></A>
<h3 class="SGITPL-head">Monitoring the Firewall</h3><p>Having a firewall does little good if you fail to monitor it adequately. There are several useful tools for checking the security of a firewall:<dl><dt>Cops<dd><br>Checks permission modes, poor passwords, <i>/etc/password</i> and <i>/etc/group</i> integrity, cron(tab) files, <var>setuid</var> files, checksum of important binary files, home directories and startup files, anonymous <i>ftp</i> setup, unrestricted access methods, superuser (root) security, dates of CERT advisories versus key files, and uses the Kuang expert system.<dd><br>Cops is available from  ftp://ftp.cert.org/pub/tools/cops    
.<dt><br>Tripwire<dd><br>Checks file and directory integrity, and compares designated files and directories against information in a previously generated database. Any differences are flagged and logged, including added or deleted entries. When run regularly, changes in critical system files are flagged so that damage control measures can be taken immediately.<dd><br>Tripwire is available from  ftp://ftp.cert.org/pub/tools/tripwire    
.</dl><A NAME="SGI63"></A>
<h3 class="SGITPL-head">World Wide Web Security Issues</h3><p>There is the same security issue inherent in accessing software on the World Wide Web that has always been an issue when acquiring software from any unknown or untrusted source. When a user clicks on a browser button for a network resource, what is invoked is unknown. A click, for example, could download an executable file with a potential for damage. Users should be aware of this issue. If this is a serious concern at your site, you may consider isolating and limiting those hosts having World Wide Web access.<p>Refer to <A HREF="IA_BakSecAcc-5.html#SGI9" TARGET=_top>"Additional Resources"</A> for a pointer (URL) to additional information on security issues related to the World Wide Web.<HR noshade><A NAME="SGI64"></A>
<h2 class="SGITPL-head">Hardware Configuration for Firewalls</h2><p>This section discusses how to configure network hardware to serve as the hardware portion of a firewall solution. (For information on how to configure Silicon Graphics software in a firewall solution, refer to <A HREF="IA_BakSecAcc-7.html#SGI69" TARGET=_top>"IRIX Configuration for Security"</A>.) Only setups that include an IRIX host as part of the solution are discussed, as router-only solutions tend to be too limited. A firewall host has the advantages of permitting and restricting specific applications, maintaining log files, and adding authentication to network access.<A NAME="SGI65"></A>
<h3 class="SGITPL-head">Routers and Firewalls</h3><p>The firewall host is typically combined with a router, whether provided as part of your connection to your Internet service provider or added by you to your private configuration. <p>Routers, if properly configured, provide a certain degree of security by filtering IP packets. You can use your IRIX host as an IP packet filter as described in the ipfilterd(1M) reference page. Usually, routers are complete hardware devices that provide high-speed IP packet filtering. While many routers can be configured to provide IP packet-level security, they do not support such features as <i>proxies</i> and <i>authentication</i>. <p>Proxies are proxy servers, which provide for application specific control of network resources. <A NAME="SGITF5">    <IMG SRC="images/footnote.gif" WIDTH=25 HEIGHT=15 ALT="footnote" BORDER=0 ALIGN=absmiddle></A>
 Authentication is a technique you can employ to require users to verify that they are who they say they are. To add these features and more, you must have a network hardware configuration such as the IRIX host setups described in the following sections.<p>You can use IP packet filtering <i>and</i> application-level controls by combining routers with firewalls. When using a router with a firewall host, configure it to allow traffic only to the firewall host. You should filter out:<ul><li>ICMP <IMG SRC="images/footnote.gif" WIDTH=25 HEIGHT=15 ALT="footnote" BORDER=0 ALIGN=absmiddle>    
 redirects not from the router<br><br><li>IP packets specifying the loose source routing option<br><br><li>external packets claiming to be from the internal network (known as "spoofing").</ul><p>Consult with your Internet service provider to determine the packet filtering options available for your Internet connection. You can also add routers to your firewall configuration as described in the next section, and then configure your routers with additional filtering options (refer to the router vendor documentation for details). (See also "Packet Filtering Gateways," in <i>Firewalls and Internet Security</i>, by Cheswick and Bellovin, referenced in <A HREF="IA_BakSecAcc-5.html#SGI9" TARGET=_top>"Additional Resources"</A>.)<A NAME="SGI66"></A>
<h3 class="SGITPL-head">Hardware Configurations for Use as Firewalls</h3><p>This section discusses general hardware configuration issues for the basic setup of a dual-homed host acting as the firewall, and then presents the "screened host" and "screened subnet" firewall configurations.<A NAME="SGI67"></A>
<h4 class="SGITPL-head">Dual-Homed Host Firewall</h4><p>You can configure your Silicon Graphics host hardware for use in a firewall by making it a dual-homed gateway   -       that is, giving it two network connections. <A HREF="IA_BakSecAcc-7.html#SGITF4" TARGET=_top>Figure 5-1</A> illustrates the general idea of using a dual-homed host as the firewall.<p>Creating a dual-homed host may involve, for example, adding an additional Ethernet controller board, or you may already have two Ethernet connections. For specific information on the network hardware in your system, refer to your system documentation. <A NAME="SGI68"></A>
<h4 class="SGITPL-head">Screened Host Gateway</h4><p>A screened host scenario uses a router to screen traffic between the Internet and the external network connection of the firewall host. Routers vary, but in general, they screen IP packets for certain addresses or settings that they have been programmed to disallow. They can further limit traffic to a few ports of the firewall host. No traffic is allowed from the outside to any other host on the internal network. This is the typical connection to the Internet in which the router is provided by the Internet service provider. <A HREF="IA_BakSecAcc-7.html#SGITF5" TARGET=_top>Figure 5-2</A> illustrates the basic screened host scenario.<p><p> <IMG SRC="images/screened_host.gif" WIDTH=518 HEIGHT=312 ALT="screened_host.gif" BORDER=0 ALIGN=absmiddle><p><B>Figure 5-2 :  </B>Screened Host<p><br><p>An additional level of complexity   -       and flexibility   -       is added when you expand the screened host scenario to a screened network scenario. The basic design remains the same, but the screened network receives all external traffic. Both the Internet and the internal network have access to the screened network, but traffic involving the internal network must still pass through the firewall host. This is useful for sites that want to make multiple servers available to the Internet and yet maintain a secure internal network. You could, for example, use one of the public hosts as your WWW server and another as an FTP server, depending on what you want to make available and the relative CPU loads expected.<p><A HREF="IA_BakSecAcc-7.html#SGITF6" TARGET=_top>Figure 5-3</A> illustrates a screened subnet. <A NAME="SGITF6">    <IMG SRC="images/footnote.gif" WIDTH=25 HEIGHT=15 ALT="footnote" BORDER=0 ALIGN=absmiddle></A><p><p> <IMG SRC="images/screened_subnet.gif" WIDTH=518 HEIGHT=380 ALT="screened_subnet.gif" BORDER=0 ALIGN=absmiddle><p><B>Figure 5-3 :  </B>Screened Subnet<p><br><p>In the situation shown in <A HREF="IA_BakSecAcc-7.html#SGITF6" TARGET=_top>Figure 5-3</A>, you continue to concentrate your security efforts on the single firewall host. Remember though, that your servers outside of the firewall are more easily compromised as they are protected only by a router. Keep your private data on the internal network and forward important data collected on the public servers to an internal host. (Details on software configuration are discussed in the next section.) <HR noshade><A NAME="SGI69"></A>
<h2 class="SGITPL-head">IRIX Configuration for Security</h2><p>This section discusses the basic network addressing configuration required on a firewall host, and then provides details on configuring IRIX software to tighten security on the host.<P><B>Note: </B>Unless specified otherwise, all the software changes discussed in this section are to be performed on the firewall host.<A NAME="SGI70"></A>
<h3 class="SGITPL-head">Network Software Setup on a Dual-Homed Host</h3><p>A dual-homed host is configured in network software as if it were two hosts, each with a different network address and, optionally, a different name. Use separate IP addresses for the two (or more) network interfaces (see <i></i>IRIX Admin: Networking and Mail    <i></i>).<A NAME="SGI71"></A>
<h3 class="SGITPL-head">Tightening Security in IRIX</h3><p>This section discusses various modifications you can make to the IRIX operating system software to provide increased network security. Some of these changes are highly desirable on a firewall; others are more a matter of personal choice depending on the level of security you feel is necessary. The issues discussed include why the changes must or might be made.<p>The following discussion of changes made to the firewall host software also applies to any host made publicly accessible, such as the WWW server and FTP server shown in the screened subnet example in <A HREF="IA_BakSecAcc-7.html#SGITF6" TARGET=_top>Figure 5-3</A>.<P><B>Note: </B>Do not connect your hardware to the external network until you make the changes described in this section. When you have finished the procedures, reboot your firewall system to ensure that all changes take effect. <i>Many of these changes do not take effect until the system is rebooted</i>.<A NAME="SGI72"></A>
<h4 class="SGITPL-head">Disabling Forwarding of IP Packets</h4><p>By default, IRIX forwards IP packets on machines with more than one network hardware interface. You must edit a kernel configuration file, run <i>autoconfig</i>, and then reboot to disable this default.<p>Follow this procedure to turn off automatic IP packet forwarding:<ol><li>As root, edit the file <i>/var/sysgen/master.d/bsd</i>, changing the value of<var> ipforwarding</var> to 0:<p>Change the line<PRE>int ipforwarding = 1;</PRE><p>to <PRE>int ipforwarding = 0;</PRE><li>Save the modified <i>/var/sysgen/master.d/bsd</i> file and exit from the editor.<br><br><li>Run <i>autoconfig</i> with the -f option:<pre># <B>autoconfig -f</B></pre><p>This creates a <i>/unix.install</i> file, which becomes the new <i>/unix</i> after the system is rebooted.<br><br><li>Reboot your system (see reboot(1M)).<br><br><li>To verify that IP packet forwarding has been disabled after your system comes back up, use the <i>netstat</i> command:<PRE># <B>netstat -s -p ip | grep forwarding</B></PRE><p>You should see the following:<PRE>0 packets forwarded (forwarding disabled)</PRE><p>If you do not see this message, repeat steps 1 through 5 until you do. (Be sure that your root filesystem has enough disk space so that the <i>/unix.install</i> file is being created correctly. See autoconfig(1M) for more information.)</ol><A NAME="SGI73"></A>
<h4 class="SGITPL-head">Limiting inetd Services</h4><p>When your system starts up, the <i>inetd</i> process reads the <i>/etc/inetd.conf</i> file for a list of TCP/IP services to support. Comment out services listed in this file that are not very secure or that you are not using.<P><B>Note: </B>These services are being disabled on the firewall only. Services that are commented out in the system files on the firewall may still be available on your internal network   -       you just can't use them on the firewall host.<p>Follow this procedure to disable selected <i>inetd</i> services:<ol><li>Edit the file <i>/etc/inetd.conf</i>, and add the <TT><B>#</B></TT> symbol at the beginning of the following lines to comment them out (some may have already been commented out):<PRE>exec        stream  tcp     nowait  root    /usr/etc/rexecd         rexecd
bootp       dgram   udp     wait    root    /usr/etc/bootp          bootp
rstatd/1-3  dgram   rpc/udp wait    root    /usr/etc/rpc.rstatd     rstatd
walld/1     dgram   rpc/udp wait    root    /usr/etc/rpc.rwalld     rwalld
rusersd/1   dgram   rpc/udp wait    root    /usr/etc/rpc.rusersd    rusersd
rquotad/1   dgram   rpc/udp wait    root    /usr/etc/rpc.rquotad    rquotad
bootparam/1 dgram   rpc/udp wait    root    /usr/etc/rpc.bootparamd bootparam
ypupdated/1 stream  rpc/tcp wait    root    /usr/etc/rpc.ypupdated  ypupdated
rexd/1      stream  rpc/tcp wait    root    /usr/etc/rpc.rexd       rexd</PRE><p>In other words, they should look like this:<PRE>#exec        stream  tcp     nowait  root    /usr/etc/rexecd         rexecd
#bootp       dgram   udp     wait    root    /usr/etc/bootp          bootp
#rstatd/1-3  dgram   rpc/udp wait    root    /usr/etc/rpc.rstatd     rstatd
#walld/1     dgram   rpc/udp wait    root    /usr/etc/rpc.rwalld     rwalld
#rusersd/1   dgram   rpc/udp wait    root    /usr/etc/rpc.rusersd    rusersd
#rquotad/1   dgram   rpc/udp wait    root    /usr/etc/rpc.rquotad    rquotad
#bootparam/1 dgram   rpc/udp wait    root   /usr/etc/rpc.bootparamd bootparam
#ypupdated/1 stream  rpc/tcp wait    root   /usr/etc/rpc.ypupdated  ypupdated
#rexd/1      stream  rpc/tcp wait    root    /usr/etc/rpc.rexd       rexd</PRE><p>If you want details on the services you are disabling, refer to their reference pages. For example, refer to rexecd(1M) for information on the remote execution server, or rexd(1M) for information on the RPC-based remote execution server.<br><br><li>Comment out or restrict the following entries in <i>/etc/inetd.conf</i>:<PRE>ftp     stream  tcp     nowait  root    /usr/etc/ftpd   ftpd -la
telnet  stream  tcp     nowait  root    /usr/etc/telnetd        telnetd
shell   stream  tcp     nowait  root    /usr/etc/rshd           rshd -L
login   stream  tcp     nowait  root    /usr/etc/rlogind        rlogind
tftp    dgram   udp     wait    guest   /usr/etc/tftpd  tftpd -s \<br>/usr/local/boot /usr/etc/boot</PRE><p>If you comment them out (totally disable them), they should look like this:<PRE>#ftp     stream  tcp     nowait  root    /usr/etc/ftpd   ftpd -l
#telnet  stream  tcp     nowait  root    /usr/etc/telnetd        telnetd
#shell   stream  tcp     nowait  root    /usr/etc/rshd           rshd -L
#login   stream  tcp     nowait  root    /usr/etc/rlogind        rlogind
#tftp    dgram   udp     wait    guest   /usr/etc/tftpd  tftpd -s \<br>/usr/local/boot /usr/etc/boot</PRE><p>To be safe, it is best to disable all those services with the comment character as shown above. (Doing so means, however, that the host can only be accessed from the local console.) Of these services, enabling <i>rshd</i> is probably the most dangerous, and <i>tftpd</i> is almost never required on a firewall. Regarding <i>ftpd</i>, refer to <i></i>IRIX Admin: Networking and Mail    <i></i>. If, however, you must include any of these services, change them as indicated below so that they record a log of their use in the file <i>/var/adm/SYSLOG</i>:<PRE>ftp     stream  tcp   nowait  root   /usr/etc/ftpd   ftpd -ll
shell   stream  tcp   nowait  root   /usr/etc/rshd   rshd -Lal
tftp    dgram   udp   wait    guest  /usr/etc/tftpd  tftpd -s -l -h /dev/null</PRE><p>Note the logging options added to each daemon invocation. (For more information, refer to the reference page for any daemon you modify.)<p>The <i>telnetd</i> and <i>rlogind</i> entries have not been included here because remote logins can (and should) be controlled with the use of one-time passwords. One-time passwords are just that   -       a password that can be used once to gain access, but any future use of that same password is disallowed. There are various ways to implement one-time passwords, and how (and if) you use them at your site depends on your need for remote login capability and the degree to which you want to authenticate such logins. Refer to the <i>Firewalls and Internet Security</i> book referenced in <A HREF="IA_BakSecAcc-5.html#SGI10" TARGET=_top>"Books"</A>.<br><br><li>The <i>fingerd</i> service is also a potential security hole because it is a source of account names. You can use the -S option to suppress information about login status, home directory, and shell, which might be used to attack security:<PRE>finger  stream  tcp     nowait  guest   /usr/etc/fingerd        fingerd -S</PRE><p>Or, to be more secure, you can configure <i>fingerd</i> with the -f option, to return just a message file. In the following example, a message has been placed in <i>/etc/fingerd.message</i>:<PRE>finger  stream  tcp     nowait  guest   /usr/etc/fingerd        fingerd -f \<br>/etc/fingerd.message</PRE><p>The contents of <i>/etc/fingerd.message</i> might say something like:<PRE>Thank you for your interest in XYZ company. Please contact us at xyz.email.address or 1-800-XYZ-PHON for more information.</PRE><p>This message is then returned for any <i>finger</i> access.<br><br><li>When you have finished making changes to the <i>/etc/inetd.conf</i> file, write the changes and exit from the editor. The changes take affect after a reboot. If you want to apply them immediately, enter:<pre># <B>killall -HUP inetd</B></pre><li>Test any modified services to be sure they perform as expected.</ol><A NAME="SGI74"></A>
<h4 class="SGITPL-head">Password Protection on the Firewall</h4><p>Limit the number of users with login accounts on the firewall system as much as possible. All accounts in <i>/etc/passwd</i> should have a password (see passwd(1)).<p>Check to see if there are any <i>/etc/hosts.equiv</i> or <i>$HOME/.rhosts</i> files. These files can be configured to allow remote access without password protection, and should not be allowed on a firewall host. Refer to hosts.equiv(4) for more information.<p>Refer to <A HREF="IA_BakSecAcc-7.html#SGI6" TARGET=_top>"Password Administration"</A> for details on host access password security.<A NAME="SGI75"></A>
<h4 class="SGITPL-head">Limiting rpc Services Access on the Firewall</h4><p>You can limit access to the firewall host's RPC services by use of the <i>portmap</i> command's -a option. This allows you to specify the host(s) and/or network(s) that are allowed access to RPC-based services. Edit the file <i>/etc/config/portmap.options</i> to add options to the <i>portmap</i> command that is executed at system startup.<p>For example, suppose you create a <i>/etc/config/portmap.options</i> file with the following entries:<PRE>-a 192.0.2.0
-a 192.14.12.0</PRE><p>This restricts access to firewall host RPC services to hosts on the Class C networks 192.0.2 and 192.13.12.<p>The syntax for the -a option allows you to specify multiple network masks, network addresses, and host addresses. As usual, the fewer hosts or networks allowed access, the better the security. Refer to the reference page portmap(1M) for more information.<A NAME="SGI76"></A>
<h4 class="SGITPL-head">Disabling NIS (YP) on the Firewall</h4><p>Because the nature of NIS (formerly called Yellow Pages) does not accommodate security needs, remove it from the firewall host:<ol><li>Remove the NIS software from the firewall host with the <i>versions</i> command:<PRE># <B>versions remove nfs.sw.nis</B></PRE><li>Certain databases may have been modified to add NIS information by including a + symbol in a database entry. Use an editor to remove any lines beginning with the + symbol from the files <i>/etc/passwd</i>, <i>/etc/group</i>, and <i>/etc/aliases</i>.<br><br><li>Remove the <i>/etc/netgroups</i> file if it exists.</ol><P><B>Caution: </B>You should not run NIS on a firewall. If you must run NIS, be sure the server is secure and have the clients run <i>ypbind</i> with the -ypsetme option which provides some minimal security. <A NAME="SGI77"></A>
<h4 class="SGITPL-head">Disallowing NFS Access on the Firewall</h4><p>Exporting filesystems and remote-mounting external systems on the firewall presents security problems. <i>You should not use NFS on a firewall</i>   -       remove it with <i>versions remove nfs.sw.nis</i>. If for some reason you cannot do this, you have a few (less secure) options:<ul><li>You can disallow NFS altogether, using this command:<PRE># <B>chkconfig nfs off</B></PRE><li>You can edit the <i>/etc/exports</i> file to limit exported filesystem permissions and access. You can, for example, use the <TT>rw=</TT><var>hostname</var> option to limit read-write access to a specific host, or you can use the <TT>access=</TT><var>client</var> option to limit mounting to specified hosts. Refer to the reference page for exports(4) for more information.<br><br><li>If you choose to mount external systems on the firewall host, use the <i>mount</i> command with the nosuid option to prevent running a Trojan horse. Refer to the fstab(4) reference page for details.</ul><p>In general, you should mount all filesystems other than your system directories with the nosuid, nodev options (refer to mount(1M)).<A NAME="SGI78"></A>
<h4 class="SGITPL-head">About  Log Files on the Firewall</h4><p>Log files provide useful information to the firewall administrator, recording specific or all attempts at firewall host login. The various options used to turn on logging for different daemons have been covered in the discussions on each daemon. Note that the log files must be reviewed periodically to be of use.<p>Log files are sensitive information and are best not stored on the firewall host. See the syslogd(1M) reference page for information on how to forward <i>syslog</i> messages from the firewall host to a trusted host inside the firewall.<A NAME="SGI79"></A>
<h4 class="SGITPL-head">Checking Software Integrity on the Firewall</h4><p>All software on a firewall host should be watched for modification. A record of checksums of software should be kept and compared periodically to detect unauthorized changes. For this reason too, the less software installed on the firewall host the better. You should always be on the watch for such things as device files outside of <i>/dev</i>, and files with SUID and GUID permissions set.<p>You can use the <i>versions</i> command to display a list of system files modified since installation. For example:<PRE># <B>versions changed</B>
Configuration Files

m     = modified since initial installation
?     = modification unknown
blank = file is as originally installed

  /etc/init.d/netsite
m /etc/init.d/netsite.O
m /etc/init.d/netsite.N
m /etc/uucp/Devices
  /etc/uucp/Devices.N
m /var/X11/xdm/Xsession.dt
  /var/X11/xdm/Xsession.dt.O
  /var/X11/xdm/xdm-config
&lt;etc></PRE><p>You can also use the <i>versions -m</i> command to list only modified installed files. Refer to versions(1M) for more information.<A NAME="SGI80"></A>
<h4 class="SGITPL-head">Educating Users About the Firewall</h4><p>You can take great pains to make a secure firewall and then have security compromised by users ignorant of the consequences of their actions. If possible, do not allow user accounts on the firewall host. If you do allow user accounts, be sure to tell the account holders:<ul><li>Don't use <i>.rhosts</i> files. (As the superuser, you can add the -l option to the <i>rshd</i> invocation in <i>/etc/inetd.conf </i>and thereby disallow these files on the firewall. See rshd(1M) for more information.)<br><br><li>Use passwords with long, non-dictionary, ASCII strings, change them frequently, and don't write them down! <br><br><li>Don't use the <i>"xhost +"</i> command. (As superuser, you can delete the binary, or limit its execution to the superuser as well).</ul><p>Even your supposedly protected internal network can be compromised by inappropriate actions of users. If, for example, a user on an internal host attaches a modem and establishes a PPP or SLIP session with an external site, you now have a situation in which the external world has two connections to your internal network   -       one through the firewall, but the other directly to a non-secure, internal host.<HR noshade><A NAME="SGI81"></A>
<h2 class="SGITPL-head">Internal Network Security Configuration</h2><p>While it is beyond the scope of this section to describe how to configure your internal network, this section discusses issues of DNS and Sendmail configuration that relate specifically to firewall security. Refer to <i></i>IRIX Admin: Networking and Mail    <i></i> for information on basic Sendmail and DNS setup.<A NAME="SGI82"></A>
<h3 class="SGITPL-head">Domain Name System (DNS) Security Guidelines</h3><p>DNS, the name service used on the Internet, should be configured for your site to give out the addresses that other sites need to contact you. This might include the address of your router, your firewall host, and any other machines you want others to be able to communicate with. In the case of a simple firewall comprised of a dual-homed host, the dual-homed host would be a DNS server, providing the address of the Internet side of its network connection. In the case of a screened subnet, the DNS server could be any of the "public" hosts in the subnet, and it could provide addresses for all of these hosts and the router.<p>You should also set up the DNS Mail eXchanger (MX) record to advertise the name of the host(s) responsible for mail at your site. This may be the firewall host or another host. <p>Do not publish internal hostnames and addresses on the firewall host. If you have a single firewall host performing multiple services, say FTP and WWW serving, use CNAME records to "alias" the services to the hostname. This makes it easy to move these services to different hosts if you want to separate them later.<A NAME="SGI83"></A>
<h3 class="SGITPL-head">Mail Configuration Security Guidelines</h3><p>This section presents some suggestions for limiting the susceptibility of your site to an attack through the electronic mail system. Internet electronic mail is based on the Simple Mail Transfer Protocol, or SMTP. The program that implements SMTP is commonly referred to as <i>sendmail</i>. <i>sendmail</i> is a large and complicated program that is frequently the subject of attack. <A NAME="SGI84"></A>
<h4 class="SGITPL-head">Sendmail Configuration and Mail Aliases</h4><p>Your mail system should be configured cooperatively with your DNS configuration. That is, whichever machine your DNS server is advertising as your Mail eXchanger (MX) host must have its <i>sendmail</i> configured to accept mail for your network, and to do the appropriate thing with it once it is received. Usually that means to forward the mail to a master mail machine on the internal network, which knows users' internal addresses and how to deliver the mail to them.<p>A note about current convention: It is popular to use the domain name of your network as your electronic mail address. For example, user "harry" at company XYZ corporation, whose domain name is XYZ.com would have the electronic mail address "harry@XYZ.com," as opposed to "harry@machine1.XYZ.com." Edit the <i>/etc/sendmail.cf</i> file to do this (see <i></i>IRIX Admin: Networking and Mail    <i></i>).<p>To reinforce the electronic mail address of your site, and to make it easy for others to reply to your users' mail, it is recommended that you configure your <i>sendmail</i> to rewrite all your addresses to conform to the above convention.<p>For details on how to configure <i>sendmail.cf</i>, refer to <i></i>IRIX Admin: Networking and Mail    <i></i>.<A NAME="SGI85"></A>
<h4 class="SGITPL-head">Mail Spool Isolation</h4><p>If a barrage of email is sent to your firewall host, it can fill up the disk and paralyze further operation. If you are concerned about this possibility, isolate the mail spool by putting it on a disk or disk partition of its own. While this does not prevent email from being overwhelmed, it does keep a crucial system disk partition, such as <i>/usr</i>, from filling up.<A NAME="SGI86"></A>
<h3 class="SGITPL-head">About Proxy Servers</h3><p>A proxy server is an application that implements security for a particular network service. It is basically an application-level gateway that, by "understanding" the particular application protocol, is able to transparently intercept traffic and so implement protocol-specific security, logging, authentication, and so on.<p>Proxy servers provided on the firewall can allow, for example, internal users to use Netscape Navigator to access the World Wide Web, to use <i>ftp</i> to transfer files between a host on the internal network and one on the Internet, or to <i>telnet</i> to an external host for an interactive session.<p>The two most common proxy server solutions are server-side proxies and the SOCKS proxy server. The proxy servers available with the optional Gauntlet for IRIX firewall implement server-side-only applications, in which one proxy server exists for each supported application. The SOCKS approach utilizes a <i>socksd</i> process on the server, and then requires any application that communicates with it to be "SOCKSified"; that is, compiled with the SOCKS library. The Netscape Navigator, for example, comes already "SOCKSified."<p>Refer to <A HREF="IA_BakSecAcc-5.html#SGI9" TARGET=_top>"Additional Resources"</A> for information on creating your own proxy support, or contact your Silicon Graphics sales representative for information on Gauntlet for IRIX and the Netscape Proxy Server.
      

<!-- dtlbook2html START -->
<HR noshade>
<FONT SIZE="-1"><A HREF="index.html"><B>IRIX Admin: Backup, Security, and Accounting</B></A><P><A HREF="IA_BakSecAcc-6.html"><IMG SRC="images/b_prev.gif" ALT="Prev" WIDTH=17 HEIGHT=17 BORDER=0 ALIGN=TOP></A>&nbsp; <A HREF="IA_BakSecAcc-8.html"><IMG SRC="images/b_next.gif" ALT="Next" WIDTH=17 HEIGHT=17 BORDER=0 ALIGN=TOP></A>&nbsp;&nbsp;&nbsp;&nbsp;Table of Contents:&nbsp;&nbsp;<A HREF="index.html">Basic</A>&nbsp;&nbsp;|&nbsp;&nbsp;<A HREF="fulltoc.html">Expanded</A></P></FONT>
<!-- dtlbook2html END -->

<HR noshade>
</BODY>
</HTML>
