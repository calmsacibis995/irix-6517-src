<!-- Generated by Harlequin Webmaker 2.1.3; Transducer 1.0.2 --> <HTML> <HEAD>
<TITLE>Managing the TTY Subsystem</TITLE>
</HEAD>
<BODY Y BGCOLOR="efefef" LINK="0000FF" ALINK="FF0000" VLINK="551a8b">
<A NAME=HEADING13></A>
<A HREF=Periphrls_14.html>Next</A> | <A HREF=Periphrls_12.html>Prev</A> | <A HREF=Periphrls_9.html>Up</A> | <A HREF=Periphrls_1.html>Top</A> | <A HREF=Periphrls_3.html>Contents</A> | <A HREF=Periphrls_39.html>Index</A><BR>
<HR>
<A NAME=HEADING13-0></A>
<H2> <A NAME=MARKER-9-33></A>Managing the TTY Subsystem</H2>
<P>This section covers the following topics:<P>
<UL>
<P><LI><A HREF=#MARKER-9-34>"Checking Line Settings Using IRIX Shell Commands"</A> 
<P><LI><A HREF=#MARKER-9-35>"Creating and Testing Line Settings"</A> 
<P><LI><A HREF=#MARKER-9-36>"Modifying Line Characteristics"</A> 

</UL>
<A NAME=HEADING13-6></A>
<H3> <A NAME=MARKER-9-34></A>Checking Line Settings Using IRIX Shell Commands</H3>
<P>The <I>/etc/gettydefs</I> file contains information used by the <I>getty</I> command to establish the speed and terminal settings for a line. The general format of the <I>gettydefs</I> file is<P>
<P><I>label# initial-flags # final-flags #login-prompt #next-label </I><P>
<P>The following example shows a few lines from a <I>gettydefs</I> file:<P>
<PRE>
co_9600# B9600 CLOCAL # B9600 SANE TAB3 CLOCAL #\r\n\n$HOSTNAME login: #co_4800
co_4800# B4800 CLOCAL # B4800 SANE TAB3 CLOCAL #\r\n\n$HOSTNAME login: #co_2400
co_2400# B2400 CLOCAL # B2400 SANE TAB3 CLOCAL #\r\n\n$HOSTNAME login: #co_1200
co_1200# B1200 CLOCAL # B1200 SANE TAB3 CLOCAL #\r\n\n$HOSTNAME login: #co_300
co_300# B300 CLOCAL # B300 SANE TAB3 CLOCAL #\r\n\n$HOSTNAME login: #co_9600
dx_115200# B115200 # B115200 SANE TAB3 HUPCL #\r\n\n$HOSTNAME login: #dx_115200
dx_57600# B57600 # B57600 SANE TAB3 HUPCL #\r\n\n$HOSTNAME login: #dx_57600
dx_38400# B38400 # B38400 SANE TAB3 HUPCL #\r\n\n$HOSTNAME login: #dx_38400
dx_19200# B19200 # B19200 SANE TAB3 HUPCL #\r\n\n$HOSTNAME login: #dx_19200
dx_9600# B9600 # B9600 SANE TAB3 HUPCL #\r\n\n$HOSTNAME login: #dx_9600
</PRE>
<P>The entries beginning with <CODE>dx</CODE> are typically used for terminals or modems; those beginning with <CODE>du</CODE> are typically used for low-speed modems. See <EM>gettydefs(4)</EM> for more information on the fields of each entry.<P>
<P>These entries form a single rotary hunt sequence; the last field on each line is the label of the next line. The next label field for the last line shown points back to the first line in the sequence. The object of the hunt sequence is to link a range of line speeds. If you see garbage characters instead of a clear login prompt, press the <CODE><B>&lt;Esc&gt;</B></CODE> key to force <I>getty</I> to step to the next entry in the sequence. The hunt continues until the baud rate of the line matches the speed of the user's terminal.<P>

<P>The flag fields shown have the following meanings:<P>
<DL>
<P><DT><I>B300-B115200</I> 
<P><DD> The baud rate of the line. Note that not all systems support rates greater than 38,400. Refer to your <I>Owner's Guide</I> to find the maximum supported baud rate for your system.
<P><DT><I>HUPCL</I> 
<P><DD> Hang up on close.
<P><DT><I>SANE</I> 
<P><DD> A composite flag that stands for a set of normal line characteristics.
<P><DT><I>IXANY</I> 
<P><DD> Allow any character to restart output. If this flag is not specified, only DC1 <CODE><B>&lt;Ctrl-Q&gt;</B></CODE> restarts output.
<P><DT><I>TAB3</I> 
<P><DD> Send tabs to the terminal as spaces.
</DL>
<P>For a description of all <I>getty</I> flags, see <EM>termio(7)</EM>.<P>
<A NAME=HEADING13-30></A>
<H3> <A NAME=MARKER-9-35></A>Creating and Testing Line Settings</H3>
<P>Create new entries for the <I>gettydefs</I> file by following the example shown in <A HREF=#MARKER-9-34>"Checking Line Settings Using IRIX Shell Commands."</A> Each entry in the file is followed by a blank line. After editing the file, run the command<P>
<PRE>
<CODE><B>/etc/getty -c /etc/gettydefs</B></CODE> 
</PRE>
<P>This causes <I>getty</I> to scan the file and print the results on your terminal. Any unrecognized modes or improperly constructed entries are reported.<P>
<A NAME=HEADING13-34></A>
<H3> <A NAME=MARKER-9-36></A>Modifying Line Characteristics</H3>
<P>You can modify TTY line characteristics using an IRIX editor, such as <I>vi</I>, to edit <I>/etc/inittab</I>.<P>
<P>The <I>/etc/inittab</I> file contains configuration instructions for the <I>/etc/init</I> command. The general format of a line entry in the <I>/etc/inittab</I> file is as follows:<P>
<P><I>identification:level:action:process</I> <P>

<P>The four colon-separated fields are as follows:<P>
<DL>
<P><DT>identification 
<P><DD> A unique one- or two-character identifier for the line entry.
<P><DT>level 
<P><DD> The run-level(s) in which the entry is to be performed.
<P><DT>action 
<P><DD> How<I> /etc/init</I> treats the process field (refer to the <EM>inittab(4)</EM> reference page for complete information).
<P><DT>process 
<P><DD> The shell command to be executed.
</DL>
<P><I>/etc/inittab</I> contains several entries that spawn <I>getty</I> processes. The following example is a selection of such entries from a sample <I>/etc/inittab</I>:<P>
<PRE>
<CODE>t1:23:respawn:/etc/getty -s console ttyd1 co_9600 </CODE>
<CODE>t2:23:respawn:/etc/getty ttyd2 co_9600 </CODE>
</PRE>
<P>There are at least three things you might want to do to an <I>inittab</I> entry for a TTY line:<P>
<UL>
<P><LI>Change the action. Two actions that apply to TTY lines are respawn and off (see the <EM>inittab(4)</EM> reference page for complete information on this field). 
<P><LI>Add or change arguments to <I>/etc/getty</I> in the process field. A frequently used argument is <B>-t<I>nn</I></B>. This tells <I>getty</I> to hang up if nothing is received within <I>nn</I> seconds. It is good practice to use the <B>-t</B> argument on dialup lines. 
<P><LI>Add or change comments. Comments begin after a pound sign and continue to the end of the line.

</UL>
<HR>
<DL>
<DT><A HREF="Periphrls_13.html#HEADING13-6"><B></B>Checking Line Settings Using IRIX Shell Commands</A><DD>
<DT><A HREF="Periphrls_13.html#HEADING13-30"><B></B>Creating and Testing Line Settings</A><DD>
<DT><A HREF="Periphrls_13.html#HEADING13-34"><B></B>Modifying Line Characteristics</A><DD>
</DL>

<HR>
<A HREF=Periphrls_14.html>Next</A> | <A HREF=Periphrls_12.html>Prev</A> | <A HREF=Periphrls_9.html>Up</A> | <A HREF=Periphrls_1.html>Top</A> | <A HREF=Periphrls_3.html>Contents</A> | <A HREF=Periphrls_39.html>Index</A><BR>
</BODY>
</HTML> 