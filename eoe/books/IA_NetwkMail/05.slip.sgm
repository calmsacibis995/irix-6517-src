<!-- Produced by version 3.14 (11/22/96) of SGI Frame/SGML translator -->
<CHAPTER LBL="5"><TITLE><XREFTARGET ID="31288">SLIP and PPP</TITLE><PARAGRAPH>This chapter introduces the Silicon Graphics implementation of the Serial Line Internet Protocol (SLIP) and Point-to-Point Protocol (PPP). SLIP and PPP are protocols for TCP/IP networking over a serial line. SLIP and PPP can be used for connecting remote systems to a local area network, or for connecting two networks together.</PARAGRAPH>
<PARAGRAPH>The following sections are included in this chapter:</PARAGRAPH>
<BULLETLIST><BULLET><PARAGRAPH><XREF IDREF="91494" TYPE="TITLE">&ldquo;About SLIP and PPP&rdquo;</XREF></PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="41375" TYPE="TITLE">&ldquo;Verifying the SLIP and PPP Software&rdquo;</XREF></PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="70038" TYPE="TITLE">&ldquo;Selecting a Modem&rdquo;</XREF></PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="22913" TYPE="TITLE">&ldquo;IP Addresses for SLIP and PPP Clients&rdquo;</XREF></PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="38057" TYPE="TITLE">&ldquo;Configuring a System for Dial-Out&rdquo;</XREF></PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="26678" TYPE="TITLE">&ldquo;Configuring a System for Dial-In&rdquo;</XREF></PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="29777" TYPE="TITLE">&ldquo;SLIP and PPP Routing and Address Allocation&rdquo;</XREF></PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="39472" TYPE="TITLE">&ldquo;Configuring a Bidirectional Link&rdquo;</XREF></PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="88936" TYPE="TITLE">&ldquo;Starting SLIP or PPP at Boot Time&rdquo;</XREF></PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="72696" TYPE="TITLE">&ldquo;About Demand Dialing&rdquo;</XREF></PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="32857" TYPE="TITLE">&ldquo;NFS Over SLIP or PPP&rdquo;</XREF></PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="70499" TYPE="TITLE">&ldquo;File Transfer Over SLIP or PPP&rdquo;</XREF></PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="62912" TYPE="TITLE">&ldquo;Troubleshooting SLIP and PPP Links&rdquo;</XREF></PARAGRAPH>
</BULLET>
</BULLETLIST>
<SECTION1 LBL="" HELPID = ""><TITLE><XREFTARGET ID="91494">About SLIP and PPP</TITLE><PARAGRAPH>The Silicon Graphics implementation of SLIP and PPP provides both RFC 1144 data compression and its own proprietary data compression, which compresses header framing, checksum, and TCP/IP information to three bytes. SLIP is part of the <INDEXTARGET ID="05.slip1"><!-- POSTPROCESSDATA: 05.slip1|Serial Line Interface Protocol (SLIP): and data compression --><ITALICS>eoe </ITALICS>software subsystem, and is installed via the <ITALICS>eoe.sw.slip</ITALICS> package. Use the <COMMAND>versions</COMMAND> command to see if you have SLIP installed on your system. </PARAGRAPH>
<PARAGRAPH>PPP offers substantially the same features as SLIP, but it is more flexible and robust. For this reason, PPP is usually preferred over SLIP (however, you must use SLIP if the system to which you are connecting supports SLIP and not PPP.) In addition to its use in dial-up connections over telephone lines and modems, PPP is also used in ISDN connections; however, this guide assumes that you are using PPP over a conventional serial line connection. <INDEXTARGET ID="05.slip2"><!-- POSTPROCESSDATA: 05.slip2|Point to Point Protocol(PPP) --></PARAGRAPH>
<NOTE><PREFIX>Note</PREFIX>If you are connecting a remote host with ISDN, you might prefer to use the configuration instructions in the <DOCTITLE>ISDN User's Guide</DOCTITLE> instead of using the procedures in this chapter (also see the isdn(1M) reference page). You should use the information in this chapter for an understanding of PPP operation and maintenance, however.</NOTE>
<PARAGRAPH>PPP is part of the <ITALICS>eoe</ITALICS> software subsystem, and is installed via the <ITALICS>eoe.sw.ppp</ITALICS> package. Use the <COMMAND>versions</COMMAND> command to check to see if you have PPP installed on your system. </PARAGRAPH>
<PARAGRAPH><XREFTARGET ID="14144">Usually, a SLIP or PPP connection serves one of the following purposes: </PARAGRAPH>
<BULLETLIST><BULLET><PARAGRAPH>To connect a single remote system to a network. Here the systems have a client-server relationship, with the single system being the client, and the system directly connected to the network being the server. The server handles all of the routing. </PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH>To connect two networks together. In this case, the two systems usually act as peers.</PARAGRAPH>
</BULLET>
</BULLETLIST>
<PARAGRAPH>A given SLIP or PPP link can be set up so that one system always initiates the connection (by dialing the other system), or so that either system can initiate the connection. In the case of a client-server connection, the client usually initiates the connection by dialing the server. However, the connection can be bi-directional as well. In the case of a connection between two networks, you can either choose one system to initiate connection, or allow either system to initiate the connection as needed.</PARAGRAPH>
</SECTION1>
<SECTION1 LBL="" HELPID = ""><TITLE>Setting Up a SLIP or PPP Connection: General Procedures</TITLE><PARAGRAPH>Setting up an individual system as a SLIP or PPP client requires the following steps:</PARAGRAPH>
<ORDEREDLIST><LIST><PARAGRAPH>Check that you have the SLIP and PPP software installed. See <XREF IDREF="41375" TYPE="TITLE">&ldquo;Verifying the SLIP and PPP Software&rdquo;</XREF> to find out whether you have the software installed.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Install the software if necessary. See <XREF IDREF="78873" TYPE="TITLE">&ldquo;Installing the SLIP and PPP Software&rdquo;</XREF> if you need to install software.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Select and install the appropriate hardware (modem and cable). See <XREF IDREF="70038" TYPE="TITLE">&ldquo;Selecting a Modem&rdquo;</XREF> for further information.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Select an IP address. IP addressing alternatives are described in <XREF IDREF="22913" TYPE="TITLE">&ldquo;IP Addresses for SLIP and PPP Clients&rdquo;</XREF>.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Configure the software for dial-out. See<XREF IDREF="38057" TYPE="TITLE">&ldquo;Configuring a System for Dial-Out&rdquo;</XREF>.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Configure routing behavior. Various routing alternatives are described in <XREF IDREF="29777" TYPE="TITLE">&ldquo;SLIP and PPP Routing and Address Allocation&rdquo;</XREF>.</PARAGRAPH>
</LIST>
</ORDEREDLIST>
<PARAGRAPH>Setting up a system as a SLIP or PPP server requires the following steps:</PARAGRAPH>
<ORDEREDLIST><LIST><PARAGRAPH>Check that you have the SLIP and PPP software installed. See <XREF IDREF="41375" TYPE="TITLE">&ldquo;Verifying the SLIP and PPP Software&rdquo;</XREF>.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Install the software, if necessary. See <XREF IDREF="78873" TYPE="TITLE">&ldquo;Installing the SLIP and PPP Software&rdquo;</XREF>.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Select and install the appropriate hardware (modem and cable). See <XREF IDREF="70038" TYPE="TITLE">&ldquo;Selecting a Modem&rdquo;</XREF> for further information.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Configure the software for dial-in (set up configuration information for each client). See <XREF IDREF="26678" TYPE="TITLE">&ldquo;Configuring a System for Dial-In&rdquo;</XREF>.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Configure routing behavior. Various routing alternatives are described in <XREF IDREF="29777" TYPE="TITLE">&ldquo;SLIP and PPP Routing and Address Allocation&rdquo;</XREF>.</PARAGRAPH>
</LIST>
</ORDEREDLIST>
<PARAGRAPH>Connecting two networks using SLIP or PPP requires the following steps:</PARAGRAPH>
<ORDEREDLIST><LIST><PARAGRAPH>Check that you have the SLIP and PPP software installed. See <XREF IDREF="41375" TYPE="TITLE">&ldquo;Verifying the SLIP and PPP Software&rdquo;</XREF>. </PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Install the software on both systems if necessary. See <XREF IDREF="78873" TYPE="TITLE">&ldquo;Installing the SLIP and PPP Software&rdquo;</XREF>. </PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Select and install the appropriate hardware (modem and cable) on both systems. See <XREF IDREF="70038" TYPE="TITLE">&ldquo;Selecting a Modem&rdquo;</XREF>.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Configure the software for dial-out access on one or both systems. See <XREF IDREF="38057" TYPE="TITLE">&ldquo;Configuring a System for Dial-Out&rdquo;</XREF>. </PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Configure the software for dial-in access on one or both systems. See <XREF IDREF="26678" TYPE="TITLE">&ldquo;Configuring a System for Dial-In&rdquo;</XREF>. </PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Configure routing behavior. Various routing alternatives are described in <XREF IDREF="29777" TYPE="TITLE">&ldquo;SLIP and PPP Routing and Address Allocation&rdquo;</XREF>.</PARAGRAPH>
</LIST>
</ORDEREDLIST>
</SECTION1>
<SECTION1 LBL="" HELPID = ""><TITLE><XREFTARGET ID="41375">Verifying the SLIP and PPP Software</TITLE><PARAGRAPH>Make sure you have the appropriate software installed: to use SLIP, you must have the <ITALICS>eoe.sw.slip</ITALICS> and <ITALICS>eoe.sw.uucp</ITALICS> subsystems installed. To use PPP, you must have the <ITALICS>eoe.sw.ppp</ITALICS> and <ITALICS>eoe.sw.uucp</ITALICS> subsystems installed. You should also install the corresponding reference pages (<ITALICS>eoe.man</ITALICS> subsystems). To verify whether these packages are installed, use the <COMMAND>versions</COMMAND> command. For example, to check whether you have PPP installed, use the following command:</PARAGRAPH>
<EXAMPLE>
<USERINPUT>% versions eoe.\*.{ppp,uucp}</USERINPUT>
</EXAMPLE>
<PARAGRAPH>If PPP and UUCP are installed, <COMMAND>versions</COMMAND> should produce output something like this:</PARAGRAPH>
<CODE>
I = Installed, R = Removed
&nbsp;
&space;  Name                 Date      Description
&nbsp;
I  eoe                 09/24/96 IRIX Execution Environment, 6.3
I  eoe.man             09/24/96 IRIX Execution Environment Man Pages
I  eoe.man.ppp         09/24/96 Point-to-Point Protocol Man Pages
I  eoe.man.uucp        09/24/96 UNIX-to-UNIX Copy Man Pages
I  eoe.sw              09/24/96 IRIX Execution Environment Software
I  eoe.sw.ppp          09/24/96 Point-to-Point Protocol Software
I  eoe.sw.uucp         09/24/96 UUCP Utilities
</CODE>
</SECTION1>
<SECTION1 LBL="" HELPID = ""><TITLE><XREFTARGET ID="78873">Installing the SLIP and PPP Software </TITLE><PARAGRAPH>For instructions on installing software, see <DOCTITLE></DOCTITLE>
<EXTREF IDREF="29804" BOOK="IA_InstLicns" FILE="" HDG="29804" INFO="">IRIX Admin: Software Installation and Licensing</EXTREF>
<DOCTITLE>.</DOCTITLE> After installing the SLIP or PPP software, you must reboot your system to reconfigure the kernel.</PARAGRAPH>
</SECTION1>
<SECTION1 LBL="" HELPID = ""><TITLE><XREFTARGET ID="70038">Selecting a Modem</TITLE><PARAGRAPH>A modem capable of at least 9600 bits per second (bps, sometimes referred to as &ldquo;baud&rdquo;) is required for use with SLIP or PPP. However, at this speed, your link will be quite slow. A good modem choice is any modem that supports the V.32bis or V.34 standards and a speed of 14,400 bps or greater. A half-duplex modem can be used but is less desirable for interactive tasks.<INDEXTARGET ID="05.slip3"><!-- POSTPROCESSDATA: 05.slip3|Serial Line Interface Protocol (SLIP): modem requirementsmodem selection --><INDEXTARGET ID="05.slip4"><!-- POSTPROCESSDATA: 05.slip4|Serial Line Interface Protocol (SLIP): modems for --><INDEXTARGET ID="05.slip5"><!-- POSTPROCESSDATA: 05.slip5|Serial Line Interface Protocol (SLIP): modems settings for --><INDEXTARGET ID="05.slip6"><!-- POSTPROCESSDATA: 05.slip6|Point to Point Protocol (PPP): modem requirements --></PARAGRAPH>
<PARAGRAPH>Silicon Graphics does not manufacture these modems and cannot be responsible for changes to the modems. Silicon Graphics cannot guarantee modem compatibility or the quality of the telephone line used with SLIP or PPP, but a separate data-grade telephone line is highly recommended. </PARAGRAPH>
<PARAGRAPH>If you are using a high-speed modem, be sure it supports hardware flow control using RTS/CTS. With such a modem, use the <FILENAME>ttyf</FILENAME>* device name. </PARAGRAPH>
<NOTE><PREFIX>Note</PREFIX>Silicon Graphics supports DSI<SUPERSCRIPT>&trade;</SUPERSCRIPT>, Intel<SUPERSCRIPT>&reg;</SUPERSCRIPT>, Telebit<SUPERSCRIPT>&reg;</SUPERSCRIPT>, ZyXEL<SUPERSCRIPT>&trade;</SUPERSCRIPT>, U.S. Robotics<SUPERSCRIPT>&reg;</SUPERSCRIPT>, Hayes<SUPERSCRIPT>&reg;</SUPERSCRIPT>, and most Hayes compatible modems. While many others work, configuring them may be much more complicated and their operation is not guaranteed.</NOTE>
<PARAGRAPH>For instructions on installing modems and configuring modems, see &ldquo;Installing a Modem&rdquo; in <EXTREF IDREF="80575" BOOK="IA_Periphrls" FILE="" HDG="80575" INFO="">IRIX Admin: Peripheral Devices</EXTREF>
.</PARAGRAPH>
</SECTION1>
<SECTION1 LBL="" HELPID = ""><TITLE><XREFTARGET ID="22913">IP Addresses for SLIP and PPP Clients</TITLE><PARAGRAPH>Each SLIP or PPP client needs an IP address and hostname for its SLIP or PPP interface. If it is also connected to one or more local area networks, it will also require an address and hostname for each of its other network interfaces. If you have had an address and hostname assigned to you by your system administrator or network service provider, you can use this information to configure your system.</PARAGRAPH>
<PARAGRAPH>Some network service providers use dynamic addressing, where each client is given a dynamically allocated IP address when it connects. IRIX PPP has support for dynamic addressing, but IRIX SLIP does not support dynamic addressing. See <XREF IDREF="31457" TYPE="TITLE">&ldquo;Using Dynamic Address Allocation With PPP&rdquo;</XREF> for more information about dynamic addressing.</PARAGRAPH>
<PARAGRAPH>If you are setting up a SLIP or PPP server on your LAN, or are connecting two networks over a serial link, you should see <XREF IDREF="29777" TYPE="TITLE">&ldquo;SLIP and PPP Routing and Address Allocation&rdquo;</XREF> for planning information.</PARAGRAPH>
</SECTION1>
<SECTION1 LBL="" HELPID = ""><TITLE><XREFTARGET ID="38057">Configuring a System for Dial-Out</TITLE><PARAGRAPH>Configuring SLIP or PPP for dial-out requires approximately the same steps: <INDEXTARGET ID="05.slip7"><!-- POSTPROCESSDATA: 05.slip7|dial-out configuration with SLIP and PPP --></PARAGRAPH>
<ORDEREDLIST><LIST><PARAGRAPH>Add a line to the <FILENAME>/etc/uucp/Systems</FILENAME> file describing the connection.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Add a line for the modem in the <FILENAME>/etc/uucp/Devices </FILENAME>file.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>If your modem is not already listed in the <FILENAME>/etc/uucp/Dialers</FILENAME> file, add an entry for it.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Verify that the modem line is correctly configured in the <FILENAME>/etc/inittab</FILENAME> file.</PARAGRAPH>
</LIST>
</ORDEREDLIST>
<PARAGRAPH>PPP requires one additional step, setting up the <FILENAME>/etc/ppp.conf</FILENAME> file.</PARAGRAPH>
<PARAGRAPH>These sections explain how to configure SLIP and PPP for dial-out:</PARAGRAPH>
<BULLETLIST><BULLET><PARAGRAPH><XREF IDREF="78606" TYPE="TITLE">&ldquo;Configuration Files for Dial-Out&rdquo;</XREF></PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="95662" TYPE="TITLE">&ldquo;Sample SLIP Configuration for Dial-Out&rdquo;</XREF></PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="58759" TYPE="TITLE">&ldquo;Sample PPP Configuration for Dial-Out&rdquo;</XREF></PARAGRAPH>
</BULLET>
</BULLETLIST>
<SECTION2 LBL="" HELPID = ""><TITLE><XREFTARGET ID="78606">Configuration Files for Dial-Out</TITLE><PARAGRAPH>This section describes the various configuration files for SLIP and PPP: </PARAGRAPH>
<BULLETLIST><BULLET><PARAGRAPH><FILENAME>/etc/uucp/Systems </FILENAME>is described in <XREF IDREF="84240" TYPE="TITLE">&ldquo;Configuring /etc/uucp/Systems for Dial-Out&rdquo;</XREF>.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><FILENAME>/etc/uucp/Devices </FILENAME>is described in <XREF IDREF="44169" TYPE="TITLE">&ldquo;Configuring /etc/uucp/Devices for Dial-Out&rdquo;</XREF>. </PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><FILENAME>/etc/uucp/Dialers </FILENAME>is described in <XREF IDREF="13083" TYPE="TITLE">&ldquo;Configuring /etc/uucp/Dialers for Dial-Out&rdquo;</XREF>.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><FILENAME>/etc/uucp/inittab </FILENAME>is described in <XREF IDREF="60139" TYPE="TITLE">&ldquo;Configuring /etc/inittab for Dial-Out&rdquo;</XREF>.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><FILENAME>/etc/ppp.conf </FILENAME>is described in <XREF IDREF="62040" TYPE="TITLE">&ldquo;Configuring /etc/ppp.conf for Dial-Out&rdquo;</XREF>.</PARAGRAPH>
</BULLET>
</BULLETLIST>
<SECTION3 LBL="" HELPID = ""><TITLE><XREFTARGET ID="84240">Configuring /etc/uucp/Systems for Dial-Out </TITLE><PARAGRAPH>The <FILENAME>/etc/uucp/Systems</FILENAME> file contains the information your system needs to dial up another system. The remote station's node name and telephone number, as well as the local modem's speed and a password, are all kept here and are used to log in to the remote station. The format for a line representing a SLIP or PPP connection in the systems file is</PARAGRAPH>
<PARAGRAPH><VARIABLE>system</VARIABLE>&space;<SCREENDISPLAY>Any</SCREENDISPLAY>&space;<VARIABLE>type</VARIABLE>&space;<VARIABLE>speed</VARIABLE>&space;<VARIABLE>phone</VARIABLE>&space;<VARIABLE>login-script</VARIABLE></PARAGRAPH>
<PARAGRAPH><VARIABLE>system</VARIABLE> specifies the name of the remote system. <VARIABLE>type</VARIABLE> gives the name of an entry in the <FILENAME>Devices</FILENAME> file, specifying a line and modem type. <VARIABLE>speed</VARIABLE> specifies the speed of the connection between the system and the modem. <VARIABLE>phone</VARIABLE> specifies the phone number for the remote system. The <VARIABLE>login-script</VARIABLE> tells SLIP or PPP how to log into the remote system.</PARAGRAPH>
<PARAGRAPH>In this example, the local station &ldquo;wenders&rdquo; uses this line in its <FILENAME>/etc/uucp/Systems</FILENAME> file to call station lynch. The connection is made at 38,400 bps. The password is &ldquo;hopper.&rdquo; SLIP logs in to the remote station by responding with &ldquo;slip-wenders&rdquo; to the login prompt, and &ldquo;hopper&rdquo; to the password prompt. </PARAGRAPH>
<CODE>
<SCREENDISPLAY>lynch Any ACUSLIP 38400 5551212 "" \r\c ogin:--ogin: slip-wenders \</SCREENDISPLAY>
<SCREENDISPLAY>asswd: hopper SLIP</SCREENDISPLAY>
</CODE>
<PARAGRAPH>The information must be in one continuous line. The last string, <SCREENDISPLAY>SLIP</SCREENDISPLAY>, forces the local station to wait for the remote station to announce that it is starting the SLIP protocol. </PARAGRAPH>
<PARAGRAPH>The third field in the systems file (in this case, <SCREENDISPLAY>ACUSLIP</SCREENDISPLAY>) specifies the modem line to be used to call the remote station. There must be at least one entry matching this field in the <FILENAME>/etc/uucp/Devices</FILENAME> file.</PARAGRAPH>
<PARAGRAPH>For more information on the <FILENAME>/etc/uucp/Systems </FILENAME>file, see <XREF IDREF="99102" TYPE="TITLE">&ldquo;UUCP Systems File&rdquo;</XREF>.</PARAGRAPH>
</SECTION3>
<SECTION3 LBL="" HELPID = ""><TITLE><XREFTARGET ID="44169">Configuring /etc/uucp/Devices for Dial-Out</TITLE><PARAGRAPH>The file <FILENAME>/etc/uucp/Devices</FILENAME> is used to configure the desired device, modem speed, and dialer program for SLIP on your IRIS station. The correct format for a line appropriate for SLIP in <FILENAME>/etc/uucp/Devices</FILENAME> is</PARAGRAPH>
<EXAMPLE>
<VARIABLE>type</VARIABLE>&space;<VARIABLE>device</VARIABLE> null <VARIABLE>speed</VARIABLE> 212 x <VARIABLE>dialer</VARIABLE>
</EXAMPLE>
<PARAGRAPH>The first field, <VARIABLE>type</VARIABLE>, can be any string you like, but it should correspond with the type specified in the Systems file. If you have multiple modems that can be used interchangeably, they should all have the same <VARIABLE>type</VARIABLE> name&mdash;the system automatically selects one of these modems when making a call. The <VARIABLE>type</VARIABLE> name ACUSLIP is commonly used to designate a modem for use with SLIP or PPP.</PARAGRAPH>
<PARAGRAPH><VARIABLE>device</VARIABLE> can be any flow-control device associated with a port not currently in use. With high-speed modems, hardware flow control and a sound cable is recommended. <VARIABLE>speed</VARIABLE> should be the speed of the connection between your system and the modem. <VARIABLE>dialer</VARIABLE> can be any dial program listed in <FILENAME>/etc/uucp/Dialers</FILENAME>. </PARAGRAPH>
<PARAGRAPH>If you want to configure more than one modem speed, use a different port, or use a modem that supports a different command set, create a new line in the devices file that reflects the change.</PARAGRAPH>
<PARAGRAPH>For example, the following line configures SLIP to use a TelebitTM T2500 modem at 38,400&nbsp;bps on the serial port 2 hardware flow control device:</PARAGRAPH>
<EXAMPLE>
<SCREENDISPLAY>ACUSLIP ttyf2 null 38400 212 x t25slip</SCREENDISPLAY>
</EXAMPLE>
<PARAGRAPH>For more information on the <FILENAME>/etc/uucp/Devices </FILENAME>file, see <XREF IDREF="47668" TYPE="TITLE">&ldquo;UUCP Devices File&rdquo;</XREF>.</PARAGRAPH>
</SECTION3>
<SECTION3 LBL="" HELPID = ""><TITLE><XREFTARGET ID="13083">Configuring /etc/uucp/Dialers for Dial-Out</TITLE><PARAGRAPH>The <FILENAME>/etc/uucp/Dialers</FILENAME> file contains entries for various types of modems. The <VARIABLE>dialer</VARIABLE> field in the <FILENAME>Devices</FILENAME> file should refer to one of these entries.</PARAGRAPH>
<PARAGRAPH>It should not be necessary to add an entry to the dialers file, unless you are installing a type of modem not supported by IRIX. If you need to add or modify an entry in the dialers file, see <XREF IDREF="54939" TYPE="TITLE">&ldquo;UUCP Dialers File&rdquo;</XREF>.</PARAGRAPH>
</SECTION3>
<SECTION3 LBL="" HELPID = ""><TITLE><XREFTARGET ID="60139">Configuring /etc/inittab for Dial-Out</TITLE><PARAGRAPH>The port you specified in <FILENAME>/etc/uucp/Devices</FILENAME> must be configured for dial-out or dial-in/dial-out use in the <FILENAME>/etc/inittab</FILENAME> file. If you set up your modem for dial-out or dial-in/dial-out use as directed in &ldquo;Installing a Modem&rdquo; in <EXTREF IDREF="80575" BOOK="IA_Periphrls" FILE="" HDG="80575" INFO=""></EXTREF>
<DOCTITLE>IRIX Admin: Peripheral Devices</DOCTITLE><EXTREF></EXTREF>
, the <FILENAME>/etc/inittab</FILENAME> file should already be set up correctly.</PARAGRAPH>
<PARAGRAPH>For example, if you want to use <FILENAME>ttyf2</FILENAME> for dial-out SLIP, the line for <FILENAME>ttyf2</FILENAME> in <FILENAME>/etc/inittab</FILENAME> should read</PARAGRAPH>
<EXAMPLE>
<SCREENDISPLAY>t2:23:off:/etc/getty ttyf2 co_38400         # port 2</SCREENDISPLAY>
</EXAMPLE>
<PARAGRAPH>This line turns off the <COMMAND>getty</COMMAND> program on port number 2.</PARAGRAPH>
<PARAGRAPH>If the link can be initiated by either station, you must turn on <COMMAND>uugetty</COMMAND>. For example, to configure a symmetric link using Telebit T2500 modems, change the line to</PARAGRAPH>
<EXAMPLE>
<SCREENDISPLAY>t2:23:respawn:/usr/lib/uucp/uugetty -Nt 60 -it25in,conn ttyf2 dx_38400 </SCREENDISPLAY>
</EXAMPLE>
<PARAGRAPH>Changes made to <FILENAME>/etc/inittab</FILENAME> are acted upon when <COMMAND>init</COMMAND>&space;reexamines the <FILENAME>/etc/inittab</FILENAME> file. To make init reexamine <FILENAME>/etc/inittab</FILENAME> immediately, use this command:</PARAGRAPH>
<EXAMPLE>
<BOLD>/etc/telinit q</BOLD>
</EXAMPLE>
<PARAGRAPH>For more information, see <REFPAGE>inittab(4)</REFPAGE>.</PARAGRAPH>
</SECTION3>
<SECTION3 LBL="" HELPID = ""><TITLE><XREFTARGET ID="62040">Configuring /etc/ppp.conf for Dial-Out</TITLE><PARAGRAPH>The <FILENAME>/etc/ppp.conf</FILENAME> file is used to specify options for PPP connections. Each entry in the file consists of a host name and a set of options. For example:</PARAGRAPH>
<CODE>
salad     out remotehost=dial-in.salad.com 
&space;         localhost=caesar.salad.com
&space;         quiet add_route
</CODE>
<PARAGRAPH>This example specifies a connection between the local host caesar.salad.com and a remote machine called dial-in.salad.com. The <KEYWORD>out</KEYWORD> keyword specifies that this is an outgoing connection. The <KEYWORD>quiet</KEYWORD> keyword specifies a demand-dialed connection (see <XREF IDREF="72696" TYPE="TITLE">&ldquo;About Demand Dialing&rdquo;</XREF>). The <KEYWORD>add-route</KEYWORD> keyword tells PPP to set up a default route through dial-in.salad.com. </PARAGRAPH>
<PARAGRAPH>For a complete list of options for the <FILENAME>ppp.conf</FILENAME> file, see the <REFPAGE>ppp(1M)</REFPAGE> reference page.</PARAGRAPH>
</SECTION3>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE><XREFTARGET ID="95662">Sample SLIP Configuration for Dial-Out</TITLE><PARAGRAPH>This section shows a sample SLIP configuration for dial-out. This example sets up a connection between tuna.salad.com and dial-in.salad.com, a server on the salad.com corporate network.<INDEXTARGET ID="05.slip8"><!-- POSTPROCESSDATA: 05.slip8|dial-out configuration example: SLIP --></PARAGRAPH>
<PARAGRAPH><FILENAME>/etc/uucp/Systems</FILENAME>&space;</PARAGRAPH>
<CODE>
salad Any ACUSLIP 38400 5551212 "" \r\c ogin:--ogin: slip-tuna \
asswd: celery SLIP
</CODE>
<PARAGRAPH><FILENAME>/etc/uucp/Devices</FILENAME>&space;</PARAGRAPH>
<EXAMPLE>
ACUSLIP ttyf2 null 38400 212 x t25slip
</EXAMPLE>
<PARAGRAPH><FILENAME>/etc/inittab</FILENAME></PARAGRAPH>
<EXAMPLE>
t2:23:off:/etc/getty ttyf2 co_38400         # port 2
</EXAMPLE>
<PARAGRAPH>To start SLIP using the configuration in this example, enter the following command:</PARAGRAPH>
<EXAMPLE>
% <USERINPUT>/usr/etc/slip -o -p comp -r salad</USERINPUT>&space;
</EXAMPLE>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE><XREFTARGET ID="58759">Sample PPP Configuration for Dial-Out</TITLE><PARAGRAPH>The main configuration file for PPP is <INDEXTARGET ID="05.slip9"><!-- POSTPROCESSDATA: 05.slip9|dial-out configuration example: PPP --><FILENAME>/etc/ppp.conf</FILENAME>. This file is described in detail in the <REFPAGE>ppp(1M)</REFPAGE> reference page. Here is an example of a <FILENAME>ppp.conf</FILENAME> file:</PARAGRAPH>
<CODE>
salad     out remotehost=dial-in.salad.com 
&space;         localhost=caesar.salad.com
&space;         quiet add_route
</CODE>
<PARAGRAPH>This entry describes an outgoing connection from a standalone system to a remote host named &ldquo;dial-in.salad.com,&rdquo; which acts as a gateway to the spice.com network. The entry specifies demand-dialed (<KEYWORD>quiet</KEYWORD>) mode. Stand-alone clients should usually include the <KEYWORD>add_route</KEYWORD> keyword to set up a default route through the PPP server. The entry <VARIABLE>salad </VARIABLE>should match an entry in the <FILENAME>/etc/uucp/Systems</FILENAME> file, such as the following:</PARAGRAPH>
<CODE>
salad Any ACUSLIP 38400 555-1212 "" @\r\c ogin--ogin: ppp-caesar \
ssword: mypasswd PPP
</CODE>
<PARAGRAPH>IRIX PPP sends out the message<SCREENDISPLAY>&space;starting PPP</SCREENDISPLAY> before starting the protocol; therefore, the chat script shown above waits to receive the string PPP to ensure that the login has succeeded. If you are connecting to a non IRIX system, you may need to remove the PPP string from this example.</PARAGRAPH>
<PARAGRAPH>There must be at least one ACUSLIP entry in the <FILENAME>/etc/uucp/Devices</FILENAME> file:</PARAGRAPH>
<CODE>
ACUSLIP ttyf2 null 38400 212 x t25slip
</CODE>
<PARAGRAPH>This entry specifies that <FILENAME>ttyf2</FILENAME> is connected to a Telebit 2500 modem.</PARAGRAPH>
<PARAGRAPH>You should also have your <FILENAME>/etc/inittab</FILENAME> file set up to expect the modem port speed you are using (in this case, 38400 bps) and to have <COMMAND>getty</COMMAND> or <COMMAND>uugetty</COMMAND> turned off. Specific details on editing the <FILENAME>/etc/inittab</FILENAME> file and restarting <COMMAND>telinit</COMMAND> are found in <EXTREF IDREF="80575" BOOK="IA_Periphrls" FILE="" HDG="80575" INFO="">IRIX Admin: Peripheral Devices</EXTREF>
. The following entry works with the above listed file entries for PPP:</PARAGRAPH>
<CODE>
t2:23:off:/etc/uucp/uugetty ttyd2 dx_38400  # ppp modem
</CODE>
<PARAGRAPH>You may use dial-out PPP with the above-listed entry, but for dial-in PPP, you must configure <COMMAND>uugetty</COMMAND> to answer the line, as described in <EXTREF IDREF="80575" BOOK="IA_Periphrls" FILE="" HDG="80575" INFO="">IRIX Admin: Peripheral Devices</EXTREF>
.<DOCTITLE></DOCTITLE><EXTREF IDREF="80575" BOOK="IA_Periphrls" FILE="" HDG="80575" INFO=""></EXTREF>
<DOCTITLE></DOCTITLE></PARAGRAPH>
<PARAGRAPH>It is important to note that the above-listed entries are simply examples of one configuration that works for one example site. The same entries may not yield satisfactory results in every case, due to other differences in site configuration and modem manufacturer and model. For example, the PPP site you are dialing into may require different settings in the <FILENAME>/etc/ppp.conf</FILENAME> file, and the entry in the <FILENAME>Devices </FILENAME>file assumes a specific brand and model of modem. Also, the example assumes that you have configured the modem as described in &ldquo;Installing a Modem&rdquo; in <EXTREF IDREF="80575" BOOK="IA_Periphrls" FILE="" HDG="80575" INFO="">IRIX Admin: Peripheral Devices</EXTREF>
.</PARAGRAPH>
<PARAGRAPH>When you have configured the files, you must enter the <COMMAND>ppp</COMMAND> command as <ITALICS>root</ITALICS>. The following command works for the above-listed example file entries:</PARAGRAPH>
<CODE>
<USERINPUT>ppp -r salad</USERINPUT>
</CODE>
<PARAGRAPH>For complete information on the <COMMAND>ppp</COMMAND> command and its options, see the <REFPAGE>ppp(1M)</REFPAGE> reference page. </PARAGRAPH>
</SECTION2>
</SECTION1>
<SECTION1 LBL="" HELPID = ""><TITLE><XREFTARGET ID="26678">Configuring a System for Dial-In</TITLE><PARAGRAPH>To configure any system for dial-in, you must have at least one port set up for dial-in use (or combination dial-in/dial-out use). Each system that can dial in requires an entry in the <FILENAME>/etc/passwd</FILENAME> file. In addition, SLIP connections may require an entry in the <FILENAME>/usr/etc/remoteslip</FILENAME> file, and PPP connections may require an entry in <FILENAME>/etc/ppp.conf</FILENAME>.</PARAGRAPH>
<PARAGRAPH>These sections describe how to configure SLIP and PPP for dial-in:</PARAGRAPH>
<BULLETLIST><BULLET><PARAGRAPH><XREF IDREF="59608" TYPE="TITLE">&ldquo;Configuring /etc/passwd for Dial-In With SLIP&rdquo;</XREF></PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="29980" TYPE="TITLE">&ldquo;Configuring /usr/etc/remoteslip for Dial-In With SLIP&rdquo;</XREF></PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="48133" TYPE="TITLE">&ldquo;Configuring /etc/passwd for Dial-In With PPP&rdquo;</XREF></PARAGRAPH>
</BULLET>
</BULLETLIST>
<SECTION2 LBL="" HELPID = ""><TITLE><XREFTARGET ID="59608">Configuring /etc/passwd for Dial-In With SLIP</TITLE><PARAGRAPH>SLIP requires an entry in <INDEXTARGET ID="05.slip10"><!-- POSTPROCESSDATA: 05.slip10|/etc/passwd/etc/passwd/usr/etc/remoteslip/etc/passwd --><FILENAME>/etc/passwd</FILENAME> in order to log in. The user ID and group ID must both be zero (0). Instead of the shell specified at the end of a normal entry in <FILENAME>/etc/passwd</FILENAME>, SLIP uses the file <FILENAME>/usr/etc/remoteslip</FILENAME>. To allow tuna.salad.com to log in as &ldquo;slip-tuna,&rdquo; dial-in.salad.com should have this line in <FILENAME>/etc/passwd</FILENAME>:</PARAGRAPH>
<EXAMPLE>
slip-tuna:3RsB768WRAN2.:0:0:slip for tuna:/:/usr/etc/remoteslip 
</EXAMPLE>
<PARAGRAPH>An entry like this one is necessary for each station that calls in by using SLIP. For maximum system security, the home directory for SLIP accounts should only be writable by the superuser. Using open directories such as <FILENAME>/tmp</FILENAME> opens your system up to a variety of threats.</PARAGRAPH>
<NOTE><PREFIX>Note</PREFIX>The encrypted password in the example does not represent a real password. You must use the <COMMAND>passwd </COMMAND>command to set the password for the SLIP login. See the <REFPAGE>passwd(1)</REFPAGE> reference page for information on using <COMMAND>passwd</COMMAND>.</NOTE>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE><XREFTARGET ID="29980">Configuring /usr/etc/remoteslip for Dial-In With SLIP</TITLE><PARAGRAPH>In the<FILENAME>&space;/etc/passwd</FILENAME> entry for slip-tuna, the login shell is specified as the file <FILENAME>/usr/etc/remoteslip</FILENAME>. This file is used to invoke SLIP on a remote station. In <FILENAME>/usr/etc/remoteslip</FILENAME>, the slip command can specify the remote station's name and any other options appropriate to that connection.</PARAGRAPH>
<PARAGRAPH><FILENAME>/usr/etc/remoteslip</FILENAME> is a Bourne shell script. You can add to the case statement as you would to any Bourne shell script case statement. The <REFPAGE>sh(1)</REFPAGE> reference page contains detailed information about shell script programming. Each SLIP connection should have an entry in the following format:</PARAGRAPH>
<EXAMPLE>
<VARIABLE>slip-nodename</VARIABLE><SCREENDISPLAY>&space;)&lbreak;    exec /usr/etc/slip </SCREENDISPLAY><VARIABLE>options&lbreak;</VARIABLE><SCREENDISPLAY>&space;   ;;</SCREENDISPLAY>
</EXAMPLE>
<PARAGRAPH>nodename is the name of the remote station. Options for <COMMAND>slip</COMMAND> are detailed in the <REFPAGE>slip(1M)</REFPAGE> reference page.</PARAGRAPH>
<PARAGRAPH>The <FILENAME>/usr/etc/remoteslip</FILENAME> file might contain this entry on the station dial-in.salad.com:</PARAGRAPH>
<EXAMPLE>
<SCREENDISPLAY># Edit the case statement as required. </SCREENDISPLAY>
<SCREENDISPLAY>case $USER in</SCREENDISPLAY>
<SCREENDISPLAY>&space;      slip-tuna)&lbreak;              exec /usr/etc/slip -p comp -i -r tuna &lbreak;              ;;&lbreak;       *)&lbreak;              exec /usr/etc/slip -i -r $USER&lbreak;              ;;&lbreak;esac</SCREENDISPLAY>
</EXAMPLE>
<PARAGRAPH>The connection between dial-in.salad.com and tuna uses the Silicon Graphics proprietary header prediction and compression for faster data transfer because the <BOLD>-p comp</BOLD> option is specified. To use RFC 1144 compression, use<BOLD>&space;-p cslip</BOLD>&space;instead. The option tells SLIP that the session is input from another station. The <COMMAND>slip</COMMAND> option, <BOLD>-r tuna</BOLD>, specifies the remote station's name. Note that this example also supplies a default case. If all of your SLIP clients use the same parameters, you can just modify the default case, instead of adding entries for each client.</PARAGRAPH>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE><XREFTARGET ID="48133">Configuring /etc/passwd for Dial-In With PPP</TITLE><PARAGRAPH>Like SLIP, PPP requires an entry in <INDEXTARGET ID="05.slip11"><!-- POSTPROCESSDATA: 05.slip11|dial-in configuration:PPP --><FILENAME>/etc/passwd</FILENAME> in order to log in. The user ID and group ID must both be zero (0). Instead of the shell specified at the end of a normal entry in <FILENAME>/etc/passwd</FILENAME>, PPP uses the command <FILENAME>/usr/etc/ppp</FILENAME>. To allow the system caesar.salad.com to log in as &ldquo;ppp-caesar,<ITALICS>&rdquo;</ITALICS> dial-in.salad.com should have this line in <FILENAME>/etc/passwd</FILENAME>:</PARAGRAPH>
<EXAMPLE>
ppp-caesar:3RsB768WRAN2.:0:0:PPP for caesar:/:/usr/etc/ppp
</EXAMPLE>
<PARAGRAPH>An entry like this one is necessary for each station that calls in by using PPP. For maximum system security, the home directory for PPP accounts should be writable only by the superuser. Using open directories such as <FILENAME>/tmp</FILENAME> exposes your system to a variety of threats.</PARAGRAPH>
<NOTE><PREFIX>Note</PREFIX>The encrypted password in the example does not represent a real password. You must use <COMMAND>passwd</COMMAND> to set the password for the PPP login. See the <REFPAGE>passwd(1)</REFPAGE> reference page for information on using <COMMAND>passwd</COMMAND>.</NOTE>
<PARAGRAPH>If the default parameters are acceptable, you don't even need an entry in <FILENAME>/etc/ppp.conf</FILENAME> for a client. You may want to add a minimal entry, such as this:</PARAGRAPH>
<EXAMPLE>
ppp-caesar     in remotehost=caesar.salad.com
</EXAMPLE>
<NOTE><PREFIX>Note</PREFIX>You should never use the <KEYWORD>add-route</KEYWORD> keyword by itself on a server system. </NOTE>
</SECTION2>
</SECTION1>
<SECTION1 LBL="" HELPID = ""><TITLE><XREFTARGET ID="29777">SLIP and PPP Routing and Address Allocation</TITLE><PARAGRAPH>There are three basic ways to deal with routing over a SLIP or PPP link, depending on the circumstances.<INDEXTARGET ID="05.slip12"><!-- POSTPROCESSDATA: 05.slip12|Serial Line Internet Protocol (SLIP): routingrouting,SLIP and PPP --><INDEXTARGET ID="05.slip13"><!-- POSTPROCESSDATA: 05.slip13|Point to Point Protocol (PPP): routing --></PARAGRAPH>
<BULLETLIST><BULLET><PARAGRAPH>If you have a few standalone clients connecting to a server with SLIP on your main network, you probably want to assign client addresses from the server's network, and use proxy-ARP routing (PPP handles ARP table entries automatically). To learn more about proxy-ARP routing, see <XREF IDREF="26201" TYPE="TITLE">&ldquo;About Proxy-ARP Routing for SLIP Connections&rdquo;</XREF>.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH>If you have a lot of standalone clients connecting to your server, you're better off setting aside a subnet for SLIP and PPP client addresses. In this case, the server appears to the main network as a gateway to the SLIP/PPP &ldquo;net.&rdquo; This issue is explored in <XREF IDREF="84332" TYPE="TITLE">&ldquo;Setting Up SLIP/PPP Subnets for Client Addresses&rdquo;</XREF>.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH>If you're connecting two networks using SLIP or PPP, each network should have its own network number, and the systems that form the endpoints of the link should both run <COMMAND>routed</COMMAND>. You will find more information in <XREF IDREF="26996" TYPE="TITLE">&ldquo;About Connected SLIP or PPP Networks&rdquo;</XREF>.</PARAGRAPH>
</BULLET>
</BULLETLIST>
<PARAGRAPH>In all cases, the server should run the routing daemon, <COMMAND>routed</COMMAND>, unless you have a very small network and use static routing. For more information, see the <REFPAGE>routed(1M)</REFPAGE> and <REFPAGE>route(1M)</REFPAGE> reference pages. You can turn <COMMAND>routed</COMMAND> on using the <COMMAND>chkconfig</COMMAND> command:</PARAGRAPH>
<EXAMPLE>
# <USERINPUT>chkconfig routed on</USERINPUT>
</EXAMPLE>
<PARAGRAPH>Standalone clients should not run <COMMAND>routed</COMMAND>.</PARAGRAPH>
<SECTION2 LBL="" HELPID = ""><TITLE><XREFTARGET ID="26201">About Proxy-ARP Routing for SLIP Connections</TITLE><PARAGRAPH>If you have a small number of standalone hosts connecting to a SLIP server, you can use Proxy-ARP routing (proxy-ARP routing is not required for PPP connections, because PPP automatically installs ARP table entries if they are needed). In this system, each of the standalone hosts is assigned an Internet address from the server's network. Each client sets up a default route through the server, and the server advertises each of the client's addresses using the Address Resolution Protocol (ARP). </PARAGRAPH>
<SECTION3 LBL="" HELPID = ""><TITLE>Setting Up Proxy-ARP Routing for SLIP Connections</TITLE><PARAGRAPH>To set up a default route through the server, you can use the <COMMAND>route</COMMAND> command after a SLIP connection is established. Add this command to the script that you use to start SLIP:</PARAGRAPH>
<EXAMPLE>
route add net default <VARIABLE>server-address</VARIABLE> 1
</EXAMPLE>
<PARAGRAPH>For each SLIP client, the server should issue an <COMMAND>arp</COMMAND> command:</PARAGRAPH>
<EXAMPLE>
arp -s <VARIABLE>client-hostname server--ethernet-address </VARIABLE>pub
</EXAMPLE>
<PARAGRAPH>Note that the server's Ethernet address is not the same as its IP address. To determine the server's Ethernet address, run the <COMMAND>arp</COMMAND> command from another system on the same Ethernet:</PARAGRAPH>
<CODE>
% arp dial-in.salad.com
dial-in.salad.com (192.70.79.7) at 8:0:69:9:4f:ef
</CODE>
</SECTION3>
<SECTION3 LBL="" HELPID = ""><TITLE>Proxy-ARP Routing Example</TITLE><PARAGRAPH>The string of hexadecimal numbers separated by colons (8:0:69:9:4f:ef) is the server's Ethernet address.</PARAGRAPH>
<PARAGRAPH>The server can be set up to run the <COMMAND>arp</COMMAND> commands at boot time by placing the commands in a local network script. The following example shows a local network script that sets up ARP entries for a set of clients: </PARAGRAPH>
<CODE>
#!/bin/sh
#
# starting up local networking stuff
#
&nbsp;
IS_ON=/etc/chkconfig
CONF=/etc/config
SERV_ADDR=8:0:69:9:4f:ef&space;
&nbsp;
if $IS_ON verbose ; then
&space;       ECHO=echo
&space;       VERBOSE=-v
else            # For a quiet startup and shutdown
&space;       ECHO=:
&space;       VERBOSE=
fi
&nbsp;
case "$1" in
&space; 'start')
&space;     # setup proxy ARP for the dialin hosts
&space;     # if this host has more than one interface,
&space;     # you will need to hard-code the Ethernet MAC address
&space;     # instead of letting it be determined at run time.
&space;     # note that 4DDN (among others) may change the MAC address from default!
&space;     # and some AppleTalk packages change the output of &grave;netstat -ian&grave;!
&space;     arp -s client1 $SERV_ADDR pub
&space;     arp -s client2 $SERV_ADDR pub
&space;     arp -s client3 $SERV_ADDR pub
&space;     ;;
&space; 'stop')
&space;     # be nice and delete the ARP entries
&space;     arp -d client1
&space;     arp -d client2
&space;     arp -d client3
&space;     ;;
&space; *)
&space;       echo "usage: $0 {start|stop}"
&space;       ;;
esac
exit 0
#
</CODE>
<PARAGRAPH>Assume the preceding file was named <FILENAME>/etc/init.d/network.local</FILENAME>, and you want it to run just after networking started, then you would use the following commands to create the startup and shutdown links: </PARAGRAPH>
<CODE>
ln -s /etc/init.d/network.local /etc/rc2.d/S31netlocal
ln -s /etc/init.d/network.local /etc/rc0.d/K39netlocal
</CODE>
</SECTION3>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE><XREFTARGET ID="84332">Setting Up SLIP/PPP Subnets for Client Addresses</TITLE><PARAGRAPH>If you have a lot of standalone clients, it would be cumbersome to issue <COMMAND>arp</COMMAND> commands for all of them. A better strategy is to allocate client addresses from a special subnet set aside for SLIP and PPP clients. The server acts as a gateway to this net. The server must run <COMMAND>routed</COMMAND>, and it should use the <BOLD>-F </BOLD>option to reduce unnecessary network traffic. For example, if the SLIP/PPP subnet was 128.70.80, the string &ldquo;-F 128.70.80&rdquo; should be added to the <FILENAME>/etc/config/routed.options</FILENAME> file.</PARAGRAPH>
<PARAGRAPH>The clients should set up default routes through the server, just as with proxy-ARP routing. In addition, if clients are to communicate with one another, they must have their Ethernet interfaces turned off:</PARAGRAPH>
<EXAMPLE>
% <USERINPUT>chkconfig network off</USERINPUT>
</EXAMPLE>
<PARAGRAPH>If clients have their Ethernet interfaces enabled, they will try to reach other clients on the same &ldquo;net&rdquo; through Ethernet, rather than through the server.</PARAGRAPH>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE><XREFTARGET ID="26996">About Connected SLIP or PPP Networks </TITLE><PARAGRAPH>Connecting two networks using SLIP or PPP is probably the simplest case from a routing standpoint. Each network should have its own network number, and the addresses of the server and client should be allocated from their respective networks. Both client and server should run <INDEXTARGET ID="05.slip14"><!-- POSTPROCESSDATA: 05.slip14|Network SLIP connections (NSLIP) --><COMMAND>routed</COMMAND>. </PARAGRAPH>
<PARAGRAPH>Routers on the main network may need to be configured to recognize and route to the new network. </PARAGRAPH>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE><XREFTARGET ID="31457">Using Dynamic Address Allocation With PPP</TITLE><PARAGRAPH>If you are connecting to a service provider who uses PPP with dynamic address allocation, use the keywords <INDEXTARGET ID="05.slip15"><!-- POSTPROCESSDATA: 05.slip15|Point to Point Protocol (PPP): dynamic addressing --><KEYWORD>localhost=0,0</KEYWORD> and <KEYWORD>add_route</KEYWORD> in the <FILENAME>/etc/ppp.conf</FILENAME> file, to allow the remote system to assign an IP address, and set up a default route through the remote system.</PARAGRAPH>
</SECTION2>
</SECTION1>
<SECTION1 LBL="" HELPID = ""><TITLE><XREFTARGET ID="39472">Configuring a Bidirectional Link</TITLE><PARAGRAPH>A simple SLIP or PPP link, in which one station must always initiate the connection, can be changed to allow either station to initiate the connection.<INDEXTARGET ID="05.slip16"><!-- POSTPROCESSDATA: 05.slip16|Serial Line Interface Protocol (SLIP): and bidirectional links --><INDEXTARGET ID="05.slip17"><!-- POSTPROCESSDATA: 05.slip17|Serial Line Interface Protocol (SLIP): and bidirectional links --></PARAGRAPH>
<PARAGRAPH>The first step is to establish a link in one direction. Once that link is working correctly, set up the link in the reverse direction. You should be able to use the same <FILENAME>ppp.conf</FILENAME> entry for both dial-in and dial-out.</PARAGRAPH>
</SECTION1>
<SECTION1 LBL="" HELPID = ""><TITLE><XREFTARGET ID="88936">Starting SLIP or PPP at Boot Time</TITLE><PARAGRAPH>To have a SLIP or PPP connection between networks start automatically, create a local network script, <FILENAME>/etc/init.d/network.local, </FILENAME>for that purpose. The script resides on the station where you want to initiate the link and should be linked to appropriate files in the <FILENAME>/etc/rc2.d</FILENAME> and <FILENAME>/etc/rc0.d</FILENAME> directories. For example, to automatically start the demand-dialed PPP link described in <XREF IDREF="58759" TYPE="TITLE">&ldquo;Sample PPP Configuration for Dial-Out&rdquo;</XREF>, you would create a local network script on caesar.salad.com. The script should start PPP when called with the argument <BOLD>start</BOLD>, and terminate it when called with the argument <BOLD>stop</BOLD>. </PARAGRAPH>
<CODE>
#!/bin/sh
# ppp boot startup script
case $1 in
&space;  start)
&space;      /etc/killall ppp
&space;      if /etc/chkconfig ppp &amp;&amp; test -x /usr/etc/ppp -a -s /etc/ppp.conf
&space;      then
&space;          /usr/etc/ppp -r salad &amp;
&space;      fi
&space;      ;;
&space;  stop)
&space;      /etc/killall -TERM ppp
&space;      ;;
&space;  *)
&space;      echo &ldquo;usage: $0 {start|stop}&rdquo;
&space;      ;;
esac
</CODE>
<PARAGRAPH>This script should be linked to the appropriate filenames in the <FILENAME>/etc/rc2.d</FILENAME> and <FILENAME>/etc/rc0.d</FILENAME> directories:</PARAGRAPH>
<CODE>
ln -s /etc/init.d/network.local /etc/rc2.d/S31netlocal
ln -s /etc/init.d/network.local /etc/rc0.d/K39netlocal
</CODE>
</SECTION1>
<SECTION1 LBL="" HELPID = ""><TITLE><XREFTARGET ID="72696">About Demand Dialing</TITLE><PARAGRAPH>If you have a SLIP or PPP link that is used irregularly but frequently, it is likely to be economical for you to make that link a demand-dialing link. With demand dialing, the system makes the telephone connection as needed, when there is network traffic to be transmitted, and it drops the connection when there is no traffic. By default, much of the non-essential network traffic does not cause a link to be established. For example, the traffic generated by the time daemon (<INDEXTARGET ID="05.slip18"><!-- POSTPROCESSDATA: 05.slip18|demand-dialing dialing on demand, SLIP and PPP --><COMMAND>timed</COMMAND>) would not cause a call to be placed, but a request for file transfer would cause the connection to be made. </PARAGRAPH>
</SECTION1>
<SECTION1 LBL="" HELPID = ""><TITLE>Setting Up Demand Dialing </TITLE><PARAGRAPH>To use demand-dialing, add the<BOLD>&space;-q</BOLD> option to your <COMMAND>slip</COMMAND> command on the system that initiates the connection. Demand-dialing mode is also known as &ldquo;quiet&rdquo; mode. For complete information on this and other options, see the <REFPAGE>slip(1M)</REFPAGE> reference page. </PARAGRAPH>
<PARAGRAPH>PPP can be configured to use demand dialing by adding the &ldquo;quiet&rdquo; keyword to the <FILENAME>ppp.conf</FILENAME> file.</PARAGRAPH>
<PARAGRAPH>When using demand-dialing, it makes sense to start SLIP or PPP automatically at boot time, as described in <XREF IDREF="88936" TYPE="TITLE">&ldquo;Starting SLIP or PPP at Boot Time&rdquo;</XREF>.</PARAGRAPH>
<PARAGRAPH>Note that the link is initiated only when there is traffic on the initiating end of the link.</PARAGRAPH>
</SECTION1>
<SECTION1 LBL="" HELPID = ""><TITLE><XREFTARGET ID="32857">NFS Over SLIP or PPP</TITLE><PARAGRAPH>You can run NFS over a SLIP or PPP link. NFS will be very slow because of the amount of information transferred in NFS transactions. You may be able to improve performance with these measures: <INDEXTARGET ID="05.slip19"><!-- POSTPROCESSDATA: 05.slip19|Network File System (NFS) --><INDEXTARGET ID="05.slip20"><!-- POSTPROCESSDATA: 05.slip20|Serial Line Interface Protocol (SLIP): purpose of --><INDEXTARGET ID="05.slip21"><!-- POSTPROCESSDATA: 05.slip21|Serial Line Interface Protocol (SLIP): and NFS --></PARAGRAPH>
<BULLETLIST><BULLET><PARAGRAPH>Use NFS with modems faster than 9600 bps.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH>Use one of the SLIP header prediction and compression options. </PARAGRAPH>
<PARAGRAPH>For more information regarding the SLIP compression options, <BOLD>comp</BOLD>&space;and <BOLD>cslip</BOLD>, see the <REFPAGE>slip(1M)</REFPAGE> reference page. </PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH>Adjust the NFS options <BOLD>rsize</BOLD>, <BOLD>wsize</BOLD><BOLD>,</BOLD>&space;<BOLD>timeo</BOLD>,&space;and <BOLD>retrans</BOLD>&space;when mounting NFS file systems.</PARAGRAPH>
<PARAGRAPH>To improve performance, read and write smaller blocks and specify longer timeouts. See the <REFPAGE>fstab(4)</REFPAGE> reference page for more information on NFS filesystem options. </PARAGRAPH>
</BULLET>
</BULLETLIST>
</SECTION1>
<SECTION1 LBL="" HELPID = ""><TITLE><XREFTARGET ID="70499">File Transfer Over SLIP or PPP</TITLE><PARAGRAPH>File transfer over a serial link may be slow if other demanding utilities share the link. For faster file transfer, try using <INDEXTARGET ID="05.slip22"><!-- POSTPROCESSDATA: 05.slip22|Serial Line Interface Protocol (SLIP): and file transfersfile transfer:over SLIP and PPP --><INDEXTARGET ID="05.slip23"><!-- POSTPROCESSDATA: 05.slip23|Serial Line Interface Protocol (SLIP): and file transfers --><COMMAND>uucp</COMMAND>. Using <COMMAND>uucp</COMMAND> is effective if you do not want to share the line with other utilities.</PARAGRAPH>
</SECTION1>
<SECTION1 LBL="" HELPID = ""><TITLE><XREFTARGET ID="62912">Troubleshooting SLIP and PPP Links</TITLE><PARAGRAPH>If your SLIP or PPP link seems to be connecting, but you can't reach systems on the remote network, you might have a routing problem. Try to reach the remote system with <INDEXTARGET ID="05.slip24"><!-- POSTPROCESSDATA: 05.slip24|Serial Line Interface Protocol (SLIP): debuggingtroubleshooting:SLIP and PPP --><COMMAND>ping</COMMAND>:</PARAGRAPH>
<EXAMPLE>
% <USERINPUT>ping -c 10 dial-in.salad.com</USERINPUT>
</EXAMPLE>
<PARAGRAPH>If the connection is working, you should see output something like this:</PARAGRAPH>
<CODE>
PING dial-in.salad.com (128.70.79.52): 56 data bytes
64 bytes from 128.70.79.52: icmp_seq=0 ttl=255 time=2 ms
64 bytes from 128.70.79.52: icmp_seq=1 ttl=255 time=1 ms
64 bytes from 128.70.79.52: icmp_seq=2 ttl=255 time=1 ms
64 bytes from 128.70.79.52: icmp_seq=3 ttl=255 time=1 ms
64 bytes from 128.70.79.52: icmp_seq=4 ttl=255 time=1 ms
64 bytes from 128.70.79.52: icmp_seq=5 ttl=255 time=1 ms
64 bytes from 128.70.79.52: icmp_seq=6 ttl=255 time=1 ms
64 bytes from 128.70.79.52: icmp_seq=7 ttl=255 time=1 ms
64 bytes from 128.70.79.52: icmp_seq=8 ttl=255 time=2 ms
64 bytes from 128.70.79.52: icmp_seq=9 ttl=255 time=1 ms
&nbsp;
&nbsp;
----dial-in.salad.com PING Statistics----
10 packets transmitted, 10 packets received, 0% packet loss
</CODE>
<PARAGRAPH>If the connection is not working, you should see output like this:</PARAGRAPH>
<CODE>
PING dial-in.salad.com (128.70.79.52): 56 data bytes
&nbsp;
&nbsp;
----dial-in.salad.com PING Statistics----
10 packets transmitted, 0 packets received, 100% packet loss
</CODE>
<PARAGRAPH>If you can contact the remote host, but not other systems on the network, you probably have a routing problem. Check that your routing is set up as described in <XREF IDREF="29777" TYPE="TITLE">&ldquo;SLIP and PPP Routing and Address Allocation&rdquo;</XREF>.</PARAGRAPH>
<PARAGRAPH>If you aren't getting any connection at all, test the line with another utility. If you are familiar with <COMMAND>uucp</COMMAND>, you may want to establish a <COMMAND>uucp</COMMAND> link between the stations as a means of testing the connection. Most users will find that <COMMAND>cu</COMMAND> is an easier way to debug the link.</PARAGRAPH>
<NOTE><PREFIX>Note</PREFIX><COMMAND>cu</COMMAND> requires a direct entry in the <FILENAME>/etc/uucp/Devices</FILENAME> file. Refer to <XREF IDREF="47668" TYPE="TITLE">&ldquo;UUCP Devices File&rdquo;</XREF> for more details.</NOTE>
<PARAGRAPH>When debugging a SLIP connection, check each station separately. First check the port and modem on the local station by using a <COMMAND>cu</COMMAND> command like this: </PARAGRAPH>
<EXAMPLE>
<BOLD>cu -d -s speed -l port </BOLD>
</EXAMPLE>
<PARAGRAPH>For example, to test the port and modem installed on the station tuna.salad.com, you would use this <COMMAND>cu</COMMAND> command: </PARAGRAPH>
<EXAMPLE>
<BOLD>cu -d -s 38400 -l ttyf2 </BOLD>
</EXAMPLE>
<PARAGRAPH>(It may be necessary to turn off the (<COMMAND>uu</COMMAND>)<COMMAND>getty</COMMAND>&space;first by changing <KEYWORD>respawn</KEYWORD> to <KEYWORD>off</KEYWORD> on the line for the port in the file <FILENAME>/etc/inittab</FILENAME>.)</PARAGRAPH>
<PARAGRAPH>The modem should respond. Many modems respond by printing AT. If the modem does not respond as expected, review the SLIP configuration procedure for the local station and review the modem configuration and documentation. If the modem does respond as expected, disconnect from <COMMAND>cu</COMMAND>&space;by typing a tilde followed by a dot:</PARAGRAPH>
<EXAMPLE>
<BOLD>~. </BOLD>
</EXAMPLE>
<PARAGRAPH>Connect the stations you want to link as you would for the SLIP link. On the local station, use <COMMAND>cu</COMMAND> to call the remote station through the port and connection you have already verified with <COMMAND>cu</COMMAND>.</PARAGRAPH>
<PARAGRAPH>Check the connection to the remote station with a <COMMAND>cu</COMMAND>&space;command like this: </PARAGRAPH>
<EXAMPLE>
<BOLD>cu -d -sspeed telno </BOLD>
</EXAMPLE>
<PARAGRAPH>For example, to test the connection between tuna and dial-in.salad.com, you would call dial-in from tuna with this <COMMAND>cu</COMMAND> command: </PARAGRAPH>
<EXAMPLE>
<BOLD>cu -d -s38400 5552002 </BOLD>
</EXAMPLE>
<PARAGRAPH>You should see the local station tell the modem to call the remote station. Eventually, you should see the login prompt. Type the send strings from the <FILENAME>/etc/uucp/Systems</FILENAME> file in response to the <COMMAND>expect</COMMAND> strings.</PARAGRAPH>
</SECTION1>
</CHAPTER>
