<!-- Produced by version 3.14 (11/22/96) of SGI Frame/SGML translator -->
<CHAPTER LBL="6"><TITLE><XREFTARGET ID="74459">BIND Name Server</TITLE><PARAGRAPH>The Berkeley Internet Name Domain (BIND) server implements the Internet Domain Name Service (DNS) for the IRIX operating system. A name server is a network service that enables clients to name resources or objects in the network and share this information with other network objects. In effect, a name server is a distributed database system for objects in a computer network. All IRIX network programs can use BIND to store and retrieve station names and addresses. You can use BIND to replace the original <FILENAME>host</FILENAME> table lookup of information in the <FILENAME>/etc/hosts</FILENAME>&space;file.</PARAGRAPH>
<PARAGRAPH>BIND has two parts: the name server program, <COMMAND>named</COMMAND>,&space;and a set of C library &ldquo;resolver&rdquo; routines that access the server. To set up as a name server you will have to install <FILENAME>named</FILENAME>. See <XREF IDREF="36840" TYPE="TITLE">&ldquo;BIND Configuration Files&rdquo;</XREF> for details. <INDEXTARGET ID="06.bind1"><!-- POSTPROCESSDATA: 06.bind1|<ITALICS>named</ITALICS> server, definition of --><COMMAND>named</COMMAND> is a daemon that runs in the background and responds to UDP and TCP queries on a well-known network port. The library routines reside in the standard C library, <FILENAME>libc.a</FILENAME>. The host-address lookup routines <COMMAND>gethostbyname</COMMAND>, <COMMAND>gethostbyaddr</COMMAND>, and <COMMAND>sethostent</COMMAND> use the resolver routines to query the name server. The resolver library routines described in resolver include routines that build query packets and exchange them with the name server.<INDEXTARGET ID="06.bind2"><!-- POSTPROCESSDATA: 06.bind2|resolver routines, purpose of --></PARAGRAPH>
<PARAGRAPH>The following topics are covered in detail in this chapter: </PARAGRAPH>
<BULLETLIST><BULLET><PARAGRAPH><XREF IDREF="98093" TYPE="TITLE">&ldquo;About Domain Name Service&rdquo;</XREF></PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="80851" TYPE="TITLE">&ldquo;BIND Servers and Clients&rdquo;</XREF></PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="36840" TYPE="TITLE">&ldquo;BIND Configuration Files&rdquo;</XREF></PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="90074" TYPE="TITLE">&ldquo;Setting Up a BIND Configuration&rdquo;</XREF></PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="85488" TYPE="TITLE">&ldquo;Managing the BIND Environment&rdquo;</XREF></PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="33139" TYPE="TITLE">&ldquo;Debugging named&rdquo;</XREF></PARAGRAPH>
</BULLET>
</BULLETLIST>
<SECTION1 LBL="" HELPID = ""><TITLE><XREFTARGET ID="98093">About Domain Name Service</TITLE><PARAGRAPH>Host-table lookup routines, such as those using the <INDEXTARGET ID="06.bind3"><!-- POSTPROCESSDATA: 06.bind3|BIND host lookup routines --><FILENAME>/etc/hosts</FILENAME> file, require that the master file for the entire network be maintained at a central location by a few people. This approach works well for small networks where there are only a few stations and there is cooperation among the different organizations responsible for them. However, this approach does not work well for large networks where stations cross organizational boundaries.</PARAGRAPH>
<PARAGRAPH>The Domain Name Service eliminates the need for a single, centralized clearinghouse for all names. The authority for this information can be delegated to the organizations on the network that are responsible for it.</PARAGRAPH>
<PARAGRAPH>The Domain Name Service is organized as a hierarchical name space, like the IRIX file system. <INDEXTARGET ID="06.bind4"><!-- POSTPROCESSDATA: 06.bind4|domain space, definition of --><XREF IDREF="74520" TYPE="GRAPHIC">Figure&nbsp;6-1</XREF> shows a small section of this hierarchy. Each subtree in the hierarchy is called a <INDEXTARGET ID="06.bind5"><!-- POSTPROCESSDATA: 06.bind5|domains: definition of --><ITALICS>domain</ITALICS>, and is given a label. At the top of the hierarchy is the root domain, labelled with the null label (&ldquo; &rdquo;). The name of the domain is the concatenation of all the domain labels from the root to the current domain. The labels are listed from right to left and are separated by dots. (For example, the name for the domain labelled fruit in <XREF IDREF="74520" TYPE="GRAPHIC">Figure&nbsp;6-1</XREF> would be fruit.salad.com.) A label must be unique only within its domain. <INDEXTARGET ID="06.bind6"><!-- POSTPROCESSDATA: 06.bind6|BIND: organization of --></PARAGRAPH>
<PARAGRAPH><FIGURE>&space;<GRAPHIC FILE="part.view.domain.name.space.gif" POSITION="INLINE" SCALE="FALSE"><CAPTION LBL="6-1"><PREFIX>Figure 6-1 </PREFIX><XREFTARGET ID="74520">Partial View of Domain Name Space</CAPTION>
</FIGURE>
</PARAGRAPH>
<PARAGRAPH>Immediately below the root domain is a set of top-level domains. These top-level domains are relatively static, and are administered by the Network Information Center. These are the current top-level domains registered with the Network Information Center:&space;<INDEXTARGET ID="06.bind7"><!-- POSTPROCESSDATA: 06.bind7|Network Information Center (NIC) --><INDEXTARGET ID="06.bind8"><!-- POSTPROCESSDATA: 06.bind8|domains: top level --></PARAGRAPH>
<HANGLIST><HANGPAIR><HANGITEM>arpa</HANGITEM>
<HANGBODY><PARAGRAPH>A temporary domain for stations, also used as the top-level domain for address-to-name mapping</PARAGRAPH>
</HANGBODY>
</HANGPAIR>
<HANGPAIR><HANGITEM>com</HANGITEM>
<HANGBODY><PARAGRAPH>Companies and businesses</PARAGRAPH>
</HANGBODY>
</HANGPAIR>
<HANGPAIR><HANGITEM>edu</HANGITEM>
<HANGBODY><PARAGRAPH>Universities and other educational institutions</PARAGRAPH>
</HANGBODY>
</HANGPAIR>
<HANGPAIR><HANGITEM>gov</HANGITEM>
<HANGBODY><PARAGRAPH>Government agencies</PARAGRAPH>
</HANGBODY>
</HANGPAIR>
<HANGPAIR><HANGITEM>mil</HANGITEM>
<HANGBODY><PARAGRAPH>Military organizations</PARAGRAPH>
</HANGBODY>
</HANGPAIR>
<HANGPAIR><HANGITEM>net</HANGITEM>
<HANGBODY><PARAGRAPH>Various network-type organizations and network management-related organizations, such as information centers and operations centers</PARAGRAPH>
</HANGBODY>
</HANGPAIR>
<HANGPAIR><HANGITEM>org</HANGITEM>
<HANGBODY><PARAGRAPH>Technical support groups, professional societies, or similar organizations</PARAGRAPH>
</HANGBODY>
</HANGPAIR>
</HANGLIST>
<PARAGRAPH>There are also many national domains, such as DE for Germany and FR for France.</PARAGRAPH>
<PARAGRAPH>The whole space is partitioned into several non-overlapping areas of authority called <ITALICS>zones</ITALICS>. Information in each zone is handled by the zone's &ldquo;authoritative&rdquo; or &ldquo;master&rdquo; name server(s). Each zone starts at a domain and extends down to the leaf domains, or to domains where other zones start. Zones usually represent administrative boundaries.<INDEXTARGET ID="06.bind9"><!-- POSTPROCESSDATA: 06.bind9|zones, definition of --></PARAGRAPH>
<PARAGRAPH>An example of a domain name for a station at the University of California, Berkeley is monet.berkeley.edu.</PARAGRAPH>
<PARAGRAPH>The top-level domain for educational organizations is edu. Berkeley is a subdomain of edu, and monet is the name of the station.</PARAGRAPH>
</SECTION1>
<SECTION1 LBL="" HELPID = ""><TITLE><XREFTARGET ID="80851">BIND Servers and Clients</TITLE><PARAGRAPH>BIND is based on a server-client relationship. There are several different classes of servers, with varying degrees of authority. This section discusses the interaction between various types of servers, and between servers and clients. This information is summarized in <INDEXTARGET ID="06.bind10"><!-- POSTPROCESSDATA: 06.bind10|BIND: client-server configurations --><XREF IDREF="35466" TYPE="TABLE">Table&nbsp;6-1</XREF>.</PARAGRAPH>
<PARAGRAPH><XREF IDREF="35466" TYPE="TABLE">Table&nbsp;6-1</XREF> summarizes the general characteristics for various BIND server configurations.</PARAGRAPH>
<TABLE COLUMNS="5"><CAPTION LBL="6-1"><PREFIX>Table 6-1 </PREFIX><XREFTARGET ID="35466">BIND Server Configurations</CAPTION>
<TABLEHEADING><CELL LEFT="0" WIDTH="61"><PARAGRAPH>Primary 
Server</PARAGRAPH>
</CELL>
<CELL LEFT="70" WIDTH="61"><PARAGRAPH>Secondary 
Server</PARAGRAPH>
</CELL>
<CELL LEFT="140" WIDTH="61"><PARAGRAPH>Caching-only 
Server</PARAGRAPH>
</CELL>
<CELL LEFT="210" WIDTH="61"><PARAGRAPH>Forwarder 
Server</PARAGRAPH>
</CELL>
<CELL LEFT="280" WIDTH="61"><PARAGRAPH>&lbreak;Slave Server</PARAGRAPH>
</CELL>
</TABLEHEADING>
<TABLEBODY><ROW><CELL LEFT="0" WIDTH="61"><PARAGRAPH>Authoritative
 server for the 
domain</PARAGRAPH>
</CELL>
<CELL LEFT="70" WIDTH="61"><PARAGRAPH>"Delegated" 
authority 
from 
primary 
server</PARAGRAPH>
</CELL>
<CELL LEFT="140" WIDTH="61"><PARAGRAPH>Non- 
authoritative</PARAGRAPH>
</CELL>
<CELL LEFT="210" WIDTH="61"><PARAGRAPH>Non- 
authoritative</PARAGRAPH>
</CELL>
<CELL LEFT="280" WIDTH="61"><PARAGRAPH>Non- 
authoritative</PARAGRAPH>
</CELL>
</ROW>
<ROW><CELL LEFT="0" WIDTH="61"><PARAGRAPH>Loads data 
from local file</PARAGRAPH>
</CELL>
<CELL LEFT="70" WIDTH="61"><PARAGRAPH>Loads data 
from 
primary 
server</PARAGRAPH>
</CELL>
<CELL LEFT="140" WIDTH="61"><PARAGRAPH>Answers 
queries or 
forwards 
queries to 
authoritative 
servers</PARAGRAPH>
</CELL>
<CELL LEFT="210" WIDTH="61"><PARAGRAPH>Answers 
recursive 
requests or 
interacts 
with other 
name servers 
before 
answering 
requests</PARAGRAPH>
</CELL>
<CELL LEFT="280" WIDTH="61"><PARAGRAPH>Accesses data 
from 
specified list 
of servers 
(forwarders)</PARAGRAPH>
</CELL>
</ROW>
</TABLEBODY>
</TABLE>
<PARAGRAPH>All server configurations must run the named server daemon. The <COMMAND>named</COMMAND> daemon is started automatically during station startup if the configuration flag <BOLD>named</BOLD> is &ldquo;on.&rdquo; See the <REFPAGE>chkconfig(1M)</REFPAGE> reference page for more details.<INDEXTARGET ID="06.bind11"><!-- POSTPROCESSDATA: 06.bind11|BIND: server configurations --></PARAGRAPH>
<PARAGRAPH>The client accesses data from the name servers specified in its <FILENAME>resolv.conf</FILENAME> file. It does not run the domain server, <COMMAND>named</COMMAND>.<INDEXTARGET ID="06.bind12"><!-- POSTPROCESSDATA: 06.bind12|<ITALICS>resolv.conf</ITALICS> file --></PARAGRAPH>
<NOTE><PREFIX>Note</PREFIX>Starting with the IRIX 6.5 operating system, the Unified Name Service (UNS) runs the daemon <COMMAND>nsd</COMMAND>, and controls the resolve order of the BIND client with the <FILENAME>/etc/nsswitch.conf</FILENAME> file. See <XREF IDREF="57705" TYPE="TITLE">&ldquo;How UNS Works With BIND&rdquo;</XREF> for a full discussion.</NOTE>
<SECTION2 LBL="" HELPID = ""><TITLE>BIND Master Servers</TITLE><PARAGRAPH>A master server for a domain is the authority for that domain. This server maintains all the data corresponding to its domain. Each domain should have at least two master servers: a primary master, and a secondary master to provide backup service if the primary is unavailable or overloaded. A server can be a master for multiple domains, serving as primary for some domains and secondary for others.<INDEXTARGET ID="06.bind13"><!-- POSTPROCESSDATA: 06.bind13|BIND: master servers --></PARAGRAPH>
<PARAGRAPH>A primary master server is a server that loads its data from a file on disk. This server can also delegate authority to other servers in its domain. A secondary master server is a server that is delegated authority and receives its data for a domain from a primary master server. At boot time, the secondary server requests all the data for the given domain from the primary master server. This server then periodically checks with the primary server to see if it needs to update its data.</PARAGRAPH>
<PARAGRAPH>Root servers are the master servers for the root and top-level Internet domains. They are listed in the root.cache file described in <XREF IDREF="20180" TYPE="TITLE">&ldquo;BIND root.cache File&rdquo;</XREF>.</PARAGRAPH>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE>BIND Slave and Forwarding Servers</TITLE><PARAGRAPH>A slave server always forwards queries it cannot satisfy locally to a fixed list of forwarding servers, instead of interacting with the master name server for the root and other domains. There may be one or more forwarding servers, and they are tried in turn until the list is exhausted.<INDEXTARGET ID="06.bind14"><!-- POSTPROCESSDATA: 06.bind14|BIND: forwarding servers --><INDEXTARGET ID="06.bind15"><!-- POSTPROCESSDATA: 06.bind15|BIND: slave servers --></PARAGRAPH>
<PARAGRAPH>A slave-and-forwarder configuration is useful when you do not want all the servers at a given site to interact with the rest of the Internet servers. The stations might be administratively prohibited from having Internet access. To give the stations the appearance of access to the Internet domain system, the stations could be slave servers to the forwarding server on the gateway station. The gateway server would forward the queries and interact with other name servers on the Internet to resolve each query before returning the answer. A benefit of using the forwarding feature is that the central station develops a more complete cache of information, which all the stations can take advantage of. The use of slave mode and forwarding is discussed further in <XREF IDREF="90074" TYPE="TITLE">&ldquo;Setting Up a BIND Configuration&rdquo;</XREF>.</PARAGRAPH>
<PARAGRAPH>There are two main reasons to use forwarders. First, if your station does not have full network access, it cannot send IP packets to the rest of the network. Therefore, it must rely on a forwarder with access to the network. Second, the forwarder can see all queries as they pass through the server and, therefore, builds up a more complete cache of data than the cache in a typical station name server. In effect, the forwarder becomes a meta-cache from which stations can benefit, thereby reducing the total number of queries from that site to the rest of the network. </PARAGRAPH>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE>BIND Caching-Only Server</TITLE><PARAGRAPH>A caching-only server is not authoritative for any domain. It services queries and asks other servers, who have the authority, for needed information. The results of queries are cached, to reduce traffic to the authoritative server. Query responses include a <INDEXTARGET ID="06.bind16"><!-- POSTPROCESSDATA: 06.bind16|BIND: and caching-only servers --><VARIABLE>time-to-live</VARIABLE> field, which indicates how long they should be cached for.</PARAGRAPH>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE>BIND Clients<INDEXTARGET ID="06.bind17"><!-- POSTPROCESSDATA: 06.bind17|caching-only servers --></TITLE><PARAGRAPH>A BIND client accesses the name servers that run on other stations in the network. The <COMMAND>named</COMMAND> server does not run on the client station.</PARAGRAPH>
</SECTION2>
</SECTION1>
<SECTION1 LBL="" HELPID = ""><TITLE><XREFTARGET ID="36840">BIND Configuration Files</TITLE><PARAGRAPH>This section discusses the various BIND configuration files. Examples of these files are provided in <INDEXTARGET ID="06.bind18"><!-- POSTPROCESSDATA: 06.bind18|database files, BIND --><XREF IDREF="90074" TYPE="TITLE">&ldquo;Setting Up a BIND Configuration&rdquo;</XREF>.<INDEXTARGET ID="06.bind19"><!-- POSTPROCESSDATA: 06.bind19|BIND: database files --></PARAGRAPH>
<PARAGRAPH>In IRIX, the <COMMAND>named</COMMAND> database files are stored in the <FILENAME>/var/named</FILENAME> directory, and <FILENAME>named</FILENAME> is not installed by default. You must select<FILENAME>&space;eoe.sw.named</FILENAME> from the installation media. To confirm whether <FILENAME>eoe.sw.named</FILENAME> has been installed, type</PARAGRAPH>
<EXAMPLE>
<USERINPUT>versions eoe.sw.named </USERINPUT>
</EXAMPLE>
<PARAGRAPH>A README file contains a short summary of the setup procedure and a list of official names for BIND clients and servers. Typically, servers are also clients. BIND clients require the <FILENAME>/etc/resolv.conf</FILENAME> file. </PARAGRAPH>
<PARAGRAPH>The <FILENAME>/var/named/Examples</FILENAME> subdirectory contains sample <COMMAND>named</COMMAND> database files. The files in the Examples directory should be used and changed to reflect your setup. These files use the record format described in <XREF IDREF="81435" TYPE="TITLE">Appendix&nbsp;A, &ldquo;BIND Standard Resource Record Format.&rdquo;</XREF> The database files needed to set up your BIND environment are these:</PARAGRAPH>
<BULLETLIST><BULLET><PARAGRAPH><FILENAME>named.boot</FILENAME>&space;</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><FILENAME>root.cache</FILENAME>&space;</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><FILENAME>named.hosts</FILENAME>&space;</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><FILENAME>named.rev</FILENAME>&space;</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><FILENAME>localhost.rev</FILENAME>&space;</PARAGRAPH>
</BULLET>
</BULLETLIST>
<NOTE><PREFIX>Note</PREFIX>If your network has more than one domain, incorporate the domain name as part of the <FILENAME>named.hosts</FILENAME>, <FILENAME>named.rev</FILENAME>, and<FILENAME>&space;localhosts.rev</FILENAME> filenames when you create your versions of these files.</NOTE>
<PARAGRAPH>The number and configuration of the database files depend on the server type.</PARAGRAPH>
<PARAGRAPH><XREF IDREF="83165" TYPE="TABLE">Table&nbsp;6-2</XREF> summarizes which database files are required for each type of server.</PARAGRAPH>
<TABLE COLUMNS="6"><CAPTION LBL="6-2"><PREFIX>Table 6-2 </PREFIX><XREFTARGET ID="83165">named Database Files</CAPTION>
<TABLEHEADING><CELL LEFT="0" WIDTH="61"><PARAGRAPH>Filename</PARAGRAPH>
</CELL>
<CELL LEFT="70" WIDTH="54"><PARAGRAPH>Primary 
Server</PARAGRAPH>
</CELL>
<CELL LEFT="130" WIDTH="54"><PARAGRAPH>Secondary 
Server</PARAGRAPH>
</CELL>
<CELL LEFT="190" WIDTH="61"><PARAGRAPH>Caching-Only 
Server</PARAGRAPH>
</CELL>
<CELL LEFT="260" WIDTH="54"><PARAGRAPH>Forwarder 
Server</PARAGRAPH>
</CELL>
<CELL LEFT="320" WIDTH="54"><PARAGRAPH>Slave Server</PARAGRAPH>
</CELL>
</TABLEHEADING>
<TABLEBODY><ROW><CELL LEFT="0" WIDTH="61"><PARAGRAPH>named.boot</PARAGRAPH>
</CELL>
<CELL LEFT="70" WIDTH="54"><PARAGRAPH>required</PARAGRAPH>
</CELL>
<CELL LEFT="130" WIDTH="54"><PARAGRAPH>required</PARAGRAPH>
</CELL>
<CELL LEFT="190" WIDTH="61"><PARAGRAPH>required</PARAGRAPH>
</CELL>
<CELL LEFT="260" WIDTH="54"><PARAGRAPH>required</PARAGRAPH>
</CELL>
<CELL LEFT="320" WIDTH="54"><PARAGRAPH>required</PARAGRAPH>
</CELL>
</ROW>
<ROW><CELL LEFT="0" WIDTH="61"><PARAGRAPH>localhosts.rev</PARAGRAPH>
</CELL>
<CELL LEFT="70" WIDTH="54"><PARAGRAPH>required</PARAGRAPH>
</CELL>
<CELL LEFT="130" WIDTH="54"><PARAGRAPH>required</PARAGRAPH>
</CELL>
<CELL LEFT="190" WIDTH="61"><PARAGRAPH>required</PARAGRAPH>
</CELL>
<CELL LEFT="260" WIDTH="54"><PARAGRAPH>required</PARAGRAPH>
</CELL>
<CELL LEFT="320" WIDTH="54"><PARAGRAPH>required</PARAGRAPH>
</CELL>
</ROW>
<ROW><CELL LEFT="0" WIDTH="61"><PARAGRAPH>named.hosts</PARAGRAPH>
</CELL>
<CELL LEFT="70" WIDTH="54"><PARAGRAPH>required</PARAGRAPH>
</CELL>
<CELL LEFT="130" WIDTH="54"><PARAGRAPH>N/A</PARAGRAPH>
</CELL>
<CELL LEFT="190" WIDTH="61"><PARAGRAPH>N/A</PARAGRAPH>
</CELL>
<CELL LEFT="260" WIDTH="54"><PARAGRAPH>N/A</PARAGRAPH>
</CELL>
<CELL LEFT="320" WIDTH="54"><PARAGRAPH>N/A</PARAGRAPH>
</CELL>
</ROW>
<ROW><CELL LEFT="0" WIDTH="61"><PARAGRAPH>named.rev</PARAGRAPH>
</CELL>
<CELL LEFT="70" WIDTH="54"><PARAGRAPH>required</PARAGRAPH>
</CELL>
<CELL LEFT="130" WIDTH="54"><PARAGRAPH>N/A</PARAGRAPH>
</CELL>
<CELL LEFT="190" WIDTH="61"><PARAGRAPH>N/A</PARAGRAPH>
</CELL>
<CELL LEFT="260" WIDTH="54"><PARAGRAPH>N/A</PARAGRAPH>
</CELL>
<CELL LEFT="320" WIDTH="54"><PARAGRAPH>N/A</PARAGRAPH>
</CELL>
</ROW>
<ROW><CELL LEFT="0" WIDTH="61"><PARAGRAPH>root.cache</PARAGRAPH>
</CELL>
<CELL LEFT="70" WIDTH="54"><PARAGRAPH>required</PARAGRAPH>
</CELL>
<CELL LEFT="130" WIDTH="54"><PARAGRAPH>required</PARAGRAPH>
</CELL>
<CELL LEFT="190" WIDTH="61"><PARAGRAPH>required</PARAGRAPH>
</CELL>
<CELL LEFT="260" WIDTH="54"><PARAGRAPH>required</PARAGRAPH>
</CELL>
<CELL LEFT="320" WIDTH="54"><PARAGRAPH>required</PARAGRAPH>
</CELL>
</ROW>
</TABLEBODY>
</TABLE>
<SECTION2 LBL="" HELPID = ""><TITLE>BIND Boot File</TITLE><PARAGRAPH>The boot file is first read when named starts up. It tells the server what type of server it is, which zones it has authority over, and where to get its initial data. The default name of this file is <INDEXTARGET ID="06.bind20"><!-- POSTPROCESSDATA: 06.bind20|boot file, BIND --><FILENAME>/etc/named.boot</FILENAME>. The template for this file is called <FILENAME>/var/named/Examples/named.boot.master</FILENAME>&space;(for primary server) and&space;<FILENAME>named.boot.slave</FILENAME>&space;(for secondary server).<INDEXTARGET ID="06.bind21"><!-- POSTPROCESSDATA: 06.bind21|BIND: boot file --></PARAGRAPH>
<PARAGRAPH>To use a different file, create or modify the <INDEXTARGET ID="06.bind22"><!-- POSTPROCESSDATA: 06.bind22|<ITALICS>/usr/etc/named.d/named.boot</ITALICS> file --><FILENAME>/etc/config/named.options</FILENAME> file with this entry:</PARAGRAPH>
<EXAMPLE>
-b <VARIABLE>other-bootfile-name</VARIABLE>&space;
</EXAMPLE>
<PARAGRAPH>The recognized boot file structures are described in the subsections that follow.<INDEXTARGET ID="06.bind23"><!-- POSTPROCESSDATA: 06.bind23|<ITALICS>named.boot</ITALICS> file --></PARAGRAPH>
<SECTION3 LBL="" HELPID = ""><TITLE>Specifying a Directory in the BIND Boot File</TITLE><PARAGRAPH>The directory line specifies the directory in which the name server should run, allowing the other filenames in the boot file to use relative pathnames.</PARAGRAPH>
<EXAMPLE>
directory /var/named
</EXAMPLE>
<PARAGRAPH>This entry is required. It makes sure named is in the proper directory when you try to include files by relative pathnames with $INCLUDE. It also allows <COMMAND>named</COMMAND> to run in a location that is reasonable for dumping core, if necessary.</PARAGRAPH>
</SECTION3>
<SECTION3 LBL="" HELPID = ""><TITLE>Specifying a Primary Master in the BIND Boot File</TITLE><PARAGRAPH>The line in the boot file that designates a primary server for a zone looks like this:<INDEXTARGET ID="06.bind24"><!-- POSTPROCESSDATA: 06.bind24|BIND: primary master server --><INDEXTARGET ID="06.bind25"><!-- POSTPROCESSDATA: 06.bind25|primary master server, BIND --></PARAGRAPH>
<EXAMPLE>
primary   Berkeley.EDU   named.hosts
</EXAMPLE>
<PARAGRAPH>The first field specifies that the server is a primary one for the zone stated in the second field. The third field is the name of the file from which the data is read.</PARAGRAPH>
</SECTION3>
<SECTION3 LBL="" HELPID = ""><TITLE>Specifying a Secondary Master in the BIND Boot File</TITLE><PARAGRAPH>The line for a secondary server is similar to that for the primary, except that it lists addresses of other servers (usually primary servers) from which the zone data is obtained. For example:<INDEXTARGET ID="06.bind26"><!-- POSTPROCESSDATA: 06.bind26|secondary master server, BIND --><INDEXTARGET ID="06.bind27"><!-- POSTPROCESSDATA: 06.bind27|BIND: secondary master server --></PARAGRAPH>
<EXAMPLE>
secondary  Berkeley.EDU 128.32.0.10 128.32.0.4 ucbhosts.bak
</EXAMPLE>
<PARAGRAPH>The first field specifies that the server is a secondary master server for the zone stated in the second field. The two network addresses specify the name servers that are primary for the zone. The secondary server gets its data across the network from the listed servers. It tries each server in the order listed until it successfully receives the data from a listed server.</PARAGRAPH>
<PARAGRAPH>If a file name is present after the list of primary servers, data for the zone is saved in that file. When the server first starts, it loads the data from the backup file if possible, and consults a primary server to check that the zone information is still up to date.</PARAGRAPH>
</SECTION3>
<SECTION3 LBL="" HELPID = ""><TITLE>Specifying a Caching-Only Server in the BIND Boot File</TITLE><PARAGRAPH>All servers should have a line like this one in the boot file to prime the name server's cache:&space;<INDEXTARGET ID="06.bind28"><!-- POSTPROCESSDATA: 06.bind28|BIND: caching-only servers --><INDEXTARGET ID="06.bind29"><!-- POSTPROCESSDATA: 06.bind29|caching-only servers --></PARAGRAPH>
<EXAMPLE>
cache   .   root.cache
</EXAMPLE>
<PARAGRAPH>All listed cache files are read when <COMMAND>named</COMMAND> starts up. Valid values are reinstated in the cache, and the root name server information in the cache files is always used to handle initial queries.</PARAGRAPH>
<PARAGRAPH>The name server needs to know the servers that are the authoritative name servers for the root domain of the network. The root.cache file primes the server's cache with the addresses of these higher authorities. This file uses the Standard Resource Record format (or Master File format) described in detail in Appendix F.</PARAGRAPH>
<PARAGRAPH>You do not need a special line to designate that a server is a caching server. What denotes a caching-only server is the absence of authority lines, such as <VARIABLE>secondary</VARIABLE> or <VARIABLE>primary</VARIABLE>, in the boot file.</PARAGRAPH>
</SECTION3>
<SECTION3 LBL="" HELPID = ""><TITLE>Specifying Forwarders in the BIND Boot File</TITLE><PARAGRAPH>Any server can make use of forwarders. For example, a server capable of processing recursive queries may try resolving queries on behalf of other stations. The <INDEXTARGET ID="06.bind30"><!-- POSTPROCESSDATA: 06.bind30|BIND: and forwarders --><COMMAND>forwarders</COMMAND>&space;command specifies forwarders by Internet address as follows:<INDEXTARGET ID="06.bind31"><!-- POSTPROCESSDATA: 06.bind31|forwarders and BIND --></PARAGRAPH>
<EXAMPLE>
forwarders    128.32.0.10     128.32.0.4 
</EXAMPLE>
</SECTION3>
<SECTION3 LBL="" HELPID = ""><TITLE>Specifying Slave Mode in the BIND Boot File</TITLE><PARAGRAPH>You can use slave mode if, because of limited network access, use of forwarders is the only way to resolve queries. You can also use slave mode if you wish to prevent the name server from using forwarders other than those listed. Slave mode is activated by the following command in the boot file:<INDEXTARGET ID="06.bind32"><!-- POSTPROCESSDATA: 06.bind32|BIND: slave mode --><INDEXTARGET ID="06.bind33"><!-- POSTPROCESSDATA: 06.bind33|slave mode, BIND --></PARAGRAPH>
<EXAMPLE>
slave
</EXAMPLE>
<PARAGRAPH>If you use <COMMAND>slave</COMMAND>, you must specify forwarders. In slave mode, the server forwards each query to each of the forwarders until an answer is found or the list of forwarders is exhausted. </PARAGRAPH>
</SECTION3>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE>BIND named.hosts File</TITLE><PARAGRAPH>This file contains the host-address database for your domain. It is required for primary servers.<INDEXTARGET ID="06.bind34"><!-- POSTPROCESSDATA: 06.bind34|<ITALICS>named.hosts</ITALICS> file --></PARAGRAPH>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE>BIND named.rev File</TITLE><PARAGRAPH>This file specifies the IN-ADDR.ARPA domain, which is used to translate IP addresses into names. Because Internet addresses do not fall within domain boundaries, this special domain was formed to allow inverse mapping. The IN-ADDR.ARPA domain for a station has four labels preceding it. These labels correspond to the four octets of an Internet address in reverse order. All four octets must be specified, even if an octet is zero. <INDEXTARGET ID="06.bind35"><!-- POSTPROCESSDATA: 06.bind35|<ITALICS>named.rev</ITALICS> file --><INDEXTARGET ID="06.bind36"><!-- POSTPROCESSDATA: 06.bind36|BIND: <ITALICS>named.rev</ITALICS> file --></PARAGRAPH>
<PARAGRAPH>For example, the Internet address 128.32.130.12 is located in the domain 12.130.32.128.IN&ndash;ADDR.ARPA. This reversal of the address allows for the natural grouping of stations in a network. </PARAGRAPH>
<PARAGRAPH>An IN-ADDR.ARPA domain can also represent a network. For example, if the ARPANET is network 10, there is a domain called 10.IN-ADDR.ARPA. </PARAGRAPH>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE>BIND localhost.rev File</TITLE><PARAGRAPH>This file specifies the IN-ADDR.ARPA domain of the local loopback interface's network address, 127.0.0.1. The address is better known as the localhost address. Many important network programs depend on the information in this domain. This file is required on all servers.&space;<INDEXTARGET ID="06.bind37"><!-- POSTPROCESSDATA: 06.bind37|<ITALICS>localhost.rev</ITALICS> file --><INDEXTARGET ID="06.bind38"><!-- POSTPROCESSDATA: 06.bind38|BIND: <ITALICS>localhost.rev</ITALICS> file --></PARAGRAPH>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE><XREFTARGET ID="20180">BIND root.cache File</TITLE><PARAGRAPH>This file, by default, contains the initial cache data for root domain servers. It is required, in one form or another, on all servers.&space;<INDEXTARGET ID="06.bind39"><!-- POSTPROCESSDATA: 06.bind39|<ITALICS>root.cache</ITALICS> file --><INDEXTARGET ID="06.bind40"><!-- POSTPROCESSDATA: 06.bind40|BIND: <ITALICS>root.cache</ITALICS> file --></PARAGRAPH>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE>BIND /etc/config/named.options File</TITLE><PARAGRAPH>This file is optional. It is used during station startup and by the <COMMAND>named.restart</COMMAND> script. Specify command-line arguments for <COMMAND>named</COMMAND> in this file. See the <REFPAGE>named(1M)</REFPAGE> reference page for details on the options.&space;<INDEXTARGET ID="06.bind41"><!-- POSTPROCESSDATA: 06.bind41|<ITALICS>/etc/config/named.options</ITALICS> file --><INDEXTARGET ID="06.bind42"><!-- POSTPROCESSDATA: 06.bind42|BIND: <ITALICS>/etc/config/named.options</ITALICS> file --></PARAGRAPH>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE>hoResolution With /etc/resolv.conf</TITLE><PARAGRAPH>The only configuration file required by BIND clients is the <FILENAME>/etc/resolv.conf</FILENAME> file.This file is read the first time <INDEXTARGET ID="06.bind43"><!-- POSTPROCESSDATA: 06.bind43|<ITALICS>/usr/etc/resolv.conf</ITALICS> --><COMMAND>gethostbyname</COMMAND> or <COMMAND>gethostbyaddr</COMMAND> is called. The <FILENAME>resolv.conf</FILENAME> file has several functions:</PARAGRAPH>
<BULLETLIST><BULLET><PARAGRAPH>It defines the default domain or the default domain search list.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH>It specifies the ordering of host resolution services used by <COMMAND>gethostbyname</COMMAND> and <COMMAND>gethostbyaddr</COMMAND>.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH>It lists Internet addresses of name servers.</PARAGRAPH>
</BULLET>
</BULLETLIST>
<PARAGRAPH>The first two items apply to both client and server stations. The last item is required only by client stations. The file's format is described in detail in the <REFPAGE>resolver(4)</REFPAGE> reference page.</PARAGRAPH>
<PARAGRAPH>To set up a station as a client of remote servers, add <BOLD>nameserver</BOLD>&space;entries for the Internet addresses of the name servers to <FILENAME>/etc/resolv.conf</FILENAME>. For example:</PARAGRAPH>
<EXAMPLE>
nameserver 128.32.130.12 
</EXAMPLE>
<PARAGRAPH>You can specify up to three <VARIABLE>nameserver</VARIABLE>&space;entries. It is usually not necessary to create this file if you have a local server running. An entry for the local server should use an Internet address of 0 (meaning &ldquo;this station&rdquo;).</PARAGRAPH>
<PARAGRAPH>On client and server stations, the name in <FILENAME>/etc/sys_id</FILENAME> should be set to the fully qualified domain name. For example:</PARAGRAPH>
<EXAMPLE>
monet.Berkeley.EDU 
</EXAMPLE>
<PARAGRAPH>However, if you choose not to use fully qualified domain names, add a line with the keyword <VARIABLE>domain</VARIABLE> and the station's domain to the <FILENAME>resolv.conf</FILENAME> file. For example:</PARAGRAPH>
<EXAMPLE>
domain berkeley.edu
</EXAMPLE>
<PARAGRAPH>The <COMMAND>gethostbyname</COMMAND> and <COMMAND>gethostbyaddr </COMMAND>library routines normally access station information in this order:</PARAGRAPH>
<ORDEREDLIST><LIST><PARAGRAPH>NIS</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>BIND</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Local <FILENAME>/etc/hosts</FILENAME> file</PARAGRAPH>
</LIST>
</ORDEREDLIST>
<PARAGRAPH>Beginning with IRIX 6.5, this order is determined by the <VARIABLE>hosts</VARIABLE> keyword in <FILENAME>/etc/nsswitch.conf</FILENAME>.&space;See <XREF IDREF="57705" TYPE="TITLE">&ldquo;How UNS Works With BIND&rdquo;</XREF> for details.</PARAGRAPH>
<PARAGRAPH>To enable the system manager to copy files from another station when it is in single-user mode, the<FILENAME>&space;/etc/hosts</FILENAME> file should contain entries for important stations in addition to the entries for the local station's network interface(s) and localhost. See the <REFPAGE>hosts.equiv(4)</REFPAGE> reference page for more information about the format. </PARAGRAPH>
</SECTION2>
</SECTION1>
<SECTION1 LBL="" HELPID = ""><TITLE><XREFTARGET ID="90074">Setting Up a BIND Configuration</TITLE><PARAGRAPH>This section provides an example of how a BIND environment might be organized and describes the procedure for configuring the various servers and client stations. The example assumes you are connected to the Internet. When setting up your own environment, replace the variables in the example with your own BIND environment variables. The example is based on these variables:<INDEXTARGET ID="06.bind44"><!-- POSTPROCESSDATA: 06.bind44|BIND: setup example --></PARAGRAPH>
<BULLETLIST><BULLET><PARAGRAPH>The domain is fruit.com, network address 128.70.10, and the network is attached to the Internet.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH>Primary server is apples.fruit.com, internet address 128.70.10.1, and specific configuration steps are detailed in <XREF IDREF="16408" TYPE="TITLE">&ldquo;Configuring the Primary BIND Server&rdquo;</XREF>.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH>Secondary server is oranges.fruit.com, internet address 128.70.10.2, and specific configuration steps are detailed in <XREF IDREF="30008" TYPE="TITLE">&ldquo;Configuring the Secondary BIND Server&rdquo;</XREF>.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH>Forwarding server is banana.fruit.com, internet address 128.70.10.3, and specific configuration steps are detailed in <XREF IDREF="30542" TYPE="TITLE">&ldquo;Configuring the Forwarding BIND Server&rdquo;</XREF>.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH>Caching-only server is guava.fruit.com, internet address 128.70.10.4, and specific configuration steps are detailed in <XREF IDREF="21721" TYPE="TITLE">&ldquo;Configuring a Caching-Only BIND Server&rdquo;</XREF>.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH>Slave servers are pineapple1.fruit.com and pineapple2.fruit.com, Internet addresses 128.70.10.8 and 128.70.10.9, and specific configuration steps are detailed in<XREF IDREF="24265" TYPE="TITLE">&ldquo;Configuring a Slave BIND Server&rdquo;</XREF>.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH>Clients are plum1.fruit.com, plum2.fruit.com, and plum3.fruit.com, Internet addresses 128.70.10.5, 128.70.10.6, and 128.70.10.7, and specific configuration steps are detailed in<XREF IDREF="42673" TYPE="TITLE">&ldquo;Configuring the BIND Client&rdquo;</XREF>.</PARAGRAPH>
</BULLET>
</BULLETLIST>
<NOTE><PREFIX>Note</PREFIX>Current versions of BIND do not support _ (underscore) in any component of the system or domain name. </NOTE>
<PARAGRAPH><XREF IDREF="18296" TYPE="GRAPHIC">Figure&nbsp;6-2</XREF> illustrates the example BIND environment described above. Station names in the figure are shortened for illustrative purposes only.</PARAGRAPH>
<PARAGRAPH><FIGURE><GRAPHIC FILE="BIND.configuration.gif" POSITION="INLINE" SCALE="FALSE"><CAPTION LBL="6-2"><PREFIX>Figure 6-2 </PREFIX><XREFTARGET ID="18296">Example BIND Configuration</CAPTION>
</FIGURE>
</PARAGRAPH>
<SECTION2 LBL="" HELPID = ""><TITLE><XREFTARGET ID="16408">Configuring the Primary BIND Server</TITLE><PARAGRAPH>Use this procedure to configure a primary server:&space;<INDEXTARGET ID="06.bind45"><!-- POSTPROCESSDATA: 06.bind45|primary server, BIND --><INDEXTARGET ID="06.bind46"><!-- POSTPROCESSDATA: 06.bind46|BIND: primary server setup --></PARAGRAPH>
<ORDEREDLIST><LIST><PARAGRAPH>Log in as <ITALICS>root</ITALICS>.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Move to the named example directory:</PARAGRAPH>
<EXAMPLE>
<USERINPUT>cd /var/named/Examples</USERINPUT>&space;
</EXAMPLE>
</LIST>
<LIST><PARAGRAPH>Copy the template files to the /var/named directory:</PARAGRAPH>
<CODE>
<USERINPUT>cp named.boot.master root.cache named.hosts \</USERINPUT>&space;
<USERINPUT>named.rev localhost.rev /var/named</USERINPUT>&space;
</CODE>
</LIST>
<LIST><PARAGRAPH>Move named.boot.master to the default filename: </PARAGRAPH>
<CODE>
<USERINPUT>cd ..</USERINPUT>&space;
<USERINPUT>mv named.boot.master named.boot</USERINPUT>&space;
</CODE>
</LIST>
<LIST><PARAGRAPH>&space;Modify named.boot with your editor of choice to resemble the following:</PARAGRAPH>
<CODE>
;
; Boot file for apple.fruit.com, primary for fruit.com 
;
directory /var/named
;type    domain     source host/file     backup file
cache    .          root.cache
primary  fruit.com  fruit.named.hosts
</CODE>
</LIST>
<LIST><PARAGRAPH>Modify the <ITALICS>named.hosts</ITALICS> file, here called <ITALICS>fruit.named.hosts</ITALICS>, to resemble the following:</PARAGRAPH>
<CODE>
; Authoritative data for fruit.com 
;
@   IN  SOA  apples.fruit.com. named-mgr.apples.fruit.com.
&space;           (1994021501 ; Serial
&space;            10800      ; Refresh 3 hours
&space;            3600       ; Retry 1 hour
&space;            3600000    ; Expire  1000 hours
&space;            86400 )    ; Minimum 24 hours
; authoritative name servers for fruit.com
&space;         IN    NS     apples.fruit.com.
&space;         IN    NS     oranges.fruit.com.
; address records for all hosts on the net
&space;         IN     A     128.70.10.1
apples    IN     A     128.70.10.1
oranges   IN     A     128.70.10.2
banana    IN     A     128.70.10.3
guava     IN     A     128.70.10.4
plum1     IN     A     128.70.10.5
plum2     IN     A     128.70.10.6
plum3     IN     A     128.70.10.7
pineapple1 IN     A     128.70.10.8
pineapple2 IN     A     128.70.10.9
localhost IN     A     127.0.0.1
; canonical or alias name for localhost
loghost   IN        CNAME localhost 
</CODE>
</LIST>
<LIST><PARAGRAPH>Modify the localhost.rev file to resemble the following:</PARAGRAPH>
<CODE>
;localhost.rev  -- PTR record for 127.1
;
@  IN  SOA  apples.fruit.com. named-mgr.apples.fruit.com.
&space;                           (1994021501 ;Serial
&space;                            10800      ;Refresh 3 hours
&space;                            3600       ;Retry   1 hour
&space;                            3600000    ;Expire 1000 hours
&space;                            86400 )    ;Minimum 24 hours
; authoritative name servers for fruit.com
&space;  IN      NS      apples.fruit.com.
&space;  IN      NS      oranges.fruit.com.
0  IN      PTR     loopback.fruit.com.
1  IN      PTR     localhost.
</CODE>
</LIST>
<LIST><PARAGRAPH>Modify the named.rev file (fruitnamed.rev) to resemble the following:</PARAGRAPH>
<CODE>
;
;       @(#)named.rev   1.1     (Berkeley)      86/02/05
;
@  IN  SOA  apples.fruit.com. named-mgr.apples.fruit.com.
&space;                            (1994021501 ; Serial
&space;                             10800 ; Refresh 3 hours
&space;                             3600  ; Retry   1 hour
&space;                             3600000 ; Expire  1000 hours
&space;                             86400 ); Minimum 24 hours
;authoritative name servers for fruit.com
&space;              IN      NS     apples.fruit.com.
&space;              IN      NS     oranges.fruit.com.
;named.rev addresses, by default, are the last two numbers
;of the internet addresses in reverse order, if Class B
;address.  If Class C address, then it's the last number.
1              IN    PTR      apples.fruit.com.
2              IN    PTR      oranges.fruit.com.
3              IN    PTR      banana.fruit.com.
4              IN    PTR      guava.fruit.com.
5              IN    PTR      plum1.fruit.com.
6              IN    PTR      plum2.fruit.com.
7             IN    PTR    plum3.fruit.com.
8             IN    PTR    pineapple1.fruit.com.
9             IN    PTR    pineapple2.fruit.com.
</CODE>
</LIST>
<LIST><PARAGRAPH>Use the default <FILENAME>root.cache</FILENAME> file if the primary server is attached to the Internet. If practical, you should obtain the most up-to-date list from rs.internic.net using anonymous FTP. The list is kept in the file <FILENAME>domain/named.root</FILENAME>.</PARAGRAPH>
<CODE>
;       This file holds the information on root name servers needed to
;       initialize cache of Internet domain name servers
;       (e.g. reference this file in the &ldquo;cache  .  &lt;file>&rdquo;
;       configuration file of BIND domain name servers).
;
;       This file is made available by InterNIC registration services
;       under anonymous FTP as
;           file                /domain/named.root
;           on server           FTP.RS.INTERNIC.NET
;       -OR- under Gopher at    RS.INTERNIC.NET
;           under menu          InterNIC Registration Services (NSI)
;              submenu          InterNIC Registration Archives
;           file                named.root
;
;       last update:    Sep 1, 1995
;       related version of root zone:   1995090100
;
;
; formerly NS.INTERNIC.NET
;
.                        3600000  IN  NS    A.ROOT-SERVERS.NET.
A.ROOT-SERVERS.NET.      3600000      A     198.41.0.4
;
; formerly NS1.ISI.EDU
;
.                        3600000      NS    B.ROOT-SERVERS.NET.
B.ROOT-SERVERS.NET.      3600000      A     128.9.0.107
;
; formerly C.PSI.NET
;
.                        3600000      NS    C.ROOT-SERVERS.NET.
C.ROOT-SERVERS.NET.      3600000      A     192.33.4.12
;
; formerly TERP.UMD.EDU
;
.                        3600000      NS    D.ROOT-SERVERS.NET.
D.ROOT-SERVERS.NET.      3600000      A     128.8.10.90
;
; formerly NS.NASA.GOV
;
.                        3600000      NS    E.ROOT-SERVERS.NET.
E.ROOT-SERVERS.NET.      3600000      A     192.203.230.10
;
; formerly NS.ISC.ORG
;
.                        3600000      NS    F.ROOT-SERVERS.NET.
F.ROOT-SERVERS.NET.      3600000      A     39.13.229.241
;
; formerly NS.NIC.DDN.MIL
;
.                        3600000      NS    G.ROOT-SERVERS.NET.
G.ROOT-SERVERS.NET.      3600000      A     192.112.36.4
;
; formerly AOS.ARL.ARMY.MIL
;
.                        3600000      NS    H.ROOT-SERVERS.NET.
H.ROOT-SERVERS.NET.      3600000      A     128.63.2.53
;
; formerly NIC.NORDU.NET
; 
.                        3600000      NS    I.ROOT-SERVERS.NET. 
I.ROOT-SERVERS.NET.      3600000      A     192.36.148.17 
; End of File 

</CODE>
</LIST>
<LIST><PARAGRAPH>Enable <COMMAND>named</COMMAND> and reboot the station with the following commands:</PARAGRAPH>
<CODE>
<USERINPUT>chkconfig named on</USERINPUT>&space;
<USERINPUT>reboot</USERINPUT>&space;
</CODE>
</LIST>
</ORDEREDLIST>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE><XREFTARGET ID="30008">Configuring the Secondary BIND Server</TITLE><PARAGRAPH>Use this procedure to configure a secondary server:&space;<INDEXTARGET ID="06.bind47"><!-- POSTPROCESSDATA: 06.bind47|secondary server, BIND --><INDEXTARGET ID="06.bind48"><!-- POSTPROCESSDATA: 06.bind48|BIND: secondary server setup --></PARAGRAPH>
<ORDEREDLIST><LIST><PARAGRAPH>Log in as <ITALICS>root</ITALICS>.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Move to the <FILENAME>named</FILENAME> example directory:</PARAGRAPH>
<PARAGRAPH><USERINPUT>cd /var/named/Examples</USERINPUT>&space;</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Copy the template files to the <FILENAME>/var/named</FILENAME> directory:</PARAGRAPH>
<PARAGRAPH><USERINPUT>cp named.boot.slave root.cache localhost.rev /var/named</USERINPUT>&space;</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Move named.boot.slave to the default filename:</PARAGRAPH>
<PARAGRAPH><USERINPUT>cd ..</USERINPUT>&space;</PARAGRAPH>
<PARAGRAPH><USERINPUT>mv named.boot.slave named.boot</USERINPUT>&space;</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Modify named.boot to look like the following:</PARAGRAPH>
<PARAGRAPH><USERINPUT>more named.boot</USERINPUT>&space;</PARAGRAPH>
<CODE>
<SCREENDISPLAY>;</SCREENDISPLAY>&space;
<SCREENDISPLAY>; Boot file for orange.fruit.com, secondary for fruit.com</SCREENDISPLAY>&space;
<SCREENDISPLAY>;</SCREENDISPLAY>&space;
<SCREENDISPLAY>directory  /var/named</SCREENDISPLAY>&space;
<SCREENDISPLAY>; type     domain     source host/file  backup file</SCREENDISPLAY>&space;
<SCREENDISPLAY>cache      .          root.cache</SCREENDISPLAY>&space;
<SCREENDISPLAY>secondary  fruit.com  128.70.10.1       fruithosts.bak</SCREENDISPLAY>&space;
</CODE>
</LIST>
<LIST><PARAGRAPH>Use the same <FILENAME>localhost.rev</FILENAME> file you installed on your primary server.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Use the same <FILENAME>root.cache</FILENAME>&space;file you installed on your primary server.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Enable <COMMAND>named</COMMAND> and reboot the station with the following commands:</PARAGRAPH>
<EXAMPLE>
<USERINPUT>chkconfig named on</USERINPUT>&space;
<USERINPUT>reboot</USERINPUT>&space;
</EXAMPLE>
</LIST>
</ORDEREDLIST>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE><XREFTARGET ID="21721">Configuring a Caching-Only BIND Server</TITLE><PARAGRAPH>Use this procedure to set up a caching-only server:&space;<INDEXTARGET ID="06.bind49"><!-- POSTPROCESSDATA: 06.bind49|caching-only server, BIND --><INDEXTARGET ID="06.bind50"><!-- POSTPROCESSDATA: 06.bind50|BIND: caching-only server setup --></PARAGRAPH>
<ORDEREDLIST><LIST><PARAGRAPH>Log in as <ITALICS>root</ITALICS>.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Move to the named example directory:</PARAGRAPH>
<PARAGRAPH><USERINPUT>cd /var/named/Examples</USERINPUT>&space;</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Copy the template files to the /var/named directory:</PARAGRAPH>
<PARAGRAPH><USERINPUT>cp named.boot.master root.cache /var/named</USERINPUT>&space;</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>&space;Move named.boot.master to the default filename: </PARAGRAPH>
<PARAGRAPH><USERINPUT>cd ..</USERINPUT>&space;</PARAGRAPH>
<PARAGRAPH><USERINPUT>mv named.boot.master named.boot</USERINPUT>&space;</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Modify&space;named.boot to look like the following:</PARAGRAPH>
<PARAGRAPH><USERINPUT>more named.boot</USERINPUT>&space;</PARAGRAPH>
<CODE>
<SCREENDISPLAY>;</SCREENDISPLAY>&space;
<SCREENDISPLAY>;Boot file for guava.fruit.com,caching-only server for</SCREENDISPLAY>&space;
<SCREENDISPLAY>;fruit.com</SCREENDISPLAY>&space;
<SCREENDISPLAY>;Note that there should be one primary entry for each SOA</SCREENDISPLAY>&space;
<SCREENDISPLAY>;record.</SCREENDISPLAY>&space;
<SCREENDISPLAY>;</SCREENDISPLAY>&space;
<SCREENDISPLAY>;</SCREENDISPLAY>&space;
<SCREENDISPLAY>directory          /var/named</SCREENDISPLAY>&space;
<SCREENDISPLAY>;type    domain  source host/file  backup file</SCREENDISPLAY>&space;
<SCREENDISPLAY>cache    .       root.cache</SCREENDISPLAY>&space;
</CODE>
</LIST>
<LIST><PARAGRAPH>Use the same <FILENAME>localhost.rev</FILENAME> file you installed on your primary server.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Use the same <FILENAME>root.cache</FILENAME>&space;file you installed on your primary server.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Enable <COMMAND>named</COMMAND> and reboot the station with the following commands:</PARAGRAPH>
<EXAMPLE>
<USERINPUT>chkconfig named on</USERINPUT>&space;
<USERINPUT>reboot</USERINPUT>&space;
</EXAMPLE>
</LIST>
</ORDEREDLIST>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE><XREFTARGET ID="30542">Configuring the Forwarding BIND Server</TITLE><PARAGRAPH>Use this procedure to set up a forwarding server:&space;<INDEXTARGET ID="06.bind51"><!-- POSTPROCESSDATA: 06.bind51|forwarding server, BIND --><INDEXTARGET ID="06.bind52"><!-- POSTPROCESSDATA: 06.bind52|BIND: forwarding server setup --></PARAGRAPH>
<ORDEREDLIST><LIST><PARAGRAPH>Log in as <ITALICS>root</ITALICS>.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Move to the <FILENAME>named</FILENAME> example directory:</PARAGRAPH>
<PARAGRAPH><USERINPUT>cd /var/named/Examples</USERINPUT>&space;</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Copy the template files to the <FILENAME>/var/named</FILENAME> directory:</PARAGRAPH>
<PARAGRAPH><USERINPUT>cp named.boot.master root.cache localhost.rev /var/named</USERINPUT>&space;</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Move named.boot.master to the default filename:</PARAGRAPH>
<PARAGRAPH><USERINPUT>cd ..</USERINPUT>&space;</PARAGRAPH>
<PARAGRAPH><USERINPUT>mv named.boot.master named.boot</USERINPUT>&space;</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Modify named.boot to look like the following:</PARAGRAPH>
<PARAGRAPH><USERINPUT>more named.boot</USERINPUT>&space;</PARAGRAPH>
<CODE>
<SCREENDISPLAY>;</SCREENDISPLAY>&space;
<SCREENDISPLAY>;Boot file for banana.fruit.com, forwarder server</SCREENDISPLAY>&space;
;<SCREENDISPLAY>for fruit.com</SCREENDISPLAY>&space;
<SCREENDISPLAY>;Note that there should be one primary entry for each</SCREENDISPLAY>&space;
;<SCREENDISPLAY>SOA record.</SCREENDISPLAY>&space;
<SCREENDISPLAY>;</SCREENDISPLAY>&space;
<SCREENDISPLAY>;</SCREENDISPLAY>&space;
<SCREENDISPLAY>directory       /var/named</SCREENDISPLAY>&space;

<SCREENDISPLAY>;type       domain        source host/file   backup file</SCREENDISPLAY>&space;
<SCREENDISPLAY>cache       .             root.cache</SCREENDISPLAY>&space;
<SCREENDISPLAY>forwarders  128.70.10.1   128.70.10.2</SCREENDISPLAY>&space;
</CODE>
</LIST>
<LIST><PARAGRAPH>Use the same <FILENAME>localhost.rev</FILENAME> file you installed on your primary server.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Use the same <FILENAME>root.cache</FILENAME> file you installed on your primary server.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Enable <COMMAND>named</COMMAND> and reboot the station with the following commands:</PARAGRAPH>
<PARAGRAPH><USERINPUT>chkconfig named on</USERINPUT>&space;</PARAGRAPH>
<PARAGRAPH><USERINPUT>reboot</USERINPUT>&space;</PARAGRAPH>
</LIST>
</ORDEREDLIST>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE><XREFTARGET ID="24265">Configuring a Slave BIND Server</TITLE><ORDEREDLIST><LIST><PARAGRAPH>Log in as <ITALICS>root</ITALICS>.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Move to the <ITALICS>named</ITALICS> example directory:</PARAGRAPH>
<PARAGRAPH><USERINPUT>cd /var/named/Examples</USERINPUT>&space;</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Copy the template files to the <ITALICS>/var/named</ITALICS> directory:</PARAGRAPH>
<PARAGRAPH><USERINPUT>cp named.boot.slave root.cache localhost.rev /var/named</USERINPUT>&space;</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Move <ITALICS>named.boot.master</ITALICS> to the default filename:</PARAGRAPH>
<PARAGRAPH><USERINPUT>cd ..</USERINPUT>&space;</PARAGRAPH>
<PARAGRAPH><USERINPUT>mv named.boot.slave named.boot</USERINPUT>&space;</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Modify <ITALICS>named.boot</ITALICS> to look like the following:</PARAGRAPH>
<CODE>
<SCREENDISPLAY>;</SCREENDISPLAY>&space;
<SCREENDISPLAY>;Boot file for pineapple1.fruit.com, slave server for</SCREENDISPLAY>&space;
<SCREENDISPLAY>;fruit.com</SCREENDISPLAY>&space;
<SCREENDISPLAY>;</SCREENDISPLAY>&space;
<SCREENDISPLAY>directory       /var/named</SCREENDISPLAY>&space;
<SCREENDISPLAY>;type       domain      source host/file   backup file</SCREENDISPLAY>&space;
<SCREENDISPLAY>cache       .           root.cache</SCREENDISPLAY>&space;
<SCREENDISPLAY>forwarders  128.70.10.3</SCREENDISPLAY>&space;
<SCREENDISPLAY>slave</SCREENDISPLAY>&space;
</CODE>
</LIST>
<LIST><PARAGRAPH>Use the same <FILENAME>localhost.rev</FILENAME> file you installed on your primary server.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Use the same <FILENAME>root.cache</FILENAME>&space;file you installed on your primary server.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Enable <COMMAND>named</COMMAND> and reboot the station with the following commands:</PARAGRAPH>
<EXAMPLE>
<USERINPUT>chkconfig named on</USERINPUT>&space;
<USERINPUT>reboot</USERINPUT>&space;
</EXAMPLE>
</LIST>
</ORDEREDLIST>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE><XREFTARGET ID="42673">Configuring the BIND Client</TITLE><PARAGRAPH>Use this procedure to set up a BIND client:&space;<INDEXTARGET ID="06.bind53"><!-- POSTPROCESSDATA: 06.bind53|client setup, BIND --><INDEXTARGET ID="06.bind54"><!-- POSTPROCESSDATA: 06.bind54|BIND: primary server setup --></PARAGRAPH>
<ORDEREDLIST><LIST><PARAGRAPH>&space;Log in as <ITALICS>root</ITALICS>.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Create or modify the <ITALICS>resolv.conf</ITALICS> file to include the default domain name, the host resolution order, and the list of name servers. It should look something like this:</PARAGRAPH>
<CODE>
<SCREENDISPLAY>domain fruit.com</SCREENDISPLAY>&space;
<SCREENDISPLAY>nameserver 128.70.10.4</SCREENDISPLAY>&space;
<SCREENDISPLAY>nameserver 128.70.10.2</SCREENDISPLAY>&space;
nameserver 128.70.10.1 
hostresorder bind local 
</CODE>
</LIST>
<LIST><PARAGRAPH>Rebooting the client is suggested, but not required.</PARAGRAPH>
</LIST>
</ORDEREDLIST>
</SECTION2>
</SECTION1>
<SECTION1 LBL="" HELPID = ""><TITLE><XREFTARGET ID="85488">Managing the BIND Environment</TITLE><PARAGRAPH>This section describes the steps involved in maintaining the databases. It details how to add and delete a station from the domain and how to add a new subdomain. It also discusses some of the scripts that manage the BIND database.&space;<INDEXTARGET ID="06.bind55"><!-- POSTPROCESSDATA: 06.bind55|BIND: database management --><INDEXTARGET ID="06.bind56"><!-- POSTPROCESSDATA: 06.bind56|BIND: database management --><INDEXTARGET ID="06.bind57"><!-- POSTPROCESSDATA: 06.bind57|database management, BIND --></PARAGRAPH>
<SECTION2 LBL="" HELPID = ""><TITLE>Adding a New BIND Station</TITLE><PARAGRAPH>To add a new station to your zone files:&space;<INDEXTARGET ID="06.bind58"><!-- POSTPROCESSDATA: 06.bind58|adding stations (with BIND) --><INDEXTARGET ID="06.bind59"><!-- POSTPROCESSDATA: 06.bind59|BIND: adding new stations --></PARAGRAPH>
<ORDEREDLIST><LIST><PARAGRAPH>Edit the appropriate zone file for the station's domain.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Add an A record for each address of the station. </PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Add <ITALICS>CNAME, HINFO, WKS, RP,</ITALICS> and <ITALICS>MX</ITALICS> records (optional).</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Add the reverse IN-ADDR entry for each station address in the appropriate zone files for each network the station is on.</PARAGRAPH>
</LIST>
</ORDEREDLIST>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE>Deleting a BIND Station</TITLE><PARAGRAPH>To delete a station from the zone files:&space;<INDEXTARGET ID="06.bind60"><!-- POSTPROCESSDATA: 06.bind60|deleting stations (with BIND) --><INDEXTARGET ID="06.bind61"><!-- POSTPROCESSDATA: 06.bind61|BIND: deleting stations --><INDEXTARGET ID="06.bind62"><!-- POSTPROCESSDATA: 06.bind62|removing stations (with BIND) --></PARAGRAPH>
<ORDEREDLIST><LIST><PARAGRAPH>Remove all the station's resource records from the zone file of the station's domain.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Remove all the station's <ITALICS>PTR</ITALICS> records from the IN-ADDR zone files for each network the station was on.</PARAGRAPH>
</LIST>
</ORDEREDLIST>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE>Adding Another BIND Domain</TITLE><PARAGRAPH>To add a new subdomain to your domain:&space;<INDEXTARGET ID="06.bind63"><!-- POSTPROCESSDATA: 06.bind63|domains (BIND), adding --><INDEXTARGET ID="06.bind64"><!-- POSTPROCESSDATA: 06.bind64|BIND: adding domains --></PARAGRAPH>
<ORDEREDLIST><LIST><PARAGRAPH>Set up the other domain server, the new zone file, or both. </PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>For each server of the new domain, add an NS record to the zone file of the parent domain.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Add any necessary glue address records. See <XREF IDREF="81435" TYPE="TITLE">Appendix&nbsp;A, &ldquo;BIND Standard Resource Record Format&rdquo;</XREF> for details about glue records.</PARAGRAPH>
</LIST>
</ORDEREDLIST>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE>named Reload Script</TITLE><PARAGRAPH>This shell script sends the HUP signal to named, which causes it to read named.boot and reload the database. All previously cached data is lost. Use this script when named is running and you want the internal database for named to reflect any changes you have made. The<INDEXTARGET ID="06.bind65"><!-- POSTPROCESSDATA: 06.bind65|<ITALICS>/usr/etc/named.reload</ITALICS> script --><FILENAME>&space;/usr/sbin/named.reload </FILENAME>script is an easy way to do this. <INDEXTARGET ID="06.bind66"><!-- POSTPROCESSDATA: 06.bind66|<ITALICS>named.boot</ITALICS> file --><INDEXTARGET ID="06.bind67"><!-- POSTPROCESSDATA: 06.bind67|<ITALICS>named</ITALICS> daemon --><INDEXTARGET ID="06.bind68"><!-- POSTPROCESSDATA: 06.bind68|BIND: management scripts --></PARAGRAPH>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE>named Restart Script</TITLE><PARAGRAPH>This shell script terminates the running <INDEXTARGET ID="06.bind69"><!-- POSTPROCESSDATA: 06.bind69|<ITALICS>/usr/etc/named.restart script</ITALICS> --><FILENAME>named</FILENAME>&space;and starts a new one. Use this script when you have made changes to the named.boot file, or whenever you need to place the server in a known state. The<FILENAME>&space;/usr/sbin/named.restart</FILENAME> script is an easy way to restart<FILENAME>&space;named</FILENAME>.</PARAGRAPH>
</SECTION2>
</SECTION1>
<SECTION1 LBL="" HELPID = ""><TITLE><XREFTARGET ID="33139">Debugging named</TITLE><PARAGRAPH>When named is running incorrectly, first check <INDEXTARGET ID="06.bind70"><!-- POSTPROCESSDATA: 06.bind70|BIND: debugging --><FILENAME>/var/adm/SYSLOG</FILENAME> for any messages. For additional information, send named one of the following signals, using killall(1M) and defining <SCREENDISPLAY>SIG</SCREENDISPLAY> as <SCREENDISPLAY>INT</SCREENDISPLAY>, <SCREENDISPLAY>ABRT</SCREENDISPLAY>, <SCREENDISPLAY>USR1</SCREENDISPLAY>, or <SCREENDISPLAY>USR2</SCREENDISPLAY>:</PARAGRAPH>
<EXAMPLE>
<USERINPUT>/etc/killall -SIG named </USERINPUT>
</EXAMPLE>
<HANGLIST><HANGPAIR><HANGITEM><SCREENDISPLAY>INT </SCREENDISPLAY></HANGITEM>
<HANGBODY><PARAGRAPH>Dumps the current database and cache to <FILENAME>/var/tmp/named_dump.db</FILENAME>.&space;This dumping should indicate whether the database was loaded correctly.</PARAGRAPH>
</HANGBODY>
</HANGPAIR>
<HANGPAIR><HANGITEM><SCREENDISPLAY>ABRT</SCREENDISPLAY></HANGITEM>
<HANGBODY><PARAGRAPH>Dumps statistics data into <FILENAME>/var/tmp/named.stats</FILENAME>. Statistics data is appended to the file.</PARAGRAPH>
</HANGBODY>
</HANGPAIR>
<HANGPAIR><HANGITEM><SCREENDISPLAY>USR1</SCREENDISPLAY></HANGITEM>
<HANGBODY><PARAGRAPH>Turns on debugging. Each subsequent USR1 increases the debug level. There are 10 debug levels, and each prints more detailed information. A debug level of 5 is useful for debugging lookup requests. The output goes to <FILENAME>/var/tmp/named.run</FILENAME>. </PARAGRAPH>
</HANGBODY>
</HANGPAIR>
<HANGPAIR><HANGITEM><SCREENDISPLAY>USR2</SCREENDISPLAY></HANGITEM>
<HANGBODY><PARAGRAPH>Turns off debugging completely.</PARAGRAPH>
</HANGBODY>
</HANGPAIR>
</HANGLIST>
<SECTION2 LBL="" HELPID = ""><TITLE>SYSLOG Error Messages</TITLE><PARAGRAPH>Using <INDEXTARGET ID="06.bind71"><!-- POSTPROCESSDATA: 06.bind71|BIND: <ITALICS>SYSLOG</ITALICS> messages --><COMMAND>syslog</COMMAND>, <COMMAND>named</COMMAND> logs certain errors to<FILENAME>&space;/var/adm/SYSLOG</FILENAME>. This section lists important error messages and their meanings.</PARAGRAPH>
<BULLETLIST><BULLET><PARAGRAPH><VARIABLE>dname</VARIABLE><SCREENDISPLAY>&space;has CNAME and other illegal data</SCREENDISPLAY></PARAGRAPH>
<PARAGRAPH>An alias has more than just a CNAME record. For example, since only &ldquo;monet&rdquo; should have the A record, the following is wrong:</PARAGRAPH>
<EXAMPLE>
ucbmonet IN CNAME monet
ucbmonet IN A 128.32.0.1
</EXAMPLE>
</BULLET>
<BULLET><PARAGRAPH><SCREENDISPLAY>Attempted to query myself on ipaddr as name server for </SCREENDISPLAY><VARIABLE>dname</VARIABLE></PARAGRAPH>
<PARAGRAPH>The station is listed incorrectly as a forwarder in the named.boot file.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><SCREENDISPLAY>zoneref: Masters for secondary zone </SCREENDISPLAY><VARIABLE>dname</VARIABLE><SCREENDISPLAY>&space;unreachable</SCREENDISPLAY></PARAGRAPH>
<PARAGRAPH>This station is a secondary server for <VARIABLE>dname</VARIABLE>. The primary server returned an invalid data response or, because of a network problem, the station was not able to contact the primary server to obtain the current state of the zone information.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><SCREENDISPLAY>Lame delegation to </SCREENDISPLAY><VARIABLE>dname1</VARIABLE><SCREENDISPLAY>&space;received from </SCREENDISPLAY><VARIABLE>ipaddr</VARIABLE><SCREENDISPLAY>(purported server for </SCREENDISPLAY><VARIABLE>dname2</VARIABLE><SCREENDISPLAY>) on query on name [</SCREENDISPLAY><VARIABLE>dname3</VARIABLE><SCREENDISPLAY>] </SCREENDISPLAY></PARAGRAPH>
<PARAGRAPH>The message indicates that the remote server at the specified address is supposed to be authoritative for the dname2 domain but has returned an indication that implies it is not. The remote server or the server for its parent domain is misconfigured. This error message can be disabled if named is started with the <BOLD>-L lamedel</BOLD> option. </PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><SCREENDISPLAY>MAXQUERIES exceeded, possible data loop in resolving </SCREENDISPLAY><VARIABLE>dname</VARIABLE><SCREENDISPLAY>&space;</SCREENDISPLAY></PARAGRAPH>
<PARAGRAPH>The name server has tried to query too many other servers for the specified record. This might happen if each of two remote servers reply that the other has the desired information for dname. </PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><SCREENDISPLAY>Malformed response from </SCREENDISPLAY><VARIABLE>ipaddr</VARIABLE>&space;</PARAGRAPH>
<PARAGRAPH>The remote DNS server at the specified address returned a malformed packet. This message typically indicates an error in the remote server.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><SCREENDISPLAY>Bogus root NS </SCREENDISPLAY><VARIABLE>dname1</VARIABLE><SCREENDISPLAY>&space;received from </SCREENDISPLAY><VARIABLE>ipaddr</VARIABLE><SCREENDISPLAY>&space;on query on name[</SCREENDISPLAY><VARIABLE>dname2</VARIABLE><SCREENDISPLAY>] -- rejected </SCREENDISPLAY></PARAGRAPH>
<PARAGRAPH>The name server at the specified address improperly returned NS records for the root domain. The records have been ignored. You can disable this error message if named is started with<BOLD>&space;-L rootns</BOLD>.&space;</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><SCREENDISPLAY>Root NS </SCREENDISPLAY><VARIABLE>dname1</VARIABLE><SCREENDISPLAY>&space;received from </SCREENDISPLAY><VARIABLE>ipaddr</VARIABLE><SCREENDISPLAY>&space;on query on name [</SCREENDISPLAY><VARIABLE>dname2</VARIABLE><SCREENDISPLAY>] </SCREENDISPLAY></PARAGRAPH>
<PARAGRAPH>The name server at the specified address returned NS records for the root domain. You can disable this informational message if named is started with the <BOLD>-L rootns</BOLD>&space;option.</PARAGRAPH>
</BULLET>
</BULLETLIST>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE>Debugging Name Servers With the nslookup Command</TITLE><PARAGRAPH>The <COMMAND>nslookup </COMMAND>command is a useful debugging tool for querying local and remote name servers. <COMMAND>nslookup</COMMAND> operates in either interactive or non-interactive mode. Interactive mode allows the user to query the name server for information about various stations and domains or print a list of stations in the domain. Non-interactive mode is used to print just the name and requested information for a station or domain. The following example of <COMMAND>nslookup</COMMAND> output gets the address record for the station monet.berkeley.edu:&space;<INDEXTARGET ID="06.bind72"><!-- POSTPROCESSDATA: 06.bind72|BIND: and <ITALICS>nslookup</ITALICS> --><INDEXTARGET ID="06.bind73"><!-- POSTPROCESSDATA: 06.bind73|<ITALICS>nslookup</ITALICS> command --></PARAGRAPH>
<CODE>
<SCREENDISPLAY>Default Server:  ucbvax.berkeley.edu</SCREENDISPLAY>&space;
<SCREENDISPLAY>Address:  128.32.133.1</SCREENDISPLAY>&space;
<USERINPUT>> monet</USERINPUT>&space;
<SCREENDISPLAY>Server:  ucbvax.berkeley.edu</SCREENDISPLAY>&space;
<SCREENDISPLAY>Address:  128.32.133.1</SCREENDISPLAY>&space;
<SCREENDISPLAY>Name:    monet.berkeley.edu</SCREENDISPLAY>&space;
<SCREENDISPLAY>Address:  128.32.130.6</SCREENDISPLAY>&space;
</CODE>
<PARAGRAPH>To exit, press <USERINPUT>Ctrl+D</USERINPUT>&space;or enter <USERINPUT>exit</USERINPUT>. The help command summarizes available commands. Useful <COMMAND>nslookup</COMMAND> command options are<CMDLINEOPT>&space;set type=Any</CMDLINEOPT>, <CMDLINEOPT>set type=Mx</CMDLINEOPT> and <CMDLINEOPT>set debug</CMDLINEOPT>. The complete set of commands is described on the <REFPAGE>nslookup(1C)</REFPAGE> reference page. </PARAGRAPH>
</SECTION2>
</SECTION1>
</CHAPTER>
