<!-- Produced by version 3.14 (11/22/96) of SGI Frame/SGML translator -->
<CHAPTER LBL="7"><TITLE><XREFTARGET ID="38418">Maintenance Tips</TITLE><PARAGRAPH>This chapter contains procedures that may be necessary to keep the software installation at your site up to date. The chapter contains these sections:</PARAGRAPH>
<BULLETLIST><BULLET><PARAGRAPH><XREF IDREF="80856" TYPE="TITLE">&ldquo;Installing Maintenance and Feature Releases&rdquo;</XREF></PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="93339" TYPE="TITLE">&ldquo;Installing Optional Software Products&rdquo;</XREF></PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="11751" TYPE="TITLE">&ldquo;Installing Patches&rdquo;</XREF></PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="46339" TYPE="TITLE">&ldquo;Installing Software for Hardware Upgrades&rdquo;</XREF></PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="12547" TYPE="TITLE">&ldquo;Installing Reference Pages&rdquo;</XREF></PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="39683" TYPE="TITLE">&ldquo;Reinstalling an Older Software Release&rdquo;</XREF></PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="43281" TYPE="TITLE">&ldquo;Avoiding Compatibility Problems&rdquo;</XREF></PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH><XREF IDREF="50243" TYPE="TITLE">&ldquo;Removing Software&rdquo;</XREF></PARAGRAPH>
</BULLET>
</BULLETLIST>
<SECTION1 LBL="" HELPID = ""><TITLE><XREFTARGET ID="80856">Installing Maintenance and Feature Releases </TITLE><PARAGRAPH>The distribution CD for maintenance and feature releases contains two software streams: the maintenance stream contains bug fixes and basic support for new hardware; and the feature stream contains the maintenance stream software as well as new software features (see <INDEXTARGET ID="ch71"><!-- POSTPROCESSDATA: ch71|maintenance release --><INDEXTARGET ID="ch72"><!-- POSTPROCESSDATA: ch72|feature release --><XREF IDREF="34077" TYPE="TITLE">&ldquo;Software Release Types&rdquo;</XREF>). The new files in any maintenance or feature release overwrite the corresponding files in the installed subsystem.</PARAGRAPH>
<PARAGRAPH>The first time you install an intermediate release, Inst prompts you to specify the stream that you wish to install. After you select a stream, Inst makes its installation selections from the appropriate stream. In many cases, you can examine the initial selections with <COMMAND>list</COMMAND> and enter the <COMMAND>go</COMMAND> command without making any selection changes.</PARAGRAPH>
<PARAGRAPH>When Inst makes its initial installation selections on maintenance or feature releases, it automatically selects any updates to existing subsystems, provided that the appropriate version of the subsystem is currently installed. If the required version of a subsystem is not installed, you must upgrade to the required version before installing its replacement in the maintenance or feature release.<INDEXTARGET ID="ch73"><!-- POSTPROCESSDATA: ch73|automatic selections: in software upgrades --></PARAGRAPH>
<SECTION2 LBL="" HELPID = ""><TITLE><XREFTARGET ID="95387">Switching Streams</TITLE><PARAGRAPH>Normally,the previously-chosen stream type is installed on a particular operating system base release. However, you can switch streams. To do this, use the Inst commands <COMMAND>install feature</COMMAND> or<COMMAND>&space;install maintenance</COMMAND> when the Inst prompt first appears. Then, follow the procedures discussed in the following two sections.</PARAGRAPH>
<SECTION3 LBL="" HELPID = ""><TITLE>Feature-to-Maintenance Switches</TITLE><PARAGRAPH>If you are currently running a feature release and you use the <COMMAND>install maintenance</COMMAND> command to install the maintenance stream, you must open all CDs from the base release as part of the installation. You then must reinstall the portions of the base release that are affected by the maintenance release that you plan to install. You can determine which files are effected by entering the <COMMAND>conflicts</COMMAND> command.</PARAGRAPH>
</SECTION3>
<SECTION3 LBL="" HELPID = ""><TITLE>Maintenance-to-Feature Switches</TITLE><PARAGRAPH>If you are currently running a maintenance release and you use the <COMMAND>install feature </COMMAND>command to install the feature release, you will be prompted with conflict messages in your installation similar to the following: </PARAGRAPH>
<CODE>
Overlay product eoe.sw.base (1275066720) cannot be
installed because of missing prerequisites: base
product eoe.sw.base (1274627340)
1a. Do not install eoe.sw.base (1275066720)
1b. Also install base product eoe.sw.base
(1274627340) from an additional distribution --
insert another CD or specify another software
distribution.
</CODE>
<PARAGRAPH>If you see conflict messages like this, open the distribution or CD that contains the missing product,then select the product for installation.</PARAGRAPH>
</SECTION3>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE>Maintenance and Feature Information in List Displays</TITLE><PARAGRAPH>In Inst subsystem listings, maintenance and release components are listed by the name of the subsystem to which they apply. The letter <SCREENDISPLAY>o</SCREENDISPLAY> to the right of the subsystem indicates that it is an overlay to the subsystem.</PARAGRAPH>
<PARAGRAPH><XREF IDREF="14097" TYPE="TEXT">Example&nbsp;7-1</XREF> illustrates the legend and a listing for a maintenance or feature release of product X. Notice that two subsystems are designated as installable upgrades (UA) and one subsystem is listed as an uninstallable upgrade (UX).</PARAGRAPH>
<CODE><CAPTION LBL="7-1"><PREFIX>Example 7-1 </PREFIX><XREFTARGET ID="14097">Sample Listing  for Maintenance or Feature Software</CAPTION>Inst> l
&space; View:      distribution
&space; Status:    N=new, U=upgrade, S=same, D=downgrade
&space; Status:    A=installable patch/overlay, X=uninstallable patch/overlay
&space; Selection: i=install, r=remove, k=keep
&space; Subsystem Types [bdro]:  b=reBoot needed, d=Default, r=Required, o=overlay
i UA eoe.man.eoe [o]       8+  manpages - 1008000004
i UA eoe.sw.eoe [o]        0   sw - 1008000004
&space; UX eoe.sw.eoe [o]        4-  sw - 1008000004
</CODE>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE>Maintenance and Feature Release Installation Procedure</TITLE><PARAGRAPH>Use the procedure below as a guideline for installing a  maintenance or feature release:</PARAGRAPH>
<ORDEREDLIST><LIST><PARAGRAPH>Determine whether a miniroot installation is required.</PARAGRAPH>
<PARAGRAPH>Read the release notes or the CD booklet that accompanied the release to determine whether it requires a miniroot installation.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>&space;Load the installation CD into the CD-ROM drive.</PARAGRAPH>
<PARAGRAPH>One CD in a maintenance and feature release contains installation utilities; this CD must be loaded first. Even if you are installing a maintenance or feature release and a base release at the same time, the first CD that you load must be the maintenance or feature release CD containing the installation tools.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Invoke Inst from the installation CD.</PARAGRAPH>
<PARAGRAPH>If the release requires a miniroot installation, load the miniroot from the installation CD (see <XREF IDREF="40576" TYPE="TITLE">&ldquo;Loading From a Local CD&rdquo;</XREF> if you need instructions). If the release does not require a miniroot installation, invoke Inst to start the installation (see <XREF IDREF="72525" TYPE="TITLE">&ldquo;Starting a Live Installation&rdquo;</XREF>).</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Load the remaining CDs, if there are others.</PARAGRAPH>
<PARAGRAPH>Load the remaining CDs for the release (see <XREF IDREF="87390" TYPE="TITLE">&ldquo;Opening Multiple Distributions&rdquo;</XREF>).</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Select products and subsystems for your specific installation. Give the following commands, depending on which stream you with to install:</PARAGRAPH>
<BULLETLISTIND><BULLETIND><PARAGRAPH>Give the following commands to upgrade a <BOLD>previously-chosen</BOLD> maintenance or feature stream:</PARAGRAPH>
<CODE>
<USERINPUT>keep *</USERINPUT>
<USERINPUT>install standard</USERINPUT>
</CODE>
<PARAGRAPH>This clears any existing selections, selects upgrades to currently installed products, and selects products required by these upgrades. You can continue to customize sselections after executing these commands.</PARAGRAPH>
</BULLETIND>
<BULLETIND><PARAGRAPH>Give the following command to switch to the <BOLD>maintenance</BOLD>&space;<BOLD>stream</BOLD> release:</PARAGRAPH>
<CODE>
<USERINPUT>install maint</USERINPUT>
</CODE>
<PARAGRAPH>This clears any existing selections, selects maintenance stream upgrades and downgrades, selects products required by these upgrades, and sets the release stream preference to maintenance. Also, it turns the <COMMAND>neweroverride</COMMAND> option on. This option allows allows products viewed as older (that is, all maintenance products) to be selected without generating conflicts. You can continue to customize selections after you execute this command.</PARAGRAPH>
</BULLETIND>
<BULLETIND><PARAGRAPH>Give the following command to switch to the <BOLD>feature</BOLD>&space;<BOLD>stream</BOLD> release:</PARAGRAPH>
<CODE>
<USERINPUT>install feature</USERINPUT>
</CODE>
<PARAGRAPH>This clears any existing selections, selects feature stream upgrades, selects products required by these upgrades, and sets the release stream preference to maintenance. You can continue to customize selections after you execute this command.</PARAGRAPH>
</BULLETIND>
</BULLETLISTIND>
</LIST>
<LIST><PARAGRAPH>Resolve any conflicts.</PARAGRAPH>
<PARAGRAPH>Enter the <COMMAND>conflicts</COMMAND> command to display any conflicts among the subsystems selected for installation. Resolve the conflicts before launching the installation. If you switched streams (see <XREF IDREF="95387" TYPE="TITLE">&ldquo;Switching Streams&rdquo;</XREF>), the conflicts will include those files in the base release that are affected by the switch.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Enter the <COMMAND>go</COMMAND> command to launch the installation.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Exit Inst. </PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Correct your configuration files, if necessary.</PARAGRAPH>
<PARAGRAPH>If you see a message about changed configuration files after the installation is complete, follow the directions in <XREF IDREF="71555" TYPE="TITLE">&ldquo;Merging Configuration Files&rdquo;</XREF> to merge configuration files. If you do not merge changed configuration files, a message about changed configuration files is posted during the next several system reboots.</PARAGRAPH>
</LIST>
</ORDEREDLIST>
</SECTION2>
</SECTION1>
<SECTION1 LBL="" HELPID = ""><TITLE><XREFTARGET ID="93339">Installing Optional Software Products</TITLE><PARAGRAPH><INDEXTARGET ID="ch74"><!-- POSTPROCESSDATA: ch74|software options, installing --><VARIABLE>Software options<INDEXTARGET ID="ch75"><!-- POSTPROCESSDATA: ch75|optional software, installing --></VARIABLE> are products that you may or may not choose to run on a system. They are usually purchased separately from a computer system but may also be shipped as a complimentary offering with a new system or when a new version of a purchased option is released. When you install a software option, keep these points in mind:</PARAGRAPH>
<BULLETLIST><BULLET><PARAGRAPH>The release notes for a software option explain whether a miniroot installation is required. </PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH>If the option requires a miniroot installation and the distribution CD contains installation tools, use the installation tools on the CD. If the option requires a miniroot installation and the distribution CD does not contain installation tools, use the installation CD from your most recently installed release.</PARAGRAPH>
</BULLET>
</BULLETLIST>
</SECTION1>
<SECTION1 LBL="" HELPID = ""><TITLE><XREFTARGET ID="11751">Installing Patches</TITLE><PARAGRAPH>A patch release contains replacement files that can be installed to modify a particular software product. The subsystems that are affected by a patch may span several products. For example, a patch for the FDDI product might contain replacement files for <INDEXTARGET ID="ch76"><!-- POSTPROCESSDATA: ch76|patches: installing --><INDEXTARGET ID="ch77"><!-- POSTPROCESSDATA: ch77|software products: patching --><FILENAME>eoe</FILENAME> and <FILENAME>fddivis</FILENAME> subsystems.</PARAGRAPH>
<PARAGRAPH>The prerequisites for a patch are the software components in the original version of the affected product; occasionally, a previous patch is a prerequisite to a later patch. In some cases, a patch is incompatible with a previous patch and the older patch must be removed before you install the new one. </PARAGRAPH>
<PARAGRAPH>When you install a patch, Inst automatically moves the original files before installing their patch replacements. The original files are copied to a directory that Inst creates specifically to save such files, <INDEXTARGET ID="ch78"><!-- POSTPROCESSDATA: ch78|<ITALICS>/var/inst/patchbase</ITALICS> file: function --><FILENAME>/var/inst/patchbase</FILENAME>. This makes it possible to remove a patch and replace it with the original version of the product files.</PARAGRAPH>
<SECTION2 LBL="" HELPID = ""><TITLE><XREFTARGET ID="90074">Interpreting Patch Information in list Displays</TITLE><PARAGRAPH>In Inst subsystem listings, patches are identified by their patch number and product subsystem name. For example, <ITALICS>patchSG0000034.bvo_sw.bvo</ITALICS> identifies a patch to a subsystem of the Broadcast Video Option product. </PARAGRAPH>
<PARAGRAPH>If patches are present on a distribution, the legend of a <INDEXTARGET ID="ch79"><!-- POSTPROCESSDATA: ch79|patch release: identifying in <ITALICS>list</ITALICS> output --><COMMAND>list</COMMAND> display and the software components that <COMMAND>list</COMMAND> posts include patches. <INDEXTARGET ID="ch710"><!-- POSTPROCESSDATA: ch710|<ITALICS>list</ITALICS> command: patch items in output --><XREF IDREF="71157" TYPE="TEXT">Example&nbsp;7-2</XREF> illustrates the list legend and patch entries in a <COMMAND>list</COMMAND> display.</PARAGRAPH>
<CODE><CAPTION LBL="7-2"><PREFIX>Example 7-2 </PREFIX><XREFTARGET ID="71157">Sample list Display of Patches</CAPTION>Inst> <USERINPUT>list</USERINPUT>&space;
&space; View:       distribution
&space; Status:    N=New, U=Upgrade, S=Same, D=Downgrade, P=Patch upgrade
&space; Patches:   A=installable patch, X=uninstallable patch (missing base product)
&space; Selection: i=install, r=remove, k=keep
&space; Subsystem Type(s) [bdrpc]: b=reBoot needed, d=Default, r=Required, p=Patch,&lbreak;                             c=client only
DA patchSG0000000.eoe1_sw.unix [bp]    0  IRIX Execution Environment
SA patchSG0000001.eoe1_sw.unix [bp]    0  IRIX Execution Environment
PA patchSG0000002.eoe1_sw.unix [bp]    0  IRIX Execution Environment
NA patchSG0000005.4DDN_sw.4DDN [bd]    0  4DDN Software
NX patchSG0000011.dwb_sw.aps [p]       0  Autologic APS-5 Fonts
</CODE>
<PARAGRAPH>The mnemonic tags on patches have these meanings:</PARAGRAPH>
<HANGLIST><HANGPAIR><HANGITEM>DA</HANGITEM>
<HANGBODY><PARAGRAPH>(Downgrade Applicable) This patch applies to an installed base subsystem; it is a downgrade to another patch that is already installed.</PARAGRAPH>
</HANGBODY>
</HANGPAIR>
<HANGPAIR><HANGITEM>NA</HANGITEM>
<HANGBODY><PARAGRAPH>(New Applicable) This patch applies to a base subsystem that is installed or available for installation; it does not apply to any installed patch.</PARAGRAPH>
</HANGBODY>
</HANGPAIR>
<HANGPAIR><HANGITEM>NX</HANGITEM>
<HANGBODY><PARAGRAPH>(New Uninstallable) This patch applies to software that is not installed and not available for installation from this distribution.</PARAGRAPH>
</HANGBODY>
</HANGPAIR>
<HANGPAIR><HANGITEM>PA</HANGITEM>
<HANGBODY><PARAGRAPH>(Patch Upgrade) This patch applies to an installed base subsystem; it upgrades a patch that was already installed.</PARAGRAPH>
</HANGBODY>
</HANGPAIR>
<HANGPAIR><HANGITEM>SA</HANGITEM>
<HANGBODY><PARAGRAPH>(Same Applicable) This patch is already installed.</PARAGRAPH>
</HANGBODY>
</HANGPAIR>
</HANGLIST>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE>Patch Installation Procedure</TITLE><PARAGRAPH>Use the procedure below as a guideline for installing a patch release:</PARAGRAPH>
<ORDEREDLIST><LIST><PARAGRAPH>Read the release notes to decide whether to install the patch.</PARAGRAPH>
<PARAGRAPH>Typically, the reported errors that result in a patch occur only under certain operating conditions. For this reason, installing a patch is necessary only if a system or site is experiencing a problem that the patch addresses. Review the online release notes that accompanied the patch release to determine whether to install it or not.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Invoke Inst (from the miniroot, if necessary).</PARAGRAPH>
<PARAGRAPH>Check the release notes for installation instructions. Invoke Inst from the miniroot if the patch requires a miniroot installation (see <INDEXTARGET ID="ch711"><!-- POSTPROCESSDATA: ch711|miniroot installation: conditions requiring --><XREF IDREF="47365" TYPE="TITLE">&ldquo;Starting a Miniroot Installation&rdquo;</XREF> if you need help); otherwise, invoke Inst from the IRIX command line (see <XREF IDREF="72525" TYPE="TITLE">&ldquo;Starting a Live Installation&rdquo;</XREF> if you need help). </PARAGRAPH>
<NOTE><PREFIX>Note</PREFIX>For live installations, you can use <COMMAND>inst -f</COMMAND> and specify the location of the patch distribution in your command.</NOTE>
</LIST>
<LIST><PARAGRAPH>Select the patch subsystems for installation.</PARAGRAPH>
<PARAGRAPH>Use the <COMMAND>install</COMMAND> command from the Inst Main menu to select all subsystems in the patch; installing a subset of patch subsystems is not recommended. If the patch release contains a patch set, it is advisable to install the entire set rather than individual patches. </PARAGRAPH>
<CODE>
Inst> <USERINPUT>install</USERINPUT>&space;<VARIABLE>patchname</VARIABLE>  
</CODE>
</LIST>
<LIST><PARAGRAPH>Resolve any conflicts.</PARAGRAPH>
<PARAGRAPH>Enter the <COMMAND>conflicts</COMMAND> command to display any conflicts among the subsystems selected for installation. Resolve the conflicts before launching the installation.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Enter the <COMMAND>go</COMMAND> command to launch the installation.</PARAGRAPH>
<PARAGRAPH>Patches contain no known conflicts with standard installed products; however, conflicts might occur with other patches that you have installed. Use the resolution suggested in the conflicts message to determine your course of action.<INDEXTARGET ID="ch712"><!-- POSTPROCESSDATA: ch712|patches: conflicts --><INDEXTARGET ID="ch713"><!-- POSTPROCESSDATA: ch713|conflicts: in patches --></PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Exit Inst. </PARAGRAPH>
</LIST>
</ORDEREDLIST>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE>Removing Patches</TITLE><PARAGRAPH>You can remove a patch after it is installed if you wish. When you remove a patch, the original product files in <INDEXTARGET ID="ch714"><!-- POSTPROCESSDATA: ch714|patches: removing --><INDEXTARGET ID="ch715"><!-- POSTPROCESSDATA: ch715|software products: reinstalling files after patching --><INDEXTARGET ID="ch716"><!-- POSTPROCESSDATA: ch716|<ITALICS>/var/inst/patchbase</ITALICS> file: reinstalling contents --><FILENAME>/var/inst/patchbase</FILENAME> are automatically reinstalled on the system. Use this procedure as a guideline for removing patches.</PARAGRAPH>
<ORDEREDLIST><LIST><PARAGRAPH>Invoke Inst (from the miniroot, if necessary).</PARAGRAPH>
<PARAGRAPH>Check the release notes for the product. If the product requires a miniroot installation, you must invoke Inst from the miniroot to remove the patch (see <XREF IDREF="47365" TYPE="TITLE">&ldquo;Starting a Miniroot Installation&rdquo;</XREF> if you need help); otherwise, invoke Inst from the IRIX command line (see <XREF IDREF="72525" TYPE="TITLE">&ldquo;Starting a Live Installation&rdquo;</XREF> if you need help). </PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Select the patch for removal.</PARAGRAPH>
<PARAGRAPH>Use the <COMMAND>remove</COMMAND> command from the Inst Main menu to remove the patch: </PARAGRAPH>
<EXAMPLE>
Inst> <USERINPUT>remove</USERINPUT>&space;<VARIABLE>patchname</VARIABLE>&space;
</EXAMPLE>
<NOTE><PREFIX>Note</PREFIX>Do not remove portions of patches; to preserve the integrity of the software product, remove the entire patch.</NOTE>
</LIST>
<LIST><PARAGRAPH>Enter the <COMMAND>go</COMMAND> command to complete the removal.</PARAGRAPH>
</LIST>
</ORDEREDLIST>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE>Removing Original Product Files</TITLE><PARAGRAPH>Sometimes it may be necessary to remove original product files from <INDEXTARGET ID="ch717"><!-- POSTPROCESSDATA: ch717|software products: removing files after patching --><FILENAME>/var/inst/patchbase</FILENAME> (to save disk space, for example). A special argument to the <COMMAND>versions</COMMAND> command removes the files that a patch has replaced. However, there are important reasons why you should create a backup copy of <FILENAME>/var/inst/patchbase</FILENAME> before removing any of its contents: </PARAGRAPH>
<BULLETLIST><BULLET><PARAGRAPH>Original product files are not recoverable after they are removed from <FILENAME>/var/inst/patchbase</FILENAME>. </PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH>Original product files are sometimes required for subsequent patches to the product. </PARAGRAPH>
</BULLET>
</BULLETLIST>
<PARAGRAPH>Use the <INDEXTARGET ID="ch718"><!-- POSTPROCESSDATA: ch718|<ITALICS>/var/inst/patchbase</ITALICS> file: removing contents --><COMMAND>versions</COMMAND> command with the <ITALICS>removehist</ITALICS> argument to remove original product files from <FILENAME>/var/inst/patchbase</FILENAME>.</PARAGRAPH>
<CAUTION><PREFIX>Caution</PREFIX>Before you use this command, make a backup copy of <FILENAME>/var/inst/patchbase</FILENAME>: </CAUTION>
<EXAMPLE>
# <USERINPUT>versions removehist </USERINPUT><VARIABLE>patchname</VARIABLE>&space;<USERINPUT></USERINPUT>
</EXAMPLE>
</SECTION2>
</SECTION1>
<SECTION1 LBL="" HELPID = ""><TITLE><XREFTARGET ID="46339">Installing Software for Hardware Upgrades</TITLE><PARAGRAPH>In some cases, changes to software are required when you install a hardware upgrade on a system that is already in service. As a general rule, adding memory, bitplanes, and disks requires no change to the software, but other hardware upgrades require changes to the installed software. The documentation that accompanies the upgrade explains whether a software installation is necessary.<INDEXTARGET ID="ch719"><!-- POSTPROCESSDATA: ch719|hardware-specific files: updating --><INDEXTARGET ID="ch720"><!-- POSTPROCESSDATA: ch720|software products: reinstalling after hardware changes --></PARAGRAPH>
<SECTION2 LBL="" HELPID = ""><TITLE>Installing Accompanying Product Releases</TITLE><PARAGRAPH>Some hardware upgrades are shipped with a software distribution in the form of a software product release. Use the directions in <XREF IDREF="93339" TYPE="TITLE">&ldquo;Installing Optional Software Products&rdquo;</XREF> to install this type of software distribution. If the software distribution contains installation tools, you must use them.<INDEXTARGET ID="ch721"><!-- POSTPROCESSDATA: ch721|miniroot installation: conditions requiring --></PARAGRAPH>
</SECTION2>
<SECTION2 LBL="" HELPID = ""><TITLE>Reinstalling the Same Software</TITLE><PARAGRAPH>Some hardware upgrades are not shipped with a software distribution, but they require that you reinstall some software after the hardware upgrade is completed. For example, upgrades to a CPU board or the graphics subsystem require a software reinstallation. In such cases, the reinstallation is necessary because the hardware-specific files that were installed for the original hardware are not appropriate for the new hardware. <INDEXTARGET ID="ch722"><!-- POSTPROCESSDATA: ch722|reinstalling software --></PARAGRAPH>
<PARAGRAPH>When Inst determines that a system contains new hardware, it notifies you that it has selected a new set of hardware-dependent files for installation:<INDEXTARGET ID="ch723"><!-- POSTPROCESSDATA: ch723|hardware-specific files: change notice --></PARAGRAPH>
<CODE>
Your system hardware configuration has changed since you
last installed software, and some subsystems will therefore
need to be re-installed for proper operation.
</CODE>
<PARAGRAPH>Use this procedure to reinstall all software:</PARAGRAPH>
<ORDEREDLIST><LIST><PARAGRAPH>Select all installed software for installation.</PARAGRAPH>
<PARAGRAPH>Because you are reinstalling the same software, Inst automatically marks previously installed subsystems (including the hardware-specific subsystems that require replacing) with a k (keep). For this reason, you must explicitly select subsystems for installation to force Inst to perform the installation. This command selects all previously installed software for reinstallation:<INDEXTARGET ID="ch724"><!-- POSTPROCESSDATA: ch724|automatic selections: for hardware changes --></PARAGRAPH>
<EXAMPLE>
Inst><USERINPUT>&space;install stale</USERINPUT>&space;
</EXAMPLE>
</LIST>
<LIST><PARAGRAPH>Check the output of <COMMAND>list</COMMAND> after your entry. </PARAGRAPH>
<PARAGRAPH>Every subsystem in the distribution inventory that is marked with an I (installed) in the second column should also contain an i (install) in the first column. </PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Launch the installation.</PARAGRAPH>
<EXAMPLE>
Inst><USERINPUT>&space;go</USERINPUT>&space;
</EXAMPLE>
</LIST>
<LIST><PARAGRAPH>Quit Inst.</PARAGRAPH>
<EXAMPLE>
Inst><USERINPUT>&space;quit</USERINPUT>&space;
</EXAMPLE>
</LIST>
</ORDEREDLIST>
</SECTION2>
</SECTION1>
<SECTION1 LBL="" HELPID = ""><TITLE><XREFTARGET ID="12547">Installing Reference Pages</TITLE><PARAGRAPH>The reference pages (manual pages) that apply to a product are shipped as a software component of the product. For example, all reference pages and software for Digital Media Development software are shipped in a subsystem of the <INDEXTARGET ID="ch725"><!-- POSTPROCESSDATA: ch725|reference pages, installing --><INDEXTARGET ID="ch726"><!-- POSTPROCESSDATA: ch726|man pages. <ITALICS>See</ITALICS> reference pages. --><ITALICS>dmedia_dev</ITALICS> product. The subsystems containing reference pages consist exclusively of reference pages.</PARAGRAPH>
<PARAGRAPH>The software subsystems in a product usually have a corresponding reference page subsystem. The names of the software and reference page subsystems differ only in the image segment of the name. The name for a reference page subsystem always contains the letters <ITALICS>.man</ITALICS> in the image segment. For example, <ITALICS>dmedia_dev</ITALICS> contains the software subsystem <ITALICS>dmedia_dev.sw.movie</ITALICS> and a reference page subsystem called <ITALICS>dmedia_dev.man.movie.</ITALICS>&space;</PARAGRAPH>
<PARAGRAPH>When release notes accompany a product, the product contains an additional <ITALICS>.man</ITALICS> image that contains the release notes<FILENAME>&mdash;dmedia_dev.man.relnotes</FILENAME>, in this case. Some reference page subsystems contain reference pages for more than one software subsystem. When you receive your workstation and when you install a software option for the first time, be sure to check the status of reference page subsystems to verify that the reference pages that you want are installed.</PARAGRAPH>
<PARAGRAPH>The commands that follow are useful for checking and installing reference page subsystems.</PARAGRAPH>
<BULLETLIST><BULLET><PARAGRAPH>Check to see which reference page subsystems are installed:</PARAGRAPH>
<EXAMPLE>
# <INDEXTARGET ID="ch727"><!-- POSTPROCESSDATA: ch727|<ITALICS>showprods</ITALICS> command: for reference pages --><USERINPUT>showprods '*.*man*'</USERINPUT>&space;
</EXAMPLE>
</BULLET>
<BULLET><PARAGRAPH>List all reference page subsystems available for installation:</PARAGRAPH>
<EXAMPLE>
Inst> <USERINPUT>list *.*man*</USERINPUT>&space;
</EXAMPLE>
</BULLET>
<BULLET><PARAGRAPH>Select all reference page subsystems, not release notes, for installation:</PARAGRAPH>
<CODE>
Inst> <USERINPUT>install *.*man*</USERINPUT>&space;
Inst> <USERINPUT>keep *.*.relnotes</USERINPUT>&space;
</CODE>
</BULLET>
</BULLETLIST>
</SECTION1>
<SECTION1 LBL="" HELPID = ""><TITLE><XREFTARGET ID="39683">Reinstalling an Older Software Release</TITLE><PARAGRAPH>Inst is designed to install software products that are new to your workstation or newer than the currently installed version. When you want to install a version of <INDEXTARGET ID="ch728"><!-- POSTPROCESSDATA: ch728|older releases, installing  --><FILENAME>eoe </FILENAME>that is older than the currently installed version, the installation procedure must be modified. If you do not follow this modified procedure (for example, you use <INDEXTARGET ID="ch729"><!-- POSTPROCESSDATA: ch729|<ITALICS>neweroverride</ITALICS> preference, of <ITALICS>set</ITALICS> command --><COMMAND>set&nbsp;neweroverride&nbsp;on</COMMAND> instead), you may be left with configuration files that do not match the rest of the software. This can inhibit system reboots and make it difficult to diagnose compatibility problems.</PARAGRAPH>
<PARAGRAPH>The steps below describe the procedure for installing an older IRIX release after you have installed the new release. You should perform a complete system backup before performing this procedure. </PARAGRAPH>
<PARAGRAPH>In the procedure, you will back up your new, modified system configuration files, remove your new system software, and then install an older version. The final step is to integrate any modifications you made to your new configuration files into the restored, older configuration files.</PARAGRAPH>
<NOTE><PREFIX>Note</PREFIX>This procedure begins from the miniroot.</NOTE>
<PARAGRAPH>Before beginning this procedure, locate the older software distribution you will be downgrading to. Be sure that you have the installation tools (<FILENAME>sa</FILENAME> file) that accompanied the older distribution.</PARAGRAPH>
<ORDEREDLIST><LIST><PARAGRAPH>Load the miniroot from your current distribution.</PARAGRAPH>
<PARAGRAPH>Begin by loading the miniroot from your <ITALICS>current</ITALICS> distribution. (Refer to <XREF IDREF="47365" TYPE="TEXT"></XREF><XREF IDREF="47365" TYPE="TITLE">&ldquo;Starting a Miniroot Installation&rdquo; in Chapter&nbsp;3</XREF> for information on how to load the miniroot.)</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Invoke an IRIX shell.</PARAGRAPH>
<PARAGRAPH>Use the <COMMAND>shroot</COMMAND> command to escape to a root shell, enter <COMMAND>sh</COMMAND> to start a Bourne shell, and then use <COMMAND>showfiles</COMMAND> to create a list of modified configuration files:</PARAGRAPH>
<CODE>
Inst> <USERINPUT>shroot</USERINPUT>&space;
# <USERINPUT>sh</USERINPUT>&space;
# <USERINPUT>showfiles -s -c -m > /usr/tmp/configlist</USERINPUT>&space;
</CODE>
</LIST>
<LIST><PARAGRAPH>Edit the configuration files list (optional).</PARAGRAPH>
<PARAGRAPH>If you want to edit the list of configuration files to add additional files or remove unnecessary files, you can do so now by setting your <VARIABLE>TERM</VARIABLE> variable and using <COMMAND>vi(1)</COMMAND>:</PARAGRAPH>
<CODE>
# <USERINPUT>TERM=vt100; export TERM</USERINPUT>&space;
# <USERINPUT>vi /usr/tmp/configlist</USERINPUT>&space;
</CODE>
</LIST>
<LIST><PARAGRAPH>Create backup configuration files.</PARAGRAPH>
<PARAGRAPH>When you are satisfied with <FILENAME>/usr/tmp/configlist</FILENAME>, create the backup configuration files and then quickly replace the password and hosts files (in case of disaster while performing the rest of the procedure):</PARAGRAPH>
<CODE>
# <USERINPUT>sh -c `while read fname; do mv $fname $fname.bak; done'</USERINPUT> &lt; <USERINPUT>/usr/tmp/configlist</USERINPUT>&space;
# <USERINPUT>cp /etc/hosts.bak /etc/hosts</USERINPUT>&space;
# <USERINPUT>cp /etc/passwd.bak /etc/passwd</USERINPUT>&space;
# <USERINPUT>exit</USERINPUT>&space;
# <USERINPUT>exit</USERINPUT>&space;
Inst>
</CODE>
<NOTE><PREFIX>Note</PREFIX>The <ITALICS>&lt; /usr/tmp/configlist</ITALICS> portion that appears on the second line of this example should be included at the end of the first line in your entry.</NOTE>
</LIST>
<LIST><PARAGRAPH>Remove target software.</PARAGRAPH>
<PARAGRAPH>Remove all currently installed software. At the Inst prompt, enter the commands shown below. It is critical that you not give any other commands at the Inst prompt at this time. </PARAGRAPH>
<CODE>
Inst> <USERINPUT>set rulesoverride true</USERINPUT>&space;
Inst> <USERINPUT>view targ</USERINPUT>&space;
Inst> <USERINPUT>remove I</USERINPUT>&space;
Inst> <USERINPUT>go</USERINPUT>&space;
</CODE>
<PARAGRAPH>If you receive a device-busy error at this point and receive the Interrupt menu, select <ITALICS>continue</ITALICS>. When Inst is finished and you quit, you may be asked if you really want to quit. Enter <ITALICS>y</ITALICS> for yes.</PARAGRAPH>
<CODE>
Inst> <USERINPUT>quit</USERINPUT>&space;
Please wait ...
Ready to restart the system. Restart? { y(es), (n)o, (sh)ell, (h)elp } <USERINPUT>sh</USERINPUT>&space;
</CODE>
</LIST>
<LIST><PARAGRAPH>Enter the <COMMAND>sh</COMMAND> command to get a shell prompt.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Remove installation history files.</PARAGRAPH>
<PARAGRAPH>After escaping to the shell, remove all files that make up what is known as your installation history and then restart the system:</PARAGRAPH>
<CODE>
# <USERINPUT>rm -rf /root/var/inst</USERINPUT>&space;
# <USERINPUT>exit</USERINPUT>&space;
Ready to restart the system. Restart? { y(es), (n)o, (sh)ell, (h)elp } <USERINPUT>y</USERINPUT>&space;
</CODE>
</LIST>
<LIST><PARAGRAPH>Load the miniroot from the <ITALICS>older</ITALICS> distribution. </PARAGRAPH>
<PARAGRAPH>Use the older software distribution that you located at the beginning of this procedure to load the miniroot and invoke Inst; be sure that the installation tools and the software version match. </PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Install the older software version. </PARAGRAPH>
<PARAGRAPH>Remember that Inst no longer has valid software installation information about this system, so its initial selections are the default selections (see <XREF IDREF="96877" TYPE="TITLE">&ldquo;Required and Default Subsystems&rdquo;</XREF>). Use Inst to specifically select for installation any additional software you wish to install. </PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Reboot your system.</PARAGRAPH>
</LIST>
<LIST><PARAGRAPH>Merge configuration files.</PARAGRAPH>
<PARAGRAPH>In IRIX, merge <FILENAME>config.bak</FILENAME> files (listed in <FILENAME>/usr/tmp/configlist</FILENAME>) with the restored configuration files. </PARAGRAPH>
<PARAGRAPH>If you created a backup copy of customized configuration files (described in <XREF IDREF="78328" TYPE="TITLE">&ldquo;Backing Up the Target Systems&rdquo;</XREF>) when you were running this release earlier, you should be able to restore the configuration files from that backup and use them. Add any new configuration information that has been added since they were last used.</PARAGRAPH>
<PARAGRAPH>If you have no backup of the current system files, compare the <FILENAME>.bak</FILENAME> and installed versions of the files in <FILENAME>/usr/tmp/configlist</FILENAME>, then make the required changes using a process similar to the one for merging configuration files described in <XREF IDREF="71555" TYPE="TITLE">&ldquo;Merging Configuration Files&rdquo;</XREF>. Be careful not to introduce new features from the later release.</PARAGRAPH>
</LIST>
</ORDEREDLIST>
<PARAGRAPH>If you modified any configuration files, you should restart the system now to boot from the desired configuration.</PARAGRAPH>
</SECTION1>
<SECTION1 LBL="" HELPID = ""><TITLE><XREFTARGET ID="43281">Avoiding Compatibility Problems</TITLE><PARAGRAPH>Although some compatibility information is contained in the product descriptions that Inst reads when it accesses a software distribution, Inst allows you to install incompatible software in many situations. The list below contains guidelines for avoiding compatibility problems.<INDEXTARGET ID="ch730"><!-- POSTPROCESSDATA: ch730|compatibility errors, avoiding --><INDEXTARGET ID="ch731"><!-- POSTPROCESSDATA: ch731|subsystems: installing incompatible --><INDEXTARGET ID="ch732"><!-- POSTPROCESSDATA: ch732|error: software compatibility --></PARAGRAPH>
<BULLETLIST><BULLET><PARAGRAPH>Inst tells you about incompatible subsystems when you try to install them. To learn about these incompatibilities earlier, check the release notes for the products that you plan to install. </PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH>All subsystems of a product should have the same release number. When in doubt, give the <COMMAND>showprods</COMMAND> command with the <INDEXTARGET ID="ch733"><!-- POSTPROCESSDATA: ch733|<ITALICS>showprods</ITALICS> command: for displaying release numbers --><COMMAND>-n </COMMAND>argument:</PARAGRAPH>
<EXAMPLE>
% <USERINPUT>showprods -n</USERINPUT>&space;<VARIABLE>names</VARIABLE>&space;
</EXAMPLE>
<PARAGRAPH>The column that normally contains the installation date contains a number instead. Make sure that all subsystems in each product have the same number. If there are subsystems from different releases in the same product, compatibility problems might result.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH>When you receive a software update, install the new versions of all the products you receive, not just some of them.</PARAGRAPH>
</BULLET>
<BULLET><PARAGRAPH>If any subsystems that you want to install require a miniroot installation, perform all installations during a single miniroot installation session. Performing a single installation prevents incompatibilities that can occur when you switch from one installation to another.</PARAGRAPH>
</BULLET>
</BULLETLIST>
</SECTION1>
<SECTION1 LBL="" HELPID = ""><TITLE><XREFTARGET ID="50243">Removing Software</TITLE><PARAGRAPH>You can remove software from a target system using the <INDEXTARGET ID="ch734"><!-- POSTPROCESSDATA: ch734|software products: removing --><COMMAND>versions remove</COMMAND> command (see the <REFPAGE>versions</REFPAGE> reference page). When you use this command, inst is invoked to perform the removal without user intervention. The subsystems, images, or products to be removed are specified as arguments to the command. For example, this command removes the entire 4DDN product and all release notes from the target: </PARAGRAPH>
<CODE>
# versions remove 4DDN *.man.relnotes
</CODE>
<PARAGRAPH>To remove all installed software from the target system, you must perform a miniroot installation; you cannot remove all software during a live install, since the miniroot is needed to supply the functions that sustain the system until critical software is replaced. Because removing all software is not desirable under most circumstances, Inst behavior is overridden to perform this procedure.<INDEXTARGET ID="ch735"><!-- POSTPROCESSDATA: ch735|removing: all software --><INDEXTARGET ID="ch736"><!-- POSTPROCESSDATA: ch736|target inventory: removing  --><INDEXTARGET ID="ch737"><!-- POSTPROCESSDATA: ch737|miniroot installation: conditions requiring --></PARAGRAPH>
<PARAGRAPH>Follow these instructions to remove all installed software.</PARAGRAPH>
<ORDEREDLIST><LIST><PARAGRAPH>Override Inst rules:<INDEXTARGET ID="ch738"><!-- POSTPROCESSDATA: ch738|<ITALICS>rulesoverride</ITALICS> preference of the <ITALICS>set</ITALICS> command --></PARAGRAPH>
<EXAMPLE>
Inst> <USERINPUT>set rulesoverride on</USERINPUT>&space;
</EXAMPLE>
</LIST>
<LIST><PARAGRAPH>Select installed subsystems for removal:</PARAGRAPH>
<EXAMPLE>
Inst> <USERINPUT>remove I</USERINPUT>&space;
</EXAMPLE>
</LIST>
<LIST><PARAGRAPH>Start the removal:</PARAGRAPH>
<EXAMPLE>
Inst> <USERINPUT>go</USERINPUT>&space;
</EXAMPLE>
</LIST>
</ORDEREDLIST>
<PARAGRAPH>When you remove software, any configuration files that have been modified are not removed. This preserves any local information that might have been added. To list configuration files, enter the <INDEXTARGET ID="ch739"><!-- POSTPROCESSDATA: ch739|configuration files:not removed --><INDEXTARGET ID="ch740"><!-- POSTPROCESSDATA: ch740|<ITALICS>showfiles</ITALICS> command: to list configuration files --><COMMAND>showfiles -cCH</COMMAND> command from an IRIX shell.</PARAGRAPH>
</SECTION1>
</CHAPTER>
