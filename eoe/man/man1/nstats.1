.TH nstats 1
.SH NAME
\f3nstats\f1 \- NUMA Memory Management Statistics
.SH SYNOPSIS
.nf
nstats [\f2node-path\f1] [\f3-hav\f1] [\f3-r\f1 \f2command\f1]
.fi

.SH DESCRIPTION
Display the absolute NUMA Memory Management statistics, or display
the relative NUMA Memory Management statistics after running a command.

.SH OPTIONS
.TP
\f3-h\f1
Print a small summary of usage.
.TP
\f3-a\f1
Print absolute statistics for all nodes in the system.
.TP
\f3-r\f1
Run the command specified by \f2command\f1 and display the relative
statistics at the end of the command. Nstats samples the absolute
statistics before running the command and after running the command.
When the command exits, nstats displays the difference between the two samples.

.SH OUTPUT
.TP
\f3Migration Threshold\f1
Current migration threshold for this node expressed as a percentage of
the maximum threshold supported by the memory reference counters.
This maximum threshold is shown by the sn(1) command, and it can be set
by the system administrator to be either 2047 or 524287. Only machines
with PREMIUMM directory memory support the higher value of 524287.
The migration threshold determines how aggressively the system is
trying to migrate memory to the nodes that are issuing most memory
accesses to a page of memory. Migration is requested when the difference
between the number of local accesses and the number of remote accesses
exceeds the number defined by the \f3migration threshold\f1.

.TP
\f3Counter Interrupts\f1
This is the number of interrupts generated by the memory reference counters,
including interrupts for migration and interrupts for updating the extended
memory reference counters (refcnt(5)).

.TP
\f3Auto Migrations To Node\f1
Number of pages automatically migrated to a node.

.TP
\f3Auto Migrations From Node\f1
Number of pages automatically migrated out of a node.

.TP
\f3Auto Migration Skips\f1
Rejected automatic migration requests due to a page being frozen or not
in a migratable state.

.TP
\f3User Migrations To Node\f1
Number of pages migrated to a node due to an explicit user migration request.

.TP
\f3User Migrations From Node\f1
Number of pages migrated out of a node due to an explicit user migration request.

.TP
\f3User Migration Skips\f1
Rejected user migration requests due to a page being frozen or not
in a migratable state.

.TP
\f3CoalD Migrations To Node\f1
Number of pages migrated to a node due large page coalescing.

.TP
\f3CoalD Migrations From Node\f1
Number of pages migrated from a node due to large page coalescing.

.TP
\f3CoalD Migration Skips\f1
Rejected large page coalescing migration requests due to a page being frozen or not
in a migratable state.

.TP
\f3Frozen Pages In Node\f1
Pages frozen due to excessive migration.

.TP
\f3Melted Pages In Node\f1
Pages melted (unfrozen) after having been frozen for a period of time.

.P
.SH EXAMPLE

To display the NUMA statistics for all nodes
.nf.
   $ nstats -a
.fi
To run a command and display NUMA statistics at the end
.nf
   $ nstats -r ls -l
.fi

.P
.SH RESTRICTIONS

All statistics are global. 


.SH SEE ALSO
\f3numa\f1(5),
\f3refcnt\f1(5),
\f3gr_sn\f1(1),
\f3sn\f1(1), 
\f3gr_nstats\f1(1).


