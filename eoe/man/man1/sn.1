.TH SN 1
.SH NAME
\f3sn\f1 \- NUMA Memory Management Configuration Tool
.SH SYNOPSIS
.nf
sn [\f3-vsah\f1]
   [\f3-b\f1 \f2on|off\f1] 
   [\f3-m\f1 \f2on|off|fon|foff\f1]
   [\f3-t\f1 \f2threshold\f1]
   [\f3-z\f1 \f2distance\f1] 
   [\f3-u\f1 \f2on|off\f1]
   [\f3-p\f1 \f2threshold\f1]
   [\f3-w\f1 \f2interval\f1]
   [\f3-i\f1 \f2on|off\f1]
   [\f3-f\f1 \f2factor\f1]
   [\f3-r\f1 \f2on|off|fon|foff\f1]
   [\f2node-path\f1]
.fi

.SH DESCRIPTION
The current NUMA configuration parameters are set according to
specifications and/or  displayed for the given \f2node-path\f1
or all nodes in the system.


.SH OPTIONS
.TP
\f3-v\f1
Show all configuration parameters.
.TP
\f3-s\f1
Silent operation. Just set specified parameters.
.TP
\f3-a\f1
Apply requested operation to all nodes in the system.
.TP
\f3-h\f1
Print brief usage summary.
.TP
\f3-b\f1 \f2on|off\f1
Turn BTE (Block Transfer Engine) on/off for dynamic migration.
.TP
\f3-m\f1 \f2on|off|fon|foff\f1
Set the default dynamic migration mode; \f2on\f1 sets the default
to migration enabled and users can override the default on a per
address space basis; \f2off\f1 sets the default to migration off
and users can override the default on a per address space
basis; \f2foff\f1 completely disables migration and \f2fon\f1
forces migration to be enabled.
.TP
\f3-t\f1 \f2threshold\f1
Set the dynamic migration threshold to \f2threshold\f1. This
\f2threshold\f1  is a percentage of the maximum possible difference
between a local and a remote memory reference counter.
.TP
\f3-z\f1 \f2distance\f1
Set the cutoff distance for migration to \f2distance\f1. This is
the minimum distance between a source and a destination node
required for migration to take place.
.TP
\f3-u\f1 \f2on|off\f1
Turn the memory reference counter unpegger on/off.
.TP
\f3-p\f1 \f2threshold\f1
Set the pegged level to \f2threshold\f1. This \f2threshold\f1 is a
percentage of the maximum count a memory reference counter can hold.
.TP
\f3-w\f1 \f2interval\f1
Set the unpegger period to \f2interval\f1. This \f2interval\f1 is in
seconds and specifies how often the unpegger should be waken up to check
the memory reference counters in every node, and reset those counters
that have reached a pegged level.
.TP
\f3-i\f1 \f2on|off\f1
Enable or disable migration dampening.
.TP
\f3-f\f1 \f2factor\f1
Set the migration dampening factor. This factor is a percentage of the
maximum possible dampening factor (4 for Origin 2000 systems).
.TP
\f3-r\f1 \f2on|off|fon|foff\f1
Set the default reference counting mode; \f2on\f1 sets the default
to enabled and users can override the default on a per
address space basis; \f2off\f1 sets the default to disabled
and users can override the default on a per address space
basis; \f2foff\f1 completely disables reference counting and \f2fon\f1
forces reference counting to be enabled.
.P
.SH EXAMPLE

To turn migration off for all nodes:
.nf.
   $ sn -a -m off
.fi
To turn migration on with a threshold of 34%:
.nf
   $ sn -a -m on -t 34
.fi

To enable the extended reference counters on all nodes:
.nf
   $ sn -a -r on
.fi


.P
.SH RESTRICTIONS

Only the superuser or users with the MEMORY_MGT capability are
allowed to use this command to change numa parameters.
.SH SEE ALSO
\f3numa\f1(5),
\f3refcnt\f1(5),
\f3gr_sn\f1(1),
\f3nstats\f1(1), 
\f3gr_nstats\f1(1).


