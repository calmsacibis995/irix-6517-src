'\"macro stdmacro
.\" @(#)getdomainname.2 1.1 85/12/28 SMI
.TH getdomainname 2
.SH NAME
getdomainname, setdomainname \- get/set name of current NIS domain
.SH SYNOPSIS
.nf
\f3int getdomainname(char \(**name, int namelen);\f1
.sp .6v
\f3int setdomainname(char \(**name, int namelen);\f1
.fi
.SH DESCRIPTION
.LP
.IX  getdomainname  ""  \f2getdomainname\fP
.IX  "processes and protection"  getdomainname  ""  \f2getdomainname\fP
.IX  domain  "get name of current"
.IX  "get current domain name"
.IX  setdomainname  ""  \f2setdomainname\fP
.IX  "processes and protection"  setdomainname  ""  \f2setdomainname\fP
.IX  domain  "set name of current"
.IX  "set current domain name"
.I Getdomainname
returns the name of the NIS domain for the current host, as previously
set by
.IR setdomainname .
The parameter
.I namelen
specifies the size of the
.I name
array.
The returned name is null-terminated unless insufficient space
is provided.
.LP
.I Setdomainname
sets the NIS domain of the host to be
.IR name ,
which has length
.IR namelen .
This call is restricted to the superuser and is normally used only
during system initialization.
.LP
The purpose of NIS domains is to enable two distinct networks that may have
hostnames in common to merge.
Each network would be distinguished by
having a different NIS domain name.
.SH "RETURN VALUE"
If the call succeeds a value of 0 is returned.
If the call fails, then
a value of \-1 is returned and an error code is placed in the global
variable \f2errno\fP.
.SH "ERRORS"
The following errors may be returned by these calls:
.TP 15
[EFAULT]
The \f2name\fP parameter gave an invalid address.
.TP 15
[EPERM]
The caller was not the superuser.
This error only applies to
\f2setdomainname\f1.
.SH BUGS
NIS domain names are limited to 64 characters.
.SH NOTE
This call is provided for backward compatibility with pre-IRIX 5.0 applications.
