.TH dmi 2
.SH NAME
dmi \- \&DMAPI internal system call
.SH SYNOPSIS
.nf
\f3#include <sys/dmi_kern.h>\f1
.sp .8v
\f3int dmi (int opcode, ...);\f1
.fi
.SH DESCRIPTION
\f2dmi\f1 is a system interface specific to Silicon Graphics
systems.
It is used to implement the interface defined in the X/Open document:
\f3Systems Management: Data Storage Managment (XDSM) API\f1
dated February 1997.
This interface is available made available on Silicon Graphics systems 
by means of the \f3libdm\f1 library.
.PP
The value of the \f2opcode\f1 parameter determines the meaning
of the remaining arguments.
These are all interfaces that are used
to implement various \f2libdm\fP functions.
The only filesystem that supports these operations is XFS.
They are all subject to change,
should not be called
directly by applications,
and are not described further.
The valid opcodes are:
.PD
.PP
.nf
.B DM_CLEAR_INHERIT
.B DM_CREATE_BY_HANDLE
.B DM_CREATE_SESSION
.B DM_CREATE_USEREVENT
.B DM_DESTROY_SESSION
.B DM_DOWNGRADE_RIGHT
.B DM_FD_TO_HANDLE
.B DM_FIND_EVENTMSG
.B DM_GET_ALLOCINFO
.B DM_GET_BULKALL
.B DM_GET_BULKATTR
.B DM_GET_CONFIG
.B DM_GET_CONFIG_EVENTS
.B DM_GET_DIOINFO
.B DM_GET_DIRATTRS
.B DM_GET_DMATTR
.B DM_GET_EVENTLIST
.B DM_GET_EVENTS
.B DM_GET_FILEATTR
.B DM_GET_MOUNTINFO
.B DM_GET_REGION
.B DM_GETALL_DISP
.B DM_GETALL_DMATTR
.B DM_GETALL_INHERIT
.B DM_GETALL_SESSIONS
.B DM_GETALL_TOKENS
.B DM_INIT_ATTRLOC
.B DM_MKDIR_BY_HANDLE
.B DM_MOVE_EVENT
.B DM_OBJ_REF_HOLD
.B DM_OBJ_REF_QUERY
.B DM_OBJ_REF_RELE
.B DM_PATH_TO_FSHANDLE
.B DM_PATH_TO_HANDLE
.B DM_PENDING
.B DM_PROBE_HOLE
.B DM_PUNCH_HOLE
.B DM_QUERY_RIGHT
.B DM_QUERY_SESSION
.B DM_READ_INVIS
.B DM_RELEASE_RIGHT
.B DM_REMOVE_DMATTR
.B DM_REQUEST_RIGHT
.B DM_RESPOND_EVENT
.B DM_SEND_MSG
.B DM_SET_DISP
.B DM_SET_DMATTR
.B DM_SET_EVENTLIST
.B DM_SET_FILEATTR
.B DM_SET_INHERIT
.B DM_SET_REGION
.B DM_SET_RETURN_ON_DESTROY
.B DM_SYMLINK_BY_HANDLE
.B DM_SYNC_BY_HANDLE
.B DM_UPGRADE_RIGHT
.B DM_WRITE_INVIS
.fi
.sp .8v
.SH ERRORS
The following error codes may be returned by
.IR dmi :
.TP 12
\&[EFAULT\&]
A buffer is referenced which is not in a valid part of the calling program's
address space.
.TP
\&[EPERM\&]
The effective user ID is not superuser.
.TP
\&[EINVAL\&]
An invalid parameter or parameter combination was specified.
.SH "DIAGNOSTICS"
Upon successful completion, a command dependent value (default of zero) is
returned.
Otherwise, a value of \-1 is returned and
\f2errno\f1
is set to indicate the error.
