<html>
<head>
<title>SGI Embedded Support Partner - ver.1.0</title>
<script language="JavaScript">
<!--
function showMap()
{ var map=window.open('/help_userconfig.html', 'help', 
  'width=650,height=350,status=yes,scrollbars=yes,resizable=yes');
  map.main=self;
  map.main.name="sss_main";
  map.focus();
}

function clearForm1(form) {
  form.old_uname.value = "";
  form.new_uname.value = "";
}

function clearForm2(form) {
  form.old_passwd.value = "";
  form.new_passwd.value = "";
  form.passwd_reenter.value = "";
}

function checkString(inputVal,fieldname)
{ var inputStr = inputVal.toString()
  if(inputStr.charAt(0) == " ")
  { var i = 1;
    while(inputStr.charAt(i) == " ")
      i++;
  }
  else
  { for(var j = 0;j < inputStr.length; j++)
    { var oneChar = inputStr.charAt(j);
      if(oneChar == "\"")
      { alert("String " + fieldname + " should not contain \"\"");
        return false;
      }
      if(oneChar == "*")
      { alert("String " + fieldname + " should not contain \"*\"");
        return false;
      }
      if(oneChar == "&")
      { alert("String " + fieldname + " should not contain \"&\"");
        return false;
      }
      if(oneChar == ":")
      { alert("String " + fieldname + " should not contain \":\"");
        return false;
      }
    }
    return true;
  }
  if(i != inputStr.length) { alert("String " + fieldname + " cannot contain leading spaces."); return false; }
  else { alert("String " + fieldname + " cannot contain only spaces."); return false; }
  return true;
}

function validateName(uname_config)
{ if(uname_config.old_uname.value == "")
  { alert("You must enter current username");
    uname_config.old_uname.focus()
    return false;
  }
  if (!checkString(uname_config.old_uname.value, "current username")) return false;
  if(uname_config.new_uname.value == "")
  { alert("You must enter a new username");
    uname_config.new_uname.focus()
    return false;
  }
  if (!checkString(uname_config.new_uname.value, "new username")) return false;
  if(uname_config.old_uname.value == uname_config.new_uname.value)
  { msg1 = "New and current username are the same.\nNothing to update.";
    alert(msg1);
    return false;
  }
  return true;
}

function validatePasswd(server_config)
{ if(server_config.old_passwd.value == "")
  { alert("You must enter current password");
    server_config.old_passwd.focus()
    return false;
  }
  if (!checkString(server_config.old_passwd.value, "current password")) return false;
  if(server_config.new_passwd.value == "")
  { alert("You must enter a new password");
    server_config.new_passwd.focus()
    return false;
  }
  if (!checkString(server_config.new_passwd.value, "new password")) return false;
  if(server_config.passwd_reenter.value == "")
  { alert("You must re-enter a password for verification");
    server_config.passwd_reenter.focus()
    return false;
  }
  if (!checkString(server_config.passwd_reenter.value, "re-entered new password")) return false;
  if(server_config.new_passwd.value != server_config.passwd_reenter.value)
  { alert("Entered password does not match");
    server_config.new_passwd.focus()
    server_config.new_passwd.select()
    return false;
  }
  if(server_config.old_passwd.value == server_config.new_passwd.value)
  { msg1 = "New and current password are the same.\nNothing to update.";
    alert(msg1);
    return false;
  }
  return true;
}
//-->
</script>
</head>
<body bgcolor="#ffffcc">
<table border=0 cellpadding=0 cellspacing=0 width=100%>
<tr><TD bgcolor="#cccc99" width="15">&nbsp;</TD>
    <td bgcolor="#cccc99"><font face="Arial,Helvetica">SETUP &gt; Global &gt; Server &gt; Username & Password Change</font></td></tr>
<tr><td colspan=2>&nbsp;</td></tr>
<tr><td align=right colspan=2><font face="Arial,Helvetica"><form method="POST"><input TYPE="button" onClick="showMap()" Value="   Help   "></form></font></td></tr>
<tr><td colspan=2>&nbsp;</td></tr>
<tr><td></td>
    <td><table border=0 cellpadding=0 cellspacing=0>
        <tr valign=top><td><font face="Arial,Helvetica" color="#ff3300"><b>Warning: </b></font></td>
            <td><font face="Arial,Helvetica">All changes take effect immediately.</font></td></tr>
    </table><p>
<form onSubmit="return validateName(this)" method="POST" name ="uname_config"
 action="/$sss/rgs/rgpssrvconf~setuname~old_uname~new_uname~server_userconfig_chgname.html~server_ip_rend.html~server_err_uname.html">
    <table border=4 cellpadding=6 cellspacing=1 width=400>
    <th colspan=2><font face="Arial,Helvetica">Change username</font></th>
    <tr><td width=150><font face="Arial,Helvetica">Enter old username:</font></td>
        <td><font face="Arial,Helvetica"><input type="text" name="old_uname" size=20></font></td></tr>
    <tr><td><font face="Arial,Helvetica">Enter new username:</font></td>
        <td><font face="Arial,Helvetica"><input type="text" name="new_uname" size=20></font></td></tr>
    <tr><td colspan=2 align=center><font face="Arial,Helvetica"><input type="submit" value=" Change Username ">
	&nbsp;&nbsp;&nbsp;
	<input type="button" value=" Clear " onClick="clearForm1(this.form)";></font></td></tr>
    </table><p>
</form>
<form onSubmit="return validatePasswd(this)" method="POST" name ="server_config"
 action="/$sss/rgs/rgpssrvconf~setpasswd~old_passwd~new_passwd~passwd_reenter~server_userconfig_chgpwd.html~server_err_newpsswd.html~server_err_oldpsswd.html">
    <table border=4 cellpadding=6 cellspacing=1 width=400>
    <th colspan=2><font face="Arial,Helvetica">Change password</font></th>
    <tr><td  width=150><font face="Arial,Helvetica">Enter old password:</font></td>
        <td><font face="Arial,Helvetica"><input type="password" name="old_passwd" size=20></font></td></tr>
    <tr><td><font face="Arial,Helvetica">Enter new password:</font></td>
        <td><font face="Arial,Helvetica"><input type="password" name="new_passwd" size=20></font></td></tr>
    <tr><td><font face="Arial,Helvetica">Re-enter new password:&nbsp;&nbsp;</font></td>
        <td><font face="Arial,Helvetica"><input type="password" name="passwd_reenter" size=20></font></td></tr>
    <tr><td colspan=2 align=center><font face="Arial,Helvetica"><input type="submit" value=" Change Password ">
        &nbsp;&nbsp;&nbsp;
        <input type="reset" value=" Clear " onClick="clearForm2(this.form)";></font></td></tr>
    </table>
</form>
</font></td></tr>
</table>
</body>
</html>

