<html><head>
<title>SGI Embedded Support Partner - ver.1.0</title>
<script language="JavaScript">
<!--
function showMap()
{ var map=window.open('help.html', 'help', 
  'width=650,height=350,status=yes,scrollbars=yes,resizable=yes');
  map.main=self;
  map.main.name="sss_main";
  map.focus();
}

function isPosInt(inputVal)
{ var inputStr = inputVal.toString()
  for(var i = 0;i < inputStr.length; i++)
  { var oneChar = inputStr.charAt(i);
    if(oneChar < "0" || oneChar > "9") return false;
  }
  return true;
}

function clearForm(av_config_form) {
  for(i = 0; i < av_config_form.av_autoemail.length; i++)
  { av_config_form.av_autoemail[i].checked = 0;
  }
  for(i = 0; i < av_config_form.av_shutdown.length; i++)
  { av_config_form.av_shutdown[i].checked = 0;
  }
  for(i = 0; i < av_config_form.av_hinv.length; i++)
  { av_config_form.av_hinv[i].checked = 0;
  }
  for(i = 0; i < av_config_form.av_uptimed.length; i++)
  { av_config_form.av_uptimed[i].checked = 0;
  }
  av_config_form.av_daysupdate.value = "";
  av_config_form.av_tickduration.value = "";

}

function checkData(av_config_form)
{ var autoEmailChoice = -1;
  var sutdownChoice = -1;
  var hinvChoice = -1;
  var uptimedChoice = -1;
  for(i = 0; i < av_config_form.av_autoemail.length; i++)
  { if(av_config_form.av_autoemail[i].checked)
      autoEmailChoice = i;
  }
  for(i = 0; i < av_config_form.av_shutdown.length; i++)
  { if(av_config_form.av_shutdown[i].checked)
      sutdownChoice = i;
  }
  for(i = 0; i < av_config_form.av_hinv.length; i++)
  { if(av_config_form.av_hinv[i].checked)
      hinvChoice = i;
  }
  for(i = 0; i < av_config_form.av_uptimed.length; i++)
  { if(av_config_form.av_uptimed[i].checked)
      uptimedChoice = i;
  }
  if(autoEmailChoice == -1 && sutdownChoice == -1 && hinvChoice == -1 &&  uptimedChoice ==-1 && av_config_form.av_daysupdate.value == "" && av_config_form.av_tickduration.value == "")
  { alert("Nothing to setup");
    return false;
  }
  if(autoEmailChoice == -1)
  { alert("You must enable or disable automatic email distribution");
    return false;
  }
  msg1 = "\n\nAutomatic e-mail distribution = " + av_config_form.av_autoemail[autoEmailChoice].value;
  if(sutdownChoice == -1)
  { alert("You must enable or disable display of shutdown reason");
    return false;
  }
  msg1 += "\nDisplay of shutdown reason = " + av_config_form.av_shutdown[sutdownChoice].value;
  if(hinvChoice == -1)
  { alert("You must choose to include HINV information into e-mail or not")
    return false;
  }
  msg1 += "\nInclude HINV information into e-mail = " + av_config_form.av_hinv[hinvChoice].value;
  if(uptimedChoice == -1)
  { alert("You must to choose to start uptime deamon or not");
    return false;
  }
  msg1 += "\nStart uptime daemon = " + av_config_form.av_uptimed[uptimedChoice].value;
  if(!isPosInt(av_config_form.av_daysupdate.value) || av_config_form.av_daysupdate.value > 300)
  { msg1 = "Incorrect entry for number of days between status updates\nMust be less or equal to 300 days";
    alert(msg1);
    return false;
  }
  if(av_config_form.av_daysupdate.value == "")
    av_config_form.av_daysupdate.value = "60";
  msg1 += "\nNumber of days between status updates = " + av_config_form.av_daysupdate.value;
  if(!isPosInt(document.av_config_form.av_tickduration.value) || document.av_config_form.av_tickduration.value > 600)
  { msg1 = "Incorrect entry for time interval between uptime check\nMust be less or equal to 600 seconds";
    alert(msg1);
    return false;
  }
  if(document.av_config_form.av_tickduration.value == "")
    document.av_config_form.av_tickduration.value = "300";
  msg1 += "\nInterval in seconds between uptime check = " + document.av_config_form.av_tickduration.value;
  return window.confirm("You entered the following configuration for Availmon Monitor setup:" + msg1);
}
//-->
</script>
</head>
<body bgcolor="#ffffcc" link="#333300" vlink="#333300">
<a href="/$sss/$nocache"></a>
<form onSubmit="return checkData(this)" method=POST action="/$sss/rgs/libavailability~AVAILMON_CONFIG_CONFIRM" name = "av_config_form">
<table border=0 cellpadding=0 cellspacing=0 width=100%>
<tr><TD bgcolor="#cccc99" width="15">&nbsp;&nbsp;&nbsp;</td>
    <td bgcolor="#cccc99"><font face="Arial,Helvetica">SETUP &gt; Availmon Monitor &gt; Configuration</font></td></tr>
<tr><td colspan=2>&nbsp;</td></tr>
<tr><td align=right colspan=2><font face="Arial,Helvetica"><input TYPE="button" onClick="showMap()" Value="   Help   "></font></td></tr>
<tr><td colspan=2>&nbsp;</td></tr>
<tr><td></td><td>
<a href="/$sss/rg/libavailability~AVAILMON_CONFIG">AVAILMON_CONFIG</a>
<p>
<table border=0 cellpadding=0 cellspacing=0>
    <tr valign=top><td><font face="Arial,Helvetica" color="#666633"><b>Tip: </b></font></td>
    <td><font face="Arial,Helvetica">If the automatic e-mail option is enabled, you must complete <a href="av_emails.html">SETUP:&nbsp;Availability&nbsp;Monitor:&nbsp;Availability&nbsp;MailList</a>.</font></td></tr>
</table>
<p><font face="Arial,Helvetica">
<INPUT TYPE="SUBMIT" VALUE="   Accept   ">&nbsp;&nbsp;&nbsp;<input type="button" value="   Clear   " onClick="clearForm(this.form)";></font></td></tr></table>
<INPUT TYPE="hidden" name="pageselect" value=1>
</form>
</body>
</html>
